"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8033],{37324:function(e,t,n){n.d(t,{G:function(){return r},u:function(){return i}});var i=function(e){var t,n=0;for(t=0;t<e.length;t+=1)n=e.charCodeAt(t)+((n<<5)-n);var i="#";for(t=0;t<3;t+=1){var r=n>>8*t&255;i+="00".concat(r.toString(16)).slice(-2)}return i},r=function(e){return{sx:{bgcolor:i(e)},children:"".concat(e.split(" ")[0][0]).concat(e.split(" ")[1][0])}}},38033:function(e,t,n){n.d(t,{Z:function(){return tc}});var i,r=n(10367),o=n(5616),a=n(61730),s=n(22430),d=n(98700),c=n(72936),l=n(28618),h=n(49396),u=n(4730),p=n(59499),f=n(67294),v=n(41664),m=n.n(v),b=n(73987),g=n(90948),x=n(77533),j=n(98619),w=n(69661),y=n(93946),P=n(26447),Z=n(15861),C=n(326),O=n(97372),k=n(61896),S=n(25213),M=n(73752),I=n(39646),_=n(11214),D=n(86510),N=n(69308),A=n(94229),L=n(15567);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){(0,p.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=function e(t){var n=[];return t.forEach(function(t){if(!t.hide){if(t.children){var i=e(t.children);i.length&&n.push(R(R({},t),{},{children:i}))}else n.push(t)}}),n},z=function(e){var t=e.hasSageIntegration,n=e.hasXeroIntegration,i=e.hasAssetModule,r=e.hasWorkflows,o=e.hasDataReports,a=e.hasDataCharts,s=e.isMobile;return E([{id:"navCreateJob",type:"actionButton",title:"Create work order",href:"/dashboard/issues/manage",icon:k.Z},{id:"navDashboardDrop",href:"/dashboard",icon:L.Z,title:"Dashboard",children:[{id:"navDashboard",title:"Dashboard",href:"/dashboard"},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot"},{id:"navTasks",title:"Tasks",href:"/dashboard/tasks"},{id:"navSearch",title:"Search",href:"/dashboard/search"}]},{id:"navWorkOrders",href:"/dashboard",icon:S.Z,title:"Work Orders",children:[{id:"navReactive",title:"Reactive",href:"/dashboard/issues"},{id:"navReactiveCreate",title:"Create Reactive",href:"/dashboard/issues/manage"},{id:"navQuote",title:"Quotes",href:"/dashboard/quotes"},{id:"navQuoteCreate",title:"Create Quote",href:"/dashboard/issues/manage?quoted=1"},{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"},{id:"NavPpmSchedules",title:"PPM Schedules",href:"/dashboard/scheduledjob"}]},{id:"navCustomersDrop",href:"/dashboard",title:"Customers",icon:M.Z,children:[{id:"navCustomers",title:"List",href:"/dashboard/customers"},{id:"navCustomersCreate",title:"Create",href:"/dashboard/customers/manage"}]},{id:"navLocationsDrop",href:"/dashboard",title:"Locations",icon:N.Z,children:[{id:"navLocations",title:"List",href:"/dashboard/properties"},{hide:!i,id:"navAssets",title:"Assets",href:"/dashboard/assets"}]},{id:"navSuppliersDrop",href:"/dashboard",title:"Suppliers",icon:I.Z,children:[{id:"navSuppliers",title:"List",href:"/dashboard/suppliers"},{id:"navSuppliersCreate",title:"Create",href:"/dashboard/suppliers/create"}]},{id:"navAutomations",href:"/dashboard",title:"Automation",icon:_.Z,children:[{id:"navEvents",title:"Events",href:"/dashboard/communications"},{hide:!r||s,id:"navWorkflowsFind",title:"Workflows",href:"/dashboard/workflows"}]},{id:"navData",href:"/dashboard",title:"Data",icon:D.Z,children:[{id:"navDataBusiness",title:"Charts",hide:!a,href:"/dashboard/data/business"},{id:"navDataFinancial",title:"Financial",href:"/dashboard/data/financial"},{id:"navFinancialReports",title:"Reports",hide:!o,href:"/dashboard/data/reports"},{hide:!t,id:"navPostAccounts",title:"Post Accounts",href:"/dashboard/data/postAccounts"},{hide:!n,id:"navXeroInvoices",title:"Xero",href:"/dashboard/data/xero"},]},{id:"navAccount",icon:A.Z,href:"/dashboard",title:"System settings",children:[{id:"navSettings",title:"System Settings",href:"/dashboard/settings/settings"},{id:"navAccount",title:"Company",href:"/dashboard/admins/view"},{id:"navAccounts",title:"Accounts",href:"/dashboard/account"},{id:"navUsers",title:"Users",href:"/dashboard/users"},{id:"navMedia",title:"Media",href:"/dashboard/media"},{id:"navServices",title:"Services",href:"/dashboard/services"},{id:"navCoverage",title:"Coverage",href:"/dashboard/coverage"},{id:"navSlas",title:"SLAs",href:"/dashboard/slas"},{id:"navCompliance",title:"Compliance",href:"/dashboard/compliance"},{id:"navCategories",title:"Categories",href:"/dashboard/taxonomy"},{id:"navEmulation",title:"Emulator",href:"/dashboard/emulator"},{id:"navAPI",title:"API",href:"/dashboard/api"}]}])},T=n(55863),Q=n(63252),H=n(68149),B=n(80663),J=function(e){e.isCustomerOwner,e.isCustomerManager;var t=e.isCustomerUser,n=e.hasQuotesModule,i=e.hasPPMscheduleModule;return E([{id:"navCreateJob",type:"actionButton",title:"Create work order",href:"/dashboard/issues/manage",icon:k.Z},{id:"navHomeMenu",title:"Dashboard",href:"/dashboard",icon:L.Z},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot",icon:Q.Z},{id:"navWorksMenu",title:"Reactive works",icon:S.Z,children:[{id:"navCurrentJobs",title:"Current Jobs",href:"/dashboard/issues?show=current"},{id:"navWorkOrdersCreate",title:"Create Job",href:"/dashboard/issues/manage"},{id:"navJobHistory",title:"Job History",href:"/dashboard/issues?show=past"}]},{id:"navPPM",title:"Planned maintenance",icon:H.Z,children:[{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"},{hide:!i&&t,id:"NavPpmSchedules",title:"PPM Schedules",href:"/dashboard/scheduledjob"}]},{id:"navQuotes",title:"Quotes",icon:B.Z,hide:!n&&t,children:[{id:"navQuote",title:"Find Quote",href:"/dashboard/quotes"}]},{id:"navLocations",title:"Locations",href:"/dashboard/properties",icon:N.Z},{id:"account",title:"Account",href:"/dashboard/customers/view",icon:A.Z}])},W=[{id:"navFinanceMenu",title:"Finance",children:[{id:"navDashboard",title:"Data",href:"/dashboard/finance"}]},{id:"navAccountsMenu",icon:"cog",title:"Accounts Menu",children:[{id:"navAccounts",title:"Accounts",href:"/dashboard/account"},{id:"navAdminsCreate",title:"Create Admin",href:"/dashboard/admins/manage"},{id:"navSettingsDivider",divider:!0},{id:"navLeads",title:"Leads",href:"/dashboard/leads"},{id:"navFinanceCalculator",title:"Finance Calculator",href:"/dashboard/finance/calculator"},{id:"navStepperWorkflow",title:"Stepper Workflow",href:"/dashboard/stepper"}]}],q=[{id:"navHome",title:"Dashboard",href:"/dashboard",icon:L.Z},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot",icon:Q.Z},{id:"navInstructionsMenu",title:"Reactive works",icon:S.Z,children:[{id:"navJobOffers",title:"Current offers",href:"/dashboard/issues?show=offered"},{id:"navYourJobs",title:"Reactive jobs",href:"/dashboard/issues?show=current"},{id:"navJobHistory",title:"Job history",href:"/dashboard/issues?show=past"}]},{id:"navPPM",title:"Planned maintenance",icon:H.Z,children:[{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"}]},{id:"navQuotes",title:"Quotes",icon:B.Z,children:[{id:"navQuote",title:"Find Quote",href:"/dashboard/quotes"}]},{id:"account",title:"Account",href:"/dashboard/suppliers/view",icon:A.Z}],U=n(90263),X=n(86886),G=n(27812),Y=n(71383),$=n(75063),V=n(75436),K=(0,$.Ps)(i||(i=(0,Y.Z)(['\n  subscription GetNotificationsCount($userId: Int!) {\n    meta: Notification_aggregate(\n      where: {\n        userId: { _eq: $userId }\n        Communication: { text: { _ilike: null } }\n        status: { _eq: "unread" }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']))),ee=function(e){var t=localStorage.getItem("bearerToken"),n=(0,V.m)(K,{skip:!e||!t,variables:{userId:null==e?void 0:e.id}}).data;return{id:"navNotifications",to:"/dashboard/notifications",type:{as:"notification",count:(n=void 0===n?{meta:{aggregate:{totalCount:0}}}:n).meta.aggregate.totalCount}}},et=n(79793),en=n(15573),ei=n(39858),er=n(68503),eo=n(31856),ea=n(85893),es=function(e,t){var n,i,r=ee(e),o=[];return(null===(i=t.accounts)||void 0===i?void 0:i.length)>1&&(o.push({id:"navAccountSwitchDivider",divider:!0}),t.accounts.forEach(function(t){if(t.id!==e.accountId){var n=t.admin?t.admin.name:t.name;o.push({id:"navAccountSwitch-".concat(t.id),title:"Switch to ".concat(n),href:"/account/switch?id=".concat(t.id),icon:er.Z})}})),n=[{id:"navProfile",title:"Profile",href:"/dashboard/users/view?id=".concat(e.id),icon:en.Z},{id:"navNotifications",title:"Notifications",icon:function(){return(0,ea.jsx)(U.Z,{badgeContent:r.type.count,max:999,color:"secondary",children:(0,ea.jsx)(et.Z,{})})},href:"/dashboard/notifications"}].concat((0,G.Z)(o.length?o:[]),[{id:"navLogout",title:"Logout",href:"/account/logout",icon:ei.Z}]),"supplier"===e.accountType&&n.splice(1,0,{id:"navHoliday",title:"Holiday Time",href:"/dashboard/holidays",icon:eo.Z}),n},ed=[{id:"navHome",title:"Dashboard",href:"/"},{id:"navSignIn",title:"Log in",href:"/account/sign-in"}],ec=n(51964),el=n.n(ec),eh=n(78462),eu=n(16835),ep=n(11163),ef=n.n(ep),ev=n(11057),em=n(59334),eb=n(87918),eg=n(57922),ex=n(91680),ej=n(6571),ew=(0,r.ZP)(j.Z).withConfig({displayName:"SidebarNavListItem__Item",componentId:"sc-155lcov-0"})(["padding-left:"," !important;padding-bottom:"," !important;text-wrap:nowrap;svg{font-size:20px;min-width:24px;min-height:24px;opacity:0.5;}"],function(e){return e.depth&&e.depth>0?"".concat(50*e.depth,"px"):e.collapsed?"22px":"16px"},function(e){return e.collapsed?"0px":"8px"}),ey=(0,r.ZP)(j.Z).withConfig({displayName:"SidebarNavListItem__ButtonItemContainer",componentId:"sc-155lcov-1"})(["padding:0 !important;padding-left:"," !important;padding-right:"," !important;"],function(e){return e.depth&&e.depth>0?"".concat(50*e.depth,"px"):"16px"},function(e){return e.depth&&e.depth>0?"".concat(50*e.depth,"px"):"16px"}),eP=(0,r.ZP)(ev.Z).withConfig({displayName:"SidebarNavListItem__ButtonItem",componentId:"sc-155lcov-2"})(["svg{font-size:20px;width:20px;height:20px;opacity:0.5;}"]),eZ=(0,r.ZP)(em.Z).withConfig({displayName:"SidebarNavListItem__Title",componentId:"sc-155lcov-3"})(["margin-left:",";"],function(e){return e.icon?e.collapsed?"25px":"16px":"0px"}),eC=(0,r.ZP)(eb.Z).withConfig({displayName:"SidebarNavListItem__Badge",componentId:"sc-155lcov-4"})(["height:20px;position:absolute;right:26px;top:12px;z-index:1;span.MuiChip-label,span.MuiChip-label:hover{font-size:11px;cursor:pointer;}"]),eO=(0,r.ZP)(ex.Z).withConfig({displayName:"SidebarNavListItem__ExpandLessIcon",componentId:"sc-155lcov-5"})([""]),ek=(0,r.ZP)(ej.Z).withConfig({displayName:"SidebarNavListItem__ExpandMoreIcon",componentId:"sc-155lcov-6"})([""]),eS=function(e){var t=e.title,n=e.href,i=e.depth,r=void 0===i?0:i,o=e.children,a=e.icon,s=e.badge,d=e.open,c=e.type,l=void 0===c?"link":c,h=e.collapsed,u=f.useState(void 0!==d&&d),p=(0,eu.Z)(u,2),v=p[0],b=p[1],g=function(){b(function(e){return!e})};return o?(0,ea.jsxs)(f.Fragment,{children:[(0,ea.jsxs)(ew,{depth:r,color:"secondary",onClick:g,children:[a&&(0,ea.jsx)(a,{}),(0,ea.jsxs)(eZ,{icon:!!a,depth:r,collapsed:h,children:[t,s&&(0,ea.jsx)(eC,{color:"secondary",label:s})]}),v?(0,ea.jsx)(eO,{}):(0,ea.jsx)(ek,{})]}),(0,ea.jsx)(eg.Z,{in:v,children:o})]}):n&&"link"===l?(0,ea.jsx)(m(),{href:n,passHref:!0,children:(0,ea.jsxs)(ew,{depth:r,color:"secondary",collapsed:h,children:[a&&(0,ea.jsx)(a,{}),(0,ea.jsxs)(eZ,{icon:!!a,depth:r,collapsed:h,children:[t,s&&(0,ea.jsx)(eC,{color:"secondary",label:s})]})]})}):n&&"actionButton"===l&&!h?(0,ea.jsx)(ey,{depth:r,children:(0,ea.jsx)(eP,{color:"secondary",variant:"contained",sx:{width:"100%",textTransform:"none"},onClick:function(){return ef().push(n)},children:(0,ea.jsxs)(eZ,{icon:!!a,depth:r,children:[t,s&&(0,ea.jsx)(eC,{color:"secondary",label:s})]})})}):n&&"actionButton"===l&&h?(0,ea.jsx)(ey,{depth:r,children:(0,ea.jsx)(ev.Z,{color:"secondary",variant:"contained",sx:{minWidth:"auto",width:"40px",height:"26px"},onClick:function(){return ef().push(n)},children:a&&(0,ea.jsx)(a,{})})}):t?(0,ea.jsxs)(ew,{depth:r,color:"secondary",collapsed:h,children:[a&&(0,ea.jsx)(a,{}),(0,ea.jsxs)(eZ,{icon:!!a,depth:r,collapsed:h,children:[t,s&&(0,ea.jsx)(eC,{color:"secondary",label:s})]})]}):a?(0,ea.jsx)(y.Z,{children:(0,ea.jsx)(a,{})}):null},eM=function(e){var t=e.items,n=e.page,i=e.depth,r=e.currentRoute,o=e.collapsed;if(n.children&&!o){var a=n.children.some(function(e){return e.href===r});t.push((0,ea.jsx)(eS,{depth:i,icon:n.icon,badge:n.badge,open:a,title:n.title,href:n.href,type:n.type,collapsed:o,children:(0,ea.jsx)(eI,{depth:i+1,pages:n.children})},n.title))}else{var s,d=null==n?void 0:null===(s=n.children)||void 0===s?void 0:s.some(function(e){return e.href===r});t.push((0,ea.jsx)(eS,{depth:i,href:n.href,icon:n.icon,badge:n.badge,open:d,title:n.title,type:n.type,collapsed:o},n.title))}return t},eI=function(e){var t=e.pages,n=e.depth,i=e.collapsed,r=(0,ep.useRouter)().pathname,o=t.reduce(function(e,t){return eM({items:e,page:t,currentRoute:r,depth:n,collapsed:i})},[]);return(0,ea.jsx)(f.Fragment,{children:o})},e_=["pages","title","collapsed","component"];function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(n),!0).forEach(function(t){(0,p.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eA=function(e){return(0,r.iv)(["border-right:1px solid rgba(0,0,0,0.12);flex-grow:1;"])},eL=(0,r.ZP)(Z.Z).withConfig({displayName:"SidebarNav__Title",componentId:"sc-1k2gudq-0"})(["opacity:0.4;text-transform:uppercase;display:block;color:#ffffff;padding:",";"],function(e){return e.collapsed?"8px 8px":"8px 16px"}),eF=(0,r.ZP)(el()).withConfig({displayName:"SidebarNav__PerfectScrollbar",componentId:"sc-1k2gudq-1"})(["",""],eA),eR=function(e){var t=e.pages,n=e.title,i=e.collapsed,r=e.component,o=(0,u.Z)(e,e_),a=t.filter(function(e){return"actionButton"===e.type}),s=t.filter(function(e){return"actionButton"!==e.type});return(0,ea.jsx)(eF,{children:(0,ea.jsx)(eh.Z,{disablePadding:!0,children:(0,ea.jsxs)(void 0===r?"nav":r,eN(eN({},o),{},{children:[a.length?(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsx)(eL,{collapsed:i,variant:"subtitle2",children:"Actions"}),(0,ea.jsx)(eI,{collapsed:i,pages:a,depth:0})]}):null,n&&(0,ea.jsx)(eL,{collapsed:i,variant:"subtitle2",sx:{padding:"8px 16px"},children:n}),(0,ea.jsx)(eI,{collapsed:i,pages:s,depth:0})]}))})})},eE=n(37324),ez=["collapsed"];function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(t){(0,p.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eH=r.ZP.div.withConfig({displayName:"SidebarFooter__Footer",componentId:"sc-hfjfj4-0"})(["background:",";padding-bottom:16px;"],function(e){return e.theme.NAVBAR.newFooterBackground}),eB=(0,r.ZP)(Z.Z).withConfig({displayName:"SidebarFooter__FooterText",componentId:"sc-hfjfj4-1"})([""]),eJ=(0,r.ZP)(Z.Z).withConfig({displayName:"SidebarFooter__FooterSubText",componentId:"sc-hfjfj4-2"})(["font-size:0.7rem;display:block;padding:1px;text-overflow:ellipsis;width:100%;white-space:nowrap;overflow:hidden;"]),eW=(0,r.ZP)(U.Z).withConfig({displayName:"SidebarFooter__FooterBadge",componentId:"sc-hfjfj4-3"})(["span{height:12px;width:12px;border-radius:50%;}"]),eq=function(e){var t=e.collapsed,n=(0,u.Z)(e,ez),i=(0,c.x)().user,r=(0,T.q)(),a=ed;return i&&(a=es(i,r)),(0,ea.jsxs)(eH,eQ(eQ({},n),{},{children:[(0,ea.jsxs)(X.ZP,{container:!0,spacing:2,sx:{padding:2},children:[(0,ea.jsx)(X.ZP,{item:!0,children:(0,ea.jsx)(eW,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:!!i&&(0,ea.jsx)(w.Z,eQ({},(0,eE.G)([i.nameFirst,i.nameLast].join(" "))))})}),(0,ea.jsx)(X.ZP,{item:!0,sx:{width:"70%"},children:!t&&!!i&&(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsxs)(eB,{children:[i.nameFirst," (",i.accountType,")"]}),(0,ea.jsx)(eJ,{variant:"caption",children:i.email})]})})]}),(0,ea.jsx)(o.Z,{sx:{paddingLeft:t?0:1},children:(0,ea.jsx)(eR,{pages:a,collapsed:t})})]}))},eU=n(40755),eX=n(94568),eG=["items","showFooter"];function eY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function e$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eY(Object(n),!0).forEach(function(t){(0,p.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eV=(0,g.ZP)(x.ZP)(function(e){var t=e.collapsed,n=e.sm,i=e.theme;return{width:n?"0px":"68px",transition:"width 0.5s",background:i.palette.muiPrimary.main,borderRight:0,overflowX:"hidden","& > div":{borderRight:0},"& p":{color:"#eeeeee"},"& .MuiPaper-root":e$(e$(e$({},!n&&{width:"".concat(t?68:258,"px")}),n&&{width:"100%"}),{},{transition:"width 0.5s",background:i.palette.muiPrimary.main},t&&{overflow:"hidden"})}}),eK=(0,g.ZP)(j.Z)(function(){return{maxHeight:"60px",justifyContent:"flex-start",cursor:"pointer",background:"#232f3e","& p":{fontSize:"1.25rem"}}}),e0=(0,g.ZP)(w.Z)(function(){return{width:"32px",height:"32px"}}),e1=(0,g.ZP)(o.Z)(function(){return{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",color:"#eeeeee",marginTop:"16px"}}),e2=(0,g.ZP)(o.Z)(function(){return{height:"64px"}}),e6=(0,g.ZP)(o.Z)(function(e){return{width:"100%",height:"100%",maxHeight:"64px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px",position:"fixed",zIndex:1199,background:e.theme.palette.muiPrimary.main}}),e3=(0,g.ZP)(w.Z)(function(){return{width:"42px",height:"42px"}}),e5=(0,g.ZP)(C.Z)(function(e){return{width:"36px",height:"36px",color:e.theme.palette.secondary.main}}),e4=(0,g.ZP)(O.Z)(function(e){return{width:"24px",height:"24px",color:e.theme.palette.white.main}}),e8=(0,g.ZP)(o.Z)(function(e){return e$({width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},e.sm&&{minHeight:"64px",padding:"0 20px"})}),e9=function(e){e.items;var t,n,i,r,s,d,l,h,p,v,g,x,j=e.showFooter;(0,u.Z)(e,eG);var w=(0,eX.s)(),C=(0,a.Z)("(max-width: 600px)")||w,O=(0,T.q)(),k=(null==O?void 0:null===(n=O.admin)||void 0===n?void 0:null===(i=n.modules)||void 0===i?void 0:i.sageIntegration)||!1,M=null==O?void 0:null===(r=O.admin)||void 0===r?void 0:null===(s=r.modules)||void 0===s?void 0:s.assets,I=null==O?void 0:null===(d=O.admin)||void 0===d?void 0:null===(l=d.modules)||void 0===l?void 0:l.workflows,_=null==O?void 0:null===(h=O.admin)||void 0===h?void 0:null===(p=h.modules)||void 0===p?void 0:p.dataReports,D=null==O?void 0:null===(v=O.admin)||void 0===v?void 0:null===(g=v.modules)||void 0===g?void 0:g.dataCharts,N=(0,T.q)(),F=N.admin,R=N.hasUserModule,B=(0,c.x)().hasRole,U=B("customer_owner"),X=B("customer_manager"),G=B("customer_user"),Y=B("tenant_user"),$=R("quotes"),V=R("ppmSchedules"),K=((0,f.useContext)(b.Z)||{}).user,ee=(0,f.useState)(!0),et=ee[0],en=ee[1],ei=function(){en(!0)},er=function(){en(!1)},eo={},es="permanent",ed=null==F?void 0:F.media,ec=null==ed?void 0:ed.find(function(e){return"themeLogo"===e.item.category}),el=ec?"".concat("https://cleverly-media.s3.eu-west-2.amazonaws.com","/").concat(ec.item.filename):"/static/logo/icon-white.png";if(K)switch(K.accountType){case"admin":eo=z({hasSageIntegration:k,hasXeroIntegration:!!(null!==(x=(0,eU.RM)(K.id))&&void 0!==x&&x.companyId),hasAssetModule:M,hasWorkflows:I,hasDataReports:_,hasDataCharts:D,isMobile:w});break;case"customer":eo=J({isCustomerOwner:U,isCustomerManager:X,isCustomerUser:G,hasQuotesModule:$,hasPPMscheduleModule:V});break;case"superadmin":eo=W;break;case"supplier":eo=q;break;case"tenant":t={isTenantUser:Y,hasQuotesModule:$,hasPPMscheduleModule:V},eo=(t.isTenantUser,t.hasQuotesModule,t.hasPPMscheduleModule,E([{id:"navDashboardDrop",title:"Dashboard",href:"/dashboard",icon:L.Z},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot",icon:Q.Z},{id:"navWorksMenu",title:"Reactive works",icon:S.Z,children:[{id:"navCurrentJobs",title:"Current Jobs",href:"/dashboard/issues?show=current"},{id:"navJobHistory",title:"Job History",href:"/dashboard/issues?show=past"}]},{id:"navPPM",title:"Planned maintenance",icon:H.Z,children:[{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"}]},{id:"navUserDropdown"},{id:"account",title:"Account",href:"/dashboard/tenant/view",icon:A.Z}]));break;default:eo=[]}else eo=[];return C&&(es="persistent"),(0,ea.jsxs)(ea.Fragment,{children:[C&&(0,ea.jsx)(e2,{children:(0,ea.jsxs)(e6,{children:[(0,ea.jsx)(y.Z,{onClick:function(){return en(!1)},children:(0,ea.jsx)(e5,{})}),(0,ea.jsx)(m(),{href:"/dashboard",children:(0,ea.jsx)(e3,{src:el,alt:"Cleverly logo",children:(0,ea.jsx)("img",{width:"42",height:"42",src:"/static/logo/icon-white.png"})})})]})}),(0,ea.jsxs)(eV,e$(e$(e$({collapsed:et,variant:es},!C&&{onMouseLeave:ei,onMouseEnter:er}),C&&{open:!et}),{},{sm:C,children:[(0,ea.jsxs)(e8,{sm:C,children:[(0,ea.jsx)(m(),{href:"/dashboard",children:C?(0,ea.jsxs)(P.Z,{width:"100%",direction:"row",alignItems:"center",children:[(0,ea.jsx)(e3,{src:el,alt:"Cleverly logo",children:(0,ea.jsx)("img",{width:"42",height:"42",src:"/static/logo/icon-white.png"})}),(0,ea.jsx)(o.Z,{ml:2,children:(0,ea.jsx)(Z.Z,{fontSize:"20px",children:"Cleverly"})})]}):(0,ea.jsxs)(eK,{children:[(0,ea.jsx)(e0,{src:el,alt:"Cleverly logo",children:(0,ea.jsx)("img",{width:"32",height:"32",src:"/static/logo/icon-white.png"})}),!et&&(0,ea.jsx)(o.Z,{ml:1,children:(0,ea.jsx)(Z.Z,{children:"Cleverly"})})]})}),C&&(0,ea.jsx)(y.Z,{onClick:function(){return en(!0)},children:(0,ea.jsx)(e4,{})})]}),(0,ea.jsxs)(e1,{children:[(0,ea.jsx)(eR,{title:"Pages",collapsed:et,pages:eo}),!!(void 0===j||j)&&(0,ea.jsx)(eq,{collapsed:et})]})]}))]})},e7=n(87043),te=n(60092),tt=n(9008),tn=n.n(tt),ti=function(){var e=(0,T.q)().admin,t=(0,f.useState)(""),n=t[0],i=t[1];return(0,f.useEffect)(function(){var t,n,r=null==e?void 0:null===(t=e.media)||void 0===t?void 0:t.find(function(e){return"themeFavicon"===e.item.category});r?i("".concat("https://cleverly-media.s3.eu-west-2.amazonaws.com","/").concat(null==r?void 0:null===(n=r.item)||void 0===n?void 0:n.filename)):i("/static/favicon/CleverlyLogoBlack.png")},[ef().asPath,ef().pathname]),(0,ea.jsxs)(tn(),{children:[(0,ea.jsx)("title",{children:"Cleverly"}),(0,ea.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:n})]})},tr=(0,r.ZP)(o.Z).withConfig({displayName:"MiraLayout__Box",componentId:"sc-kul1cz-0"})(d.ZP),to=r.ZP.div.withConfig({displayName:"MiraLayout__Root",componentId:"sc-kul1cz-1"})(["background:",";display:",";overflow:hidden;.AppContent{display:flex;flex-direction:column;width:100%;height:",";overflow:hidden;}.responsive-fontSize{font-size:0.7vmax !important;}p,span,h1,h2,h3,h4,h5,h6,label,button,ul,li,nav,div{font-family:",";}justify-content:center;align-items:center;align-content:center;flex-direction:row;flex-wrap:nowrap;height:100vh;*::-webkit-scrollbar{width:10px;height:10px;}*::-webkit-scrollbar-track{background-color:inherit;border-radius:6px;}*::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,0.2);border-radius:6px;}*::-webkit-scrollbar-thumb:hover{background-color:rgba(0,0,0,0.4);}"],function(e){return e.theme.COLOUR.muiLight},function(e){return e.sm?"block":"flex"},function(e){return e.sm?"calc(100% - 64px)":"100%"},function(e){return e.theme.THEME_TYPOGRAPHY.newFont}),ta=r.ZP.div.withConfig({displayName:"MiraLayout__AppContent",componentId:"sc-kul1cz-2"})([""]),ts=(0,r.ZP)(tr).withConfig({displayName:"MiraLayout__MainContent",componentId:"sc-kul1cz-3"})(["display:flex;flex-direction:column;height:100%;flex:1;background:transparent;border:none;box-shadow:none;@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){flex:none;}.MuiPaper-root .MuiPaper-root{box-shadow:none;}.ChildWrapper{padding:16px;}"]),td=(0,r.ZP)(tr).withConfig({displayName:"MiraLayout__ChildrenWrapContainer",componentId:"sc-kul1cz-4"})(["flex:1;height:100%;background-color:transparent !important;overflow-y:scroll;"]),tc=function(e){var t=e.children,n=(0,eX.s)(),i=(0,a.Z)("(max-width: 600px)"),r=(0,c.x)().user;return(0,ea.jsxs)(s.Z,{theme:te.Q.muiTheme,children:[(0,ea.jsx)(ti,{}),(0,ea.jsxs)(to,{className:"root safe--area",sm:i||n,children:[(0,ea.jsx)(e9,{}),(0,ea.jsx)(ta,{className:"AppContent",children:(0,ea.jsxs)(ts,{children:[(0,ea.jsx)(td,{className:"ChildWrapper",children:t}),e7.C1.isMobile&&(0,ea.jsx)(h.d,{user:r})]})})]}),(0,ea.jsx)(l.T,{user:r})]})}}}]);