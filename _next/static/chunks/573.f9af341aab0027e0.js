"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573,7337,5042,3863],{87109:function(n,e,t){t.d(e,{Z:function(){return R}});var i,o=t(63366),r=t(87462),a=t(67294),s=t(63961),l=t(58510),u=t(98216),d=t(15861),m=t(47167),c=t(74423),p=t(90948),f=t(1977),b=t(8027);function h(n){return(0,b.ZP)("MuiInputAdornment",n)}let v=(0,f.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var g=t(71657),y=t(85893);let I=["children","className","component","disablePointerEvents","disableTypography","position","variant"],x=(n,e)=>{let{ownerState:t}=n;return[e.root,e[`position${(0,u.Z)(t.position)}`],!0===t.disablePointerEvents&&e.disablePointerEvents,e[t.variant]]},Z=n=>{let{classes:e,disablePointerEvents:t,hiddenLabel:i,position:o,size:r,variant:a}=n,s={root:["root",t&&"disablePointerEvents",o&&`position${(0,u.Z)(o)}`,a,i&&"hiddenLabel",r&&`size${(0,u.Z)(r)}`]};return(0,l.Z)(s,h,e)},$=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:x})(({theme:n,ownerState:e})=>(0,r.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active},"filled"===e.variant&&{[`&.${v.positionStart}&:not(.${v.hiddenLabel})`]:{marginTop:16}},"start"===e.position&&{marginRight:8},"end"===e.position&&{marginLeft:8},!0===e.disablePointerEvents&&{pointerEvents:"none"})),_=a.forwardRef(function(n,e){let t=(0,g.Z)({props:n,name:"MuiInputAdornment"}),{children:l,className:u,component:p="div",disablePointerEvents:f=!1,disableTypography:b=!1,position:h,variant:v}=t,x=(0,o.Z)(t,I),_=(0,c.Z)()||{},R=v;v&&_.variant,_&&!R&&(R=_.variant);let j=(0,r.Z)({},t,{hiddenLabel:_.hiddenLabel,size:_.size,disablePointerEvents:f,position:h,variant:R}),S=Z(j);return(0,y.jsx)(m.Z.Provider,{value:null,children:(0,y.jsx)($,(0,r.Z)({as:p,ownerState:j,className:(0,s.Z)(S.root,u),ref:e},x,{children:"string"!=typeof l||b?(0,y.jsxs)(a.Fragment,{children:["start"===h?i||(i=(0,y.jsx)("span",{className:"notranslate",children:"â€‹"})):null,l]}):(0,y.jsx)(d.Z,{color:"text.secondary",children:l})}))})});var R=_},50135:function(n,e,t){t.d(e,{Z:function(){return S}});var i=t(87462),o=t(63366),r=t(67294),a=t(63961),s=t(58510),l=t(89326),u=t(90948),d=t(71657),m=t(79332),c=t(6135),p=t(57709),f=t(47312),b=t(94054),h=t(56815),v=t(18360),g=t(1977),y=t(8027);function I(n){return(0,y.ZP)("MuiTextField",n)}(0,g.Z)("MuiTextField",["root"]);var x=t(85893);let Z=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],$={standard:m.Z,filled:c.Z,outlined:p.Z},_=n=>{let{classes:e}=n;return(0,s.Z)({root:["root"]},I,e)},R=(0,u.ZP)(b.Z,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),j=r.forwardRef(function(n,e){let t=(0,d.Z)({props:n,name:"MuiTextField"}),{autoComplete:r,autoFocus:s=!1,children:u,className:m,color:c="primary",defaultValue:p,disabled:b=!1,error:g=!1,FormHelperTextProps:y,fullWidth:I=!1,helperText:j,id:S,InputLabelProps:A,inputProps:q,InputProps:U,inputRef:F,label:L,maxRows:P,minRows:w,multiline:T=!1,name:J,onBlur:C,onChange:M,onFocus:E,placeholder:N,required:D=!1,rows:O,select:k=!1,SelectProps:W,type:V,value:z,variant:H="outlined"}=t,Q=(0,o.Z)(t,Z),B=(0,i.Z)({},t,{autoFocus:s,color:c,disabled:b,error:g,fullWidth:I,multiline:T,required:D,select:k,variant:H}),G=_(B),Y={};"outlined"===H&&(A&&void 0!==A.shrink&&(Y.notched=A.shrink),Y.label=L),k&&(W&&W.native||(Y.id=void 0),Y["aria-describedby"]=void 0);let K=(0,l.Z)(S),X=j&&K?`${K}-helper-text`:void 0,nn=L&&K?`${K}-label`:void 0,ne=$[H],nt=(0,x.jsx)(ne,(0,i.Z)({"aria-describedby":X,autoComplete:r,autoFocus:s,defaultValue:p,fullWidth:I,multiline:T,name:J,rows:O,maxRows:P,minRows:w,type:V,value:z,id:K,inputRef:F,onBlur:C,onChange:M,onFocus:E,placeholder:N,inputProps:q},Y,U));return(0,x.jsxs)(R,(0,i.Z)({className:(0,a.Z)(G.root,m),disabled:b,error:g,fullWidth:I,ref:e,required:D,color:c,variant:H,ownerState:B},Q,{children:[null!=L&&""!==L&&(0,x.jsx)(f.Z,(0,i.Z)({htmlFor:K,id:nn},A,{children:L})),k?(0,x.jsx)(v.Z,(0,i.Z)({"aria-describedby":X,id:K,labelId:nn,value:z,input:nt},W,{children:u})):nt,j&&(0,x.jsx)(h.Z,(0,i.Z)({id:X},y,{children:j}))]}))});var S=j},41796:function(n,e,t){t.d(e,{$n:function(){return c},Fq:function(){return d},_j:function(){return m},mi:function(){return u}});var i=t(78758),o=t(92358);function r(n,e=0,t=1){return(0,o.Z)(n,e,t)}function a(n){if(n.type)return n;if("#"===n.charAt(0))return a(function(n){n=n.slice(1);let e=RegExp(`.{1,${n.length>=6?2:1}}`,"g"),t=n.match(e);return t&&1===t[0].length&&(t=t.map(n=>n+n)),t?`rgb${4===t.length?"a":""}(${t.map((n,e)=>e<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}(n));let e=n.indexOf("("),t=n.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(t))throw Error((0,i.Z)(9,n));let o=n.substring(e+1,n.length-1),r;if("color"===t){if(r=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw Error((0,i.Z)(10,r))}else o=o.split(",");return o=o.map(n=>parseFloat(n)),{type:t,values:o,colorSpace:r}}function s(n){let{type:e,colorSpace:t}=n,{values:i}=n;return -1!==e.indexOf("rgb")?i=i.map((n,e)=>e<3?parseInt(n,10):n):-1!==e.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),`${e}(${i=-1!==e.indexOf("color")?`${t} ${i.join(" ")}`:`${i.join(", ")}`})`}function l(n){let e="hsl"===(n=a(n)).type||"hsla"===n.type?a(function(n){n=a(n);let{values:e}=n,t=e[0],i=e[1]/100,o=e[2]/100,r=i*Math.min(o,1-o),l=(n,e=(n+t/30)%12)=>o-r*Math.max(Math.min(e-3,9-e,1),-1),u="rgb",d=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===n.type&&(u+="a",d.push(e[3])),s({type:u,values:d})}(n)).values:n.values;return Number((.2126*(e=e.map(e=>("color"!==n.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)))[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function u(n,e){let t=l(n),i=l(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function d(n,e){return n=a(n),e=r(e),("rgb"===n.type||"hsl"===n.type)&&(n.type+="a"),"color"===n.type?n.values[3]=`/${e}`:n.values[3]=e,s(n)}function m(n,e){if(n=a(n),e=r(e),-1!==n.type.indexOf("hsl"))n.values[2]*=1-e;else if(-1!==n.type.indexOf("rgb")||-1!==n.type.indexOf("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return s(n)}function c(n,e){if(n=a(n),e=r(e),-1!==n.type.indexOf("hsl"))n.values[2]+=(100-n.values[2])*e;else if(-1!==n.type.indexOf("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(-1!==n.type.indexOf("color"))for(let i=0;i<3;i+=1)n.values[i]+=(1-n.values[i])*e;return s(n)}},37639:function(n,e,t){t.r(e);var i=t(85996),o=t(85893),r=function(n){var e=n.defaultFilters,t=n.supplierId;return(0,o.jsx)(i.e,{defaultFilters:e,supplierId:t,hideCreateWorkOrder:!0})};e.default=r},59636:function(n,e,t){t.d(e,{H_:function(){return g},Vw:function(){return Z},aL:function(){return b},iU:function(){return $},pf:function(){return h},sW:function(){return x},wd:function(){return v},xY:function(){return y},yT:function(){return I}});var i,o,r,a,s,l,u,d,m,c=t(71383),p=t(75063),f=t(4431),b=(0,p.Ps)(i||(i=(0,c.Z)(["\n  fragment JobFields on Job {\n    access\n    issueReportedDescription\n    adminId\n    costCategory\n    createdAt\n    description\n    id\n    meta\n    pricing\n    reference\n    scheduledAt\n    status\n    supplierLabourAmount\n    supplierMaterialsAmount\n    timing\n    timingEnd\n    timingNormalHours\n    timingStart\n    title\n    type\n    siteVisitStart\n    siteVisitEnd\n    siteVisitWeekends\n    amount\n    number\n    quoted\n    timingStatus\n    correctDuration\n    correctStart\n    correctEnd\n  }\n"]))),h=(0,p.Ps)(o||(o=(0,c.Z)(["\n  fragment JobQuoteFields on Job {\n    quoted\n    quoteNumber\n    quoteDue\n    quoteDueSupplier\n    quoteCharge\n  }\n"]))),v=(0,p.Ps)(r||(r=(0,c.Z)(["\n  fragment JobAdminFields on Job {\n    supplierId\n    supplierUserId\n  }\n"]))),g=(0,p.Ps)(a||(a=(0,c.Z)(["\n  fragment JobSupplierFields on Job {\n    supplierId\n    supplierUserId\n  }\n"]))),y=(0,p.Ps)(s||(s=(0,c.Z)(["\n  mutation UpdateJob(\n    $id: Int!\n    $changes: Job_set_input\n    $timing: [JobTiming_insert_input!]!\n    $_append: Job_append_input = {}\n  ) {\n    update_Job_by_pk(pk_columns: { id: $id }, _set: $changes, _append: $_append) {\n      id\n    }\n    insert_JobTiming(objects: $timing) {\n      returning {\n        id\n        status\n        createdAt\n      }\n    }\n  }\n"]))),I=(0,p.Ps)(l||(l=(0,c.Z)(["\n  mutation InsertJobTiming($timing: [JobTiming_insert_input!]!) {\n    insert_JobTiming(objects: $timing) {\n      returning {\n        id\n        status\n        createdAt\n      }\n    }\n  }\n"]))),x=(0,p.Ps)(u||(u=(0,c.Z)(['\n  query GetJobHistory(\n    $jobId: Int\n    $locationId: Int!\n    $limit: Int\n    $offset: Int\n    $serviceId: Int\n    $startDate: timestamptz!\n  ) {\n    jobs: Job(\n      limit: $limit\n      offset: $offset\n      order_by: { createdAt: desc }\n      where: {\n        createdAt: { _gte: $startDate }\n        id: { _neq: $jobId }\n        locationId: { _eq: $locationId }\n        serviceId: { _eq: $serviceId }\n        status: { _nin: ["pending", "raised", "offered", "accepted", "inProgress"] }\n      }\n    ) {\n      id\n      title\n      status\n      scheduledAt\n      createdAt\n      meta\n      service: Service {\n        id\n        name\n      }\n      shortJobDesc: Taxonomy(where: { Taxonomy: { type: { _eq: "jobTags" } } }) {\n        id\n        taxonomyId\n        comments\n        taxonomy: Taxonomy {\n          name\n        }\n      }\n    }\n    meta: Job_aggregate(\n      where: {\n        createdAt: { _gte: $startDate }\n        id: { _neq: $jobId }\n        locationId: { _eq: $locationId }\n        serviceId: { _eq: $serviceId }\n        status: { _nin: ["pending", "raised", "offered", "accepted", "inProgress"] }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']))),Z=(0,p.Ps)(d||(d=(0,c.Z)(['\n  query GetJob($jobId: Int!) {\n    job: Job_by_pk(id: $jobId) {\n      access\n      costCategory\n      customerSpendThreshold\n      description\n      supplierLabourAmount\n      supplierMaterialsAmount\n      quoteDue\n      quoteNumber\n      id\n      number\n      meta\n      paymentMethod\n      reference\n      status\n      title\n      type\n      quoted\n      invoices: Invoices(order_by: { createdAt: desc }) {\n        id\n        invoiceNumber\n      }\n      quotations: SupplierQuotes {\n        id\n        quoteNumber\n        status\n        lineItems: SupplierQuoteLineItems {\n          id\n          description\n          item\n          qty\n          qtyUnit\n          quoteId\n          total\n          type\n          unitRate\n          supplierTotal\n        }\n        supplier: Supplier {\n          id\n          type\n          name\n          accountUsers: Account_Users {\n            user: User {\n              id\n              fullName\n              nameFirst\n              nameLast\n              phone\n              email\n              devices: UserDevices(where: { status: { _eq: "active" } }) {\n                id\n                playerId\n              }\n            }\n          }\n        }\n      }\n      admin: Admin {\n        id\n        name\n      }\n      service: Service {\n        id\n        name\n      }\n      manager: Manager {\n        id\n        nameFirst\n        nameLast\n      }\n      customer: Customer {\n        id\n        name\n        website\n        slas: SLAs(where: { entity: { _eq: "Account" } }) {\n          id\n          entity\n          entityId\n          onSite\n          onSiteUnit\n          jobReport\n          jobReportUnit\n          completion\n          completionUnit\n          notes\n          inUse\n          normalRate\n          oohRate\n          premiumRate\n          minimumInterval\n          minimumLength\n          slaId\n          sla: SLA {\n            id\n            name\n            notes\n            normalRate\n            oohRate\n            premiumRate\n            onSite\n            onSiteUnit\n            jobReport\n            jobReportUnit\n            completion\n            completionUnit\n            minimumInterval\n            minimumLength\n          }\n        }\n      }\n      customerUser: CustomerUser {\n        id\n        nameFirst\n        nameLast\n        fullName\n        email\n        phone\n      }\n      supplier: Supplier {\n        id\n        name\n        contactUsers: Account_Users(where: { isContact: { _eq: true } }) {\n          id\n          role\n          position\n          isContact\n          lastSignInAt\n          userId\n          user: User {\n            id\n            fullName\n            nameFirst\n            nameLast\n            email\n            phone\n          }\n        }\n      }\n      supplierUser: SupplierUser {\n        id\n        fullName\n        nameFirst\n        nameLast\n        email\n        phone\n      }\n      location: Location {\n        id\n        name\n        addresses: Addresses(where: { entity: { _eq: "Location" } }) {\n          ...AddressEntityFields\n          address: Address {\n            ...AddressFields\n            country: Country {\n              id\n              name\n            }\n          }\n        }\n        slas: SLAs(where: { entity: { _eq: "Location" } }) {\n          id\n          entity\n          entityId\n          onSite\n          onSiteUnit\n          jobReport\n          jobReportUnit\n          completion\n          completionUnit\n          notes\n          inUse\n          normalRate\n          oohRate\n          premiumRate\n          minimumInterval\n          minimumLength\n          slaId\n          sla: SLA {\n            id\n            name\n            notes\n            normalRate\n            oohRate\n            premiumRate\n            onSite\n            onSiteUnit\n            jobReport\n            jobReportUnit\n            completion\n            completionUnit\n            minimumInterval\n            minimumLength\n          }\n        }\n      }\n      sla: SLA {\n        id\n        name\n        notes\n        normalRate\n        oohRate\n        premiumRate\n        onSite\n        onSiteUnit\n        jobReport\n        jobReportUnit\n        completion\n        completionUnit\n        minimumInterval\n        minimumLength\n      }\n      costCategoryTaxonomy: CostCategory {\n        id\n        name\n      }\n      shortJobDesc: Taxonomy(where: { Taxonomy: { type: { _eq: "jobTags" } } }) {\n        id\n        taxonomyId\n        comments\n        taxonomy: Taxonomy {\n          name\n        }\n      }\n    }\n  }\n  ',"\n  ","\n"])),f.WW,f.MR),$=(0,p.Ps)(m||(m=(0,c.Z)(["\n  mutation calculateJobFinance($jobId: Int!, $invoiceType: String!) {\n    calculateJobFinance(jobId: $jobId, invoiceType: $invoiceType) {\n      data\n    }\n  }\n"])))},93673:function(n,e,t){t.d(e,{x:function(){return i}});var i=[{text:"Reactive",value:"reactive",context:"#2EE6CA"},{text:"Planned Maintenance",value:"ppm",context:"#D67EFF"},{text:"Quote",value:"quote",context:"#7D7"},{text:"Compliance",value:"cppm",context:"#CC7429"}]}}]);