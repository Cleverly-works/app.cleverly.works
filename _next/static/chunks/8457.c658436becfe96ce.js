"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8457],{8602:function(e,n,t){var o=t(82066),a=t(85893);n.Z=(0,o.Z)((0,a.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage")},29422:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(77349),a=t(11640),r=t(19013),i=t(13882),c=t(83946);function s(e,n){if((0,i.Z)(2,arguments),!n||"object"!=typeof n)return new Date(NaN);var t=n.years?(0,c.Z)(n.years):0,s=n.months?(0,c.Z)(n.months):0,l=n.weeks?(0,c.Z)(n.weeks):0,d=n.days?(0,c.Z)(n.days):0,u=n.hours?(0,c.Z)(n.hours):0,m=n.minutes?(0,c.Z)(n.minutes):0,h=n.seconds?(0,c.Z)(n.seconds):0,p=(0,r.Z)(e),y=s||t?(0,a.Z)(p,s+12*t):p,v=d||l?(0,o.Z)(y,d+7*l):y;return new Date(v.getTime()+1e3*(h+60*(m+60*u)))}},6911:function(e,n,t){t.d(n,{q:function(){return p}});var o=t(59499),a=t(4730),r=t(23776),i=t(87918),c=t(50135),s=t(98456),l=t(67294),d=t(85893),u=["loading","setSearch","textFieldProps"];function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach(function(n){(0,o.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var p=function(e){var n=e.loading,t=e.setSearch,o=e.textFieldProps,m=(0,a.Z)(e,u),p=(0,l.useState)(""),y=p[0],v=p[1];return(0,l.useEffect)(function(){var e=setTimeout(function(){t(y)},500);return function(){return clearTimeout(e)}},[y,t]),(0,d.jsx)(r.Z,h(h({},m),{},{loading:n,onInputChange:function(e,n){v(n)},getOptionLabel:function(e){return e.label},renderTags:function(e,n){return e.map(function(e,t){return(0,d.jsx)(i.Z,h({size:"small",label:e.label},n({index:t})))})},renderInput:function(e){return(0,d.jsx)(c.Z,h(h(h({},e),o),{},{InputProps:h(h(h({},e.InputProps),o.InputProps||{}),{},{endAdornment:(0,d.jsxs)(d.Fragment,{children:[n?(0,d.jsx)(s.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}}))};p.defaultProps={color:"secondary",onChange:function(){},options:[],onOpen:function(){},setSearch:function(){},textFieldProps:{}}},28457:function(e,n,t){t.r(n),t.d(n,{default:function(){return eC}});var o,a,r,i,c,s,l=t(50029),d=t(16835),u=t(59499),m=t(64687),h=t.n(m),p=t(67294),y=t(66252),v=t(6812),g=t(50319),b=t(71383),f=t(75063),I=(0,f.Ps)(o||(o=(0,b.Z)(["\n  query GetDashboard(\n    $accountId: Int\n    $adminId: Int\n    $timezone: String\n    $asAt: timestamptz\n    $monthStart: timestamptz\n    $dayStart: timestamptz\n    $userId: Int\n    $yearStart: timestamptz\n    $locationId: Int\n    $managerId: Int\n    $customerManagerId: Int\n  ) {\n    dashboardTilesData: getDashboard_HomeTiles(\n      args: {\n        adminId: $adminId\n        asAt: $asAt\n        accountId: $accountId\n        monthStart: $monthStart\n        dayStart: $dayStart\n        userId: $userId\n        yearStart: $yearStart\n        locationId: $locationId\n        managerId: $managerId\n        customerManagerId: $customerManagerId\n      }\n    ) {\n      thresholdApprovals\n      outstandingInvoices\n      outstandingInvoicesValues\n      invoiceUnsent\n      reactiveJobsToday\n      plannedJobsToday\n      complianceJobToday\n      reportUnsent\n      liveP1Jobs\n      offeredJobs\n      quotesToday\n      quotesNotSent\n      quotesOverdue\n      quotesDueThisWeek\n      inprogressJobs\n      numberOfOpenJobs\n      jobsInDispute\n      worksValueMTD\n      worksValueYTD\n      overdueComplianceJobs\n      onHold\n      upliftRequested\n      ppmOverdue\n      reactiveOverdue\n      failedJobs\n      jobsWithTimeNotConfirmed\n      jobsRequiringExpenseAmount\n      imminentJobSlaBreaches\n      jobsWithTimeNotConfirmedCurrentMonth\n      jobsWithTimeNotConfirmedNext7days\n      openRemedialQuotes\n      openQuotes\n      imminentQuoteSlaBreaches\n      quoteSlaBreached\n      jobSlaBreachedOnSite\n      jobSlaBreachedJobReport\n    }\n    chartJobsPerDay: getDashboard_HomeTiles_Jobs_perDay(\n      args: {\n        adminId: $adminId\n        timeZone: $timezone\n        asAt: $asAt\n        accountId: $accountId\n        monthStart: $monthStart\n        dayStart: $dayStart\n        userId: $userId\n        yearStart: $yearStart\n        locationId: $locationId\n        managerId: $managerId\n      }\n    ) {\n      jobsOnThisMonth\n    }\n    chartRevenuesPerDay: getDashboard_HomeTiles_Revenues_perDay(\n      args: {\n        adminId: $adminId\n        timeZone: $timezone\n        asAt: $asAt\n        accountId: $accountId\n        monthStart: $monthStart\n        dayStart: $dayStart\n        userId: $userId\n        yearStart: $yearStart\n        locationId: $locationId\n        managerId: $managerId\n      }\n    ) {\n      revenuesOnThisMonth\n    }\n    chartRevenuesPerYear: getDashboard_HomeTiles_Revenues_perYear(\n      args: {\n        adminId: $adminId\n        timeZone: $timezone\n        asAt: $asAt\n        accountId: $accountId\n        monthStart: $monthStart\n        dayStart: $dayStart\n        userId: $userId\n        yearStart: $yearStart\n        locationId: $locationId\n        managerId: $managerId\n      }\n    ) {\n      revenuesOnThisYear\n    }\n    chartTopCustomers: getDashboard_HomeTiles_Top_Customers_by_Spend(\n      args: {\n        adminId: $adminId\n        timeZone: $timezone\n        asAt: $asAt\n        accountId: $accountId\n        monthStart: $monthStart\n        dayStart: $dayStart\n        userId: $userId\n        yearStart: $yearStart\n      }\n    ) {\n      topCustomersBySpendOnThisYear\n    }\n    chartNotifications: getDashboard_HomeTiles_Notifications(\n      args: {\n        adminId: $adminId\n        asAt: $asAt\n        accountId: $accountId\n        monthStart: $monthStart\n        dayStart: $dayStart\n        userId: $userId\n        yearStart: $yearStart\n      }\n    ) {\n      notificationsLateArrivalToday\n      notificationsInvoiceNotSentToday\n      notificationsSupplierNotAssignedToday\n      notificationsLateArrivalOnThisWeek\n      notificationsInvoiceNotSentOnThisWeek\n      notificationsSupplierNotAssignedOnThisWeek\n      notificationsLateArrivalOnTwoWeeks\n      notificationsInvoiceNotSentOnTwoWeeks\n      notificationsSupplierNotAssignedOnTwoWeeks\n      notificationsLateArrivalOnThisMonth\n      notificationsInvoiceNotSentOnThisMonth\n      notificationsSupplierNotAssignedOnThisMonth\n    }\n  }\n"]))),w=(0,f.Ps)(r||(r=(0,b.Z)(["\n  query GetSuppliersLocation($where: UserLocation_bool_exp) {\n    suppliersLocation: UserLocation(distinct_on: userId, where: $where) {\n      id\n      geo\n      account: Account {\n        id\n        name\n      }\n      user: User {\n        id\n        fullName\n      }\n    }\n  }\n"]))),$=(0,f.Ps)(i||(i=(0,b.Z)(['\n  query GetJobsLocation($where: Job_bool_exp) {\n    jobsLocation: Job(where: $where, order_by: { createdAt: desc }) {\n      id\n      number\n      type\n      location: Location {\n        id\n        name\n        addresses: Addresses(\n          where: { registered: { _eq: true }, entity: { _eq: "Location" } }\n          order_by: { createdAt: desc }\n        ) {\n          address: Address {\n            addressLine1\n            addressLine2\n            addressLine3\n            postCode\n            name\n            geo\n          }\n        }\n      }\n      supplier: Supplier {\n        id\n        name\n      }\n      service: Service {\n        id\n        name\n      }\n    }\n  }\n'])));(0,f.Ps)(c||(c=(0,b.Z)(['\n  query getUser($id: Int) {\n    newUserDate: Account(where: { id: { _eq: $id } }) {\n      label: name\n      accountId: id\n      type\n      admin: Admins {\n        adminId: adminId\n        accountId\n      }\n      accountUsers: Account_Users(where: { role: { _eq: "owner" } }) {\n        role\n        user: User {\n          email\n          nameFirst\n          nameLast\n          userId: id\n        }\n      }\n    }\n  }\n'])));var S=(0,f.Ps)(s||(s=(0,b.Z)(['\n  query GetAccountsForSelect($type: String!, $q: String, $limit: Int, $offset: Int) {\n    items: Account(\n      where: { name: { _ilike: $q }, type: { _eq: $type } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n      accountUsers: Account_Users(where: { role: { _eq: "owner" } }) {\n        id\n        role\n        user: User {\n          id\n        }\n      }\n    }\n  }\n']))),_=t(11163),q=t.n(_),k=t(83894),j=t(23855),x=t(43703),Z=t(69119),T=t(38148),M=t(74975),A=t(10367),C=[{type:"tile",pinned:!0,colourConfig:{success:[0,15],danger:[16,30],warning:[30,null]},name:"reactiveJobsToday",greaterIsBetter:!0},{type:"tile",pinned:!0,colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},name:"plannedJobsToday",greaterIsBetter:!0},{type:"tile",pinned:!0,colourConfig:{success:[0,5],danger:[6,10],warning:[11,null]},name:"quotesToday",greaterIsBetter:!0},{type:"tile",pinned:!0,colourConfig:{success:[0,4],danger:[5,5],warning:[6,null]},name:"offeredJobs",greaterIsBetter:!0},{type:"chart",name:"chartJobMetrics"},{type:"mapChart",name:"mapChart"},{type:"chart",name:"numberOfNotifications"}],O=t(27812),N=t(7069),P=t(77349),D=t(29383),L=t(96486);function J(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?J(Object(t),!0).forEach(function(n){(0,u.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var z="/dashboard",E=function(e){var n,t,o,a,r,i,c,s,l,d,u=e.asAt,m=e.userTiles,h=e.dashboardTilesData,p=e.userId,y=e.locationId,v=e.managerId,g=e.customerManagerId,b=e.accountId,f=h||{},I=f.thresholdApprovals,w=f.outstandingInvoices,$=f.outstandingInvoicesValues,S=f.invoiceUnsent,_=f.complianceJobToday,q=f.inprogressJobs,k=f.jobsInDispute,j=f.liveP1Jobs,x=f.numberOfOpenJobs,Z=f.offeredJobs,T=f.onHold,A=f.overdueComplianceJobs,C=f.plannedJobsToday,J=f.ppmOverdue,E=f.quotesDueThisWeek,R=f.quotesNotSent,F=f.quotesOverdue,U=f.quotesToday,W=f.reactiveJobsToday,G=f.reportUnsent,Q=f.reactiveOverdue,V=f.upliftRequested,H=f.worksValueMTD,Y=f.worksValueYTD,K=f.jobsOnThisMonth,X=f.revenuesOnThisMonth,ee=f.revenuesOnThisYear,en=f.topCustomersBySpendOnThisYear,et=f.notificationsLateArrivalToday,eo=f.notificationsInvoiceNotSentToday,ea=f.notificationsSupplierNotAssignedToday,er=f.notificationsLateArrivalOnThisWeek,ei=f.notificationsInvoiceNotSentOnThisWeek,ec=f.notificationsSupplierNotAssignedOnThisWeek,es=f.notificationsLateArrivalOnTwoWeeks,el=f.notificationsInvoiceNotSentOnTwoWeeks,ed=f.notificationsSupplierNotAssignedOnTwoWeeks,eu=f.notificationsLateArrivalOnThisMonth,em=f.notificationsInvoiceNotSentOnThisMonth,eh=f.notificationsSupplierNotAssignedOnThisMonth,ep=f.suppliersLocation,ey=f.jobsLocation,ev=f.failedJobs,eg=f.jobsWithTimeNotConfirmed,eb=f.jobsRequiringExpenseAmount,ef=f.imminentJobSlaBreaches,eI=f.jobsWithTimeNotConfirmedCurrentMonth,ew=f.jobsWithTimeNotConfirmedNext7days,e$=f.openRemedialQuotes,eS=f.openQuotes,e_=f.imminentQuoteSlaBreaches,eq=f.quoteSlaBreached,ek=f.jobSlaBreachedOnSite,ej=f.jobSlaBreachedJobReport,ex=[],eZ=[],eT=[],eM=[],eA=[],eC=[],eO=[],eN=[],eP=[],eD=[];if(K&&K.length>0&&K.forEach(function(e,n){var t=e.date,o=e.ppmJobsOnThisMonth,a=e.reactiveJobsOnThisMonth,r=new Date(u),i=new Date(t);if(i>=(0,N.Z)(r,8)&&i<=(0,P.Z)(r,7)){if(K[n-1])for(var c=K[n-1].date,s=(0,D.Z)(i,new Date(c)),l=1;l<s;l++)ex.push({date:(0,N.Z)(i,l),values:[]}),eM.push({date:(0,N.Z)(i,l),values:[]});ex.push({date:i,values:o}),eM.push({date:i,values:a})}if(i>=(0,N.Z)(r,15)&&i<=(0,P.Z)(r,14)){if(K[n-1])for(var d=K[n-1].date,m=(0,D.Z)(i,new Date(d)),h=1;h<m;h++)eZ.push({date:(0,N.Z)(i,h),values:[]}),eA.push({date:(0,N.Z)(i,h),values:[]});eZ.push({date:i,values:o}),eA.push({date:i,values:a})}if(i>=(0,N.Z)(r,31)&&i<=(0,P.Z)(r,30)){if(K[n-1])for(var p=K[n-1].date,y=(0,D.Z)(i,new Date(p)),v=1;v<y;v++)eT.push({date:(0,N.Z)(i,v),values:[]}),eC.push({date:(0,N.Z)(i,v),values:[]});eT.push({date:i,values:o}),eC.push({date:i,values:a})}}),X&&X.length>0){var eL="dd/MM";X.forEach(function(e,n){var t=e.date,o=e.revenuesOnThisDay,a=new Date(u),r=new Date(t);if(r>=(0,N.Z)(a,8)){if(X[n-1])for(var i=X[n-1].date,c=(0,D.Z)(new Date(i),r),s=1;s<c;s++)eO.push({date:(0,P.Z)(r,s),sum:[]});eO.push({date:r,sum:o,formatDate:eL})}if(r>=(0,N.Z)(a,15)){if(X[n-1])for(var l=X[n-1].date,d=(0,D.Z)(new Date(l),r),m=1;m<d;m++)eN.push({date:(0,P.Z)(r,m),sum:[]});eN.push({date:r,sum:o,formatDate:eL})}if(r>=(0,N.Z)(a,31)){if(X[n-1])for(var h=X[n-1].date,p=(0,D.Z)(new Date(h),r),y=1;y<p;y++)eP.push({date:(0,P.Z)(r,y),sum:[]});eP.push({date:r,sum:o,formatDate:eL})}})}ee&&ee.length>0&&ee.forEach(function(e){var n=e.date,t=e.revenuesOnThisMonth;eD.push({date:n,sum:t,formatDate:"MM/yyyy"})});var eJ=u?(0,M.Z)(u,"yyyy-MM-dd"):"",eB=[{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,15],danger:[16,30],warning:[30,null]},title:"Reactive jobs today",description:"Reactive jobs scheduled to happen today",name:"reactiveJobsToday",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=reactiveJobsToday").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==W?void 0:W.today)||0,week:(null==W?void 0:W.week)||0,month:(null==W?void 0:W.month)||0,threeMonth:(null==W?void 0:W.threeMonth)||0,year:(null==W?void 0:W.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"PPM jobs today",description:"Planned maintenance jobs scheduled to happen today",name:"plannedJobsToday",to:"".concat(z,"/issues?type=ppm&asAt=").concat(eJ,"&tileName=plannedJobsToday").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==C?void 0:C.today)||0,week:(null==C?void 0:C.week)||0,month:(null==C?void 0:C.month)||0,threeMonth:(null==C?void 0:C.threeMonth)||0,year:(null==C?void 0:C.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,5],danger:[6,10],warning:[11,null]},title:"Quotes today",description:"Quotes where due date is today",name:"quotesToday",to:"".concat(z,"/quotes?asAt=").concat(eJ,"&tileName=quotesToday").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==U?void 0:U.today)||0,week:(null==U?void 0:U.week)||0,month:(null==U?void 0:U.month)||0,threeMonth:(null==U?void 0:U.threeMonth)||0,year:(null==U?void 0:U.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,4],danger:[5,5],warning:[6,null]},title:"Unassigned jobs",description:"Reactive jobs that have been sent to supplier(s) but not yet accepted",name:"offeredJobs",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=offeredJobs").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==Z?void 0:Z.today)||0,week:(null==Z?void 0:Z.week)||0,month:(null==Z?void 0:Z.month)||0,threeMonth:(null==Z?void 0:Z.threeMonth)||0,year:(null==Z?void 0:Z.year)||0},greaterIsBetter:!0},{type:"chart",size:[2,1],title:"Jobs metrics",name:"chartJobMetrics",values:{week:[{groupLabel:"Jobs per day",groupName:"jobsPerUnit",groupDescription:"Number of jobs currently in the system for selected time range",chartData:[{label:"Planned",color:"#1E88E5",data:null!==(n=(0,L.orderBy)(ex,"date","asc"))&&void 0!==n?n:[]},{label:"Reactive",color:"#cfd9e0",data:null!==(t=(0,L.orderBy)(eM,"date","asc"))&&void 0!==t?t:[]}]},{groupLabel:"Revenue per day",groupName:"revenuesPerUnit",groupDescription:"Sum of all job totals by day for selected time range",chartData:[{label:"Revenue",color:"#1E88E5",data:null!==(o=(0,L.orderBy)(eO,"date","asc"))&&void 0!==o?o:[]}]}],twoWeeks:[{groupLabel:"Jobs per day",groupName:"jobsPerUnit",groupDescription:"Number of jobs currently in the system for selected time range",chartData:[{label:"Planned",color:"#1E88E5",data:null!==(a=(0,L.orderBy)(eZ,"date","asc"))&&void 0!==a?a:[]},{label:"Reactive",color:"#cfd9e0",data:null!==(r=(0,L.orderBy)(eA,"date","asc"))&&void 0!==r?r:[]}]},{groupLabel:"Revenue per day",groupName:"revenuesPerUnit",groupDescription:"Sum of all job totals by day for selected time range",chartData:[{label:"Revenue",color:"#1E88E5",data:null!==(i=(0,L.orderBy)(eN,"date","asc"))&&void 0!==i?i:[]}]}],month:[{groupLabel:"Jobs per day",groupName:"jobsPerUnit",groupDescription:"Number of jobs currently in the system for selected time range",chartData:[{label:"Planned",color:"#1E88E5",data:null!==(c=(0,L.orderBy)(eT,"date","asc"))&&void 0!==c?c:[]},{label:"Reactive",color:"#cfd9e0",data:null!==(s=(0,L.orderBy)(eC,"date","asc"))&&void 0!==s?s:[]}]},{groupLabel:"Revenue per day",groupName:"revenuesPerUnit",groupDescription:"Sum of all job totals by day for selected time range",chartData:[{label:"Revenue",color:"#1E88E5",data:null!==(l=(0,L.orderBy)(eP,"date","asc"))&&void 0!==l?l:[]}]}],year:[{groupLabel:"Monthly job revenue",groupName:"revenuesPerYear",groupDescription:"Sum of all job totals by day for selected time range",chartData:[{label:"Revenue",color:"#1E88E5",data:null!==(d=(0,L.orderBy)(eD,"date","asc"))&&void 0!==d?d:[]}]},{groupLabel:"Top customers by spend",groupName:"customersBySpend",groupDescription:"Top 10 customers by spend over last 12 months",chartData:[{label:"Top customers by spend",color:"#1E88E5",data:null!=en?en:[]}]}]}},{type:"mapChart",size:[2,1],title:"Geolocation info",name:"mapChart",values:{month:[{groupLabel:"Last supplier location",groupName:"suppliersLocation",groupDescription:"Last supplier location",chartData:[{label:"Last supplier location",markerIcon:"supplier",data:(null==ep?void 0:ep.month)||[]}]},{groupLabel:"Job location by post-code",groupName:"jobsLocation",groupDescription:"Job location by post-code",chartData:[{label:"Job location by post-code",markerIcon:"job",data:(null==ey?void 0:ey.month)||[]}]}],threeMonth:[{groupLabel:"Job location by post-code",groupName:"jobsLocation",groupDescription:"Job location by post-code",chartData:[{label:"Job location by post-code",markerIcon:"job",data:(null==ey?void 0:ey.threeMonth)||[]}]}],tomorrow:[{groupLabel:"Job location by post-code",groupName:"jobsLocation",groupDescription:"Job location by post-code",chartData:[{label:"Job location by post-code",markerIcon:"job",data:(null==ey?void 0:ey.tomorrow)||[]}]}],today:[{groupLabel:"Job location by post-code",groupName:"jobsLocation",groupDescription:"Job location by post-code",chartData:[{label:"Job location by post-code",markerIcon:"job",data:(null==ey?void 0:ey.today)||[]}]}],nextWeek:[{groupLabel:"Job location by post-code",groupName:"jobsLocation",groupDescription:"Job location by post-code",chartData:[{label:"Job location by post-code",markerIcon:"job",data:(null==ey?void 0:ey.nextWeek)||[]}]}],nextTwoWeeks:[{groupLabel:"Job location by post-code",groupName:"jobsLocation",groupDescription:"Job location by post-code",chartData:[{label:"Job location by post-code",markerIcon:"job",data:(null==ey?void 0:ey.nextTwoWeeks)||[]}]}],nextMonth:[{groupLabel:"Job location by post-code",groupName:"jobsLocation",groupDescription:"Job location by post-code",chartData:[{label:"Job location by post-code",markerIcon:"job",data:(null==ey?void 0:ey.nextMonth)||[]}]}],week:[{groupLabel:"Job location by post-code",groupName:"jobsLocation",groupDescription:"Job location by post-code",chartData:[{label:"Job location by post-code",markerIcon:"job",data:(null==ey?void 0:ey.week)||[]}]}]}},{type:"chart",size:[2,1],title:"Notifications",name:"numberOfNotifications",values:{today:[{groupLabel:"Notifications",groupName:"notifications",chartData:[{label:"Late Arrival",color:"#1E88E5",data:[null!=et?et:0]},{label:"Invoice not sent",color:"#1565C0",data:[null!=eo?eo:0]},{label:"Supplier not assigned",color:"#E0E0E0",data:[null!=ea?ea:0]}]}],week:[{groupLabel:"Notifications",groupName:"notifications",chartData:[{label:"Late Arrival",color:"#1E88E5",data:[null!=er?er:0]},{label:"Invoice not sent",color:"#1565C0",data:[null!=ei?ei:0]},{label:"Supplier not assigned",color:"#E0E0E0",data:[null!=ec?ec:0]}]}],twoWeeks:[{groupLabel:"Notifications",groupName:"notifications",chartData:[{label:"Late Arrival",color:"#1E88E5",data:[null!=es?es:0]},{label:"Invoice not sent",color:"#1565C0",data:[null!=el?el:0]},{label:"Supplier not assigned",color:"#E0E0E0",data:[null!=ed?ed:0]}]}],month:[{groupLabel:"Notifications",groupName:"notifications",chartData:[{label:"Late Arrival",color:"#1E88E5",data:[null!=eu?eu:0]},{label:"Invoice not sent",color:"#1565C0",data:[null!=em?em:0]},{label:"Supplier not assigned",color:"#E0E0E0",data:[null!=eh?eh:0]}]}]}},{type:"tile",size:[1,1],colourConfig:{success:[0,4],danger:[5,5],warning:[6,null]},title:"Live P1 jobs",description:"Jobs with P1 status scheduled for today but not completed",name:"liveP1Jobs",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=liveP1Jobs").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==j?void 0:j.today)||0,week:(null==j?void 0:j.week)||0,month:(null==j?void 0:j.month)||0,threeMonth:(null==j?void 0:j.threeMonth)||0,year:(null==j?void 0:j.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,4],danger:[5,5],warning:[6,null]},title:"Quotes not sent",description:"Quotes that have been submitted but not sent",name:"quotesNotSent",to:"".concat(z,"/quotes?asAt=").concat(eJ,"&tileName=quotesNotSent").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==R?void 0:R.today)||0,week:(null==R?void 0:R.week)||0,month:(null==R?void 0:R.month)||0,threeMonth:(null==R?void 0:R.threeMonth)||0,year:(null==R?void 0:R.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,4],danger:[5,5],warning:[6,null]},title:"Overdue reactive jobs",description:"Reactive jobs that have not yet been started or completed 24 hours after scheduled time.",name:"reactiveOverdue",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=reactiveOverdue").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==Q?void 0:Q.today)||0,week:(null==Q?void 0:Q.week)||0,month:(null==Q?void 0:Q.month)||0,threeMonth:(null==Q?void 0:Q.threeMonth)||0,year:(null==Q?void 0:Q.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,4],danger:[5,5],warning:[6,null]},title:"Quotes overdue",description:"Quotes which are past due date but have not had resolution.",name:"quotesOverdue",to:"".concat(z,"/quotes?asAt=").concat(eJ,"&tileName=quotesOverdue").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==F?void 0:F.today)||0,week:(null==F?void 0:F.week)||0,month:(null==F?void 0:F.month)||0,threeMonth:(null==F?void 0:F.threeMonth)||0,year:(null==F?void 0:F.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,4],danger:[5,5],warning:[6,null]},title:"Overdue PPM",description:"Planned maintenance jobs that have not yet been started or completed 24 hours after scheduled time",name:"ppmOverdue",to:"".concat(z,"/issues?type=ppm&asAt=").concat(eJ,"&tileName=ppmOverdue").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==J?void 0:J.today)||0,week:(null==J?void 0:J.week)||0,month:(null==J?void 0:J.month)||0,threeMonth:(null==J?void 0:J.threeMonth)||0,year:(null==J?void 0:J.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Compliance jobs today",description:"Compliance work orders that are scheduled to take place today",name:"complianceJobToday",to:"".concat(z,"/issues?type=cppm&asAt=").concat(eJ,"&tileName=complianceJobToday").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==_?void 0:_.today)||0,week:(null==_?void 0:_.week)||0,month:(null==_?void 0:_.month)||0,threeMonth:(null==_?void 0:_.threeMonth)||0,year:(null==_?void 0:_.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Overdue compliance jobs",description:"Compliance jobs that have not yet been started or completed 24 hours after scheduled time",name:"overdueComplianceJobs",to:"".concat(z,"/issues?type=cppm&asAt=").concat(eJ,"&tileName=overdueComplianceJobs").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==A?void 0:A.today)||0,week:(null==A?void 0:A.week)||0,month:(null==A?void 0:A.month)||0,threeMonth:(null==A?void 0:A.threeMonth)||0,year:(null==A?void 0:A.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Number of open jobs",description:"Jobs scheduled for a date prior to today but where job has not been closed",name:"numberOfOpenJobs",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=numberOfOpenJobs").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==x?void 0:x.today)||0,week:(null==x?void 0:x.week)||0,month:(null==x?void 0:x.month)||0,threeMonth:(null==x?void 0:x.threeMonth)||0,year:(null==x?void 0:x.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,20],danger:[21,40],warning:[41,null]},title:"Jobs in progress",description:"Jobs currently in progress",name:"inprogressJobs",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=inprogressJobs").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==q?void 0:q.today)||0,week:(null==q?void 0:q.week)||0,month:(null==q?void 0:q.month)||0,threeMonth:(null==q?void 0:q.threeMonth)||0,year:(null==q?void 0:q.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,5],danger:[6,10],warning:[11,null]},title:"Reports unsent",description:"Jobs that have been completed but where a report has not been sent within 24 hours",name:"reportUnsent",to:"".concat(z,"/issues?type=all&asAt=").concat(eJ,"&tileName=reportUnsent").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==G?void 0:G.today)||0,week:(null==G?void 0:G.week)||0,month:(null==G?void 0:G.month)||0,threeMonth:(null==G?void 0:G.threeMonth)||0,year:(null==G?void 0:G.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,4],danger:[5,5],warning:[6,null]},title:"Jobs on hold",description:"Jobs currently marked as on hold",name:"onHold",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=onHold").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==T?void 0:T.today)||0,week:(null==T?void 0:T.week)||0,month:(null==T?void 0:T.month)||0,threeMonth:(null==T?void 0:T.threeMonth)||0,year:(null==T?void 0:T.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,14],danger:[15,15],warning:[16,null]},title:"Jobs in dispute",description:"Jobs currently marked as in dispute",name:"jobsInDispute",to:"".concat(z,"/issues?type=all&asAt=").concat(eJ,"&tileName=jobsInDispute").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==k?void 0:k.today)||0,week:(null==k?void 0:k.week)||0,month:(null==k?void 0:k.month)||0,threeMonth:(null==k?void 0:k.threeMonth)||0,year:(null==k?void 0:k.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,4],danger:[5,5],warning:[6,null]},title:"Uplift requests",description:"Jobs where an uplift has been requested but not yet approved or rejected",name:"upliftRequested",to:"".concat(z,"/issues?type=all&asAt=").concat(eJ,"&tileName=upliftRequested").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==V?void 0:V.today)||0,week:(null==V?void 0:V.week)||0,month:(null==V?void 0:V.month)||0,threeMonth:(null==V?void 0:V.threeMonth)||0,year:(null==V?void 0:V.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,9],danger:[10,10],warning:[11,null]},title:"Invoice not sent",description:"Jobs where report has been sent but job has not yet been invoiced",name:"invoiceUnsent",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=invoiceUnsent").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==S?void 0:S.today)||0,week:(null==S?void 0:S.week)||0,month:(null==S?void 0:S.month)||0,threeMonth:(null==S?void 0:S.threeMonth)||0,year:(null==S?void 0:S.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,9],danger:[10,10],warning:[11,null]},title:"Work order value (MTD)",description:"Value of jobs completed in the month to date",name:"worksValueMTD",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=worksValueMTD").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==H?void 0:H.today)||0,week:(null==H?void 0:H.week)||0,month:(null==H?void 0:H.month)||0,threeMonth:(null==H?void 0:H.threeMonth)||0,year:(null==H?void 0:H.year)||0},greaterIsBetter:!0,valueType:"price"},{type:"tile",size:[1,1],colourConfig:{success:[0,9],danger:[10,10],warning:[11,null]},title:"Work order value (YTD)",description:"Value of jobs completed in the year to date",name:"worksValueYTD",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=worksValueYTD").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==Y?void 0:Y.today)||0,week:(null==Y?void 0:Y.week)||0,month:(null==Y?void 0:Y.month)||0,threeMonth:(null==Y?void 0:Y.threeMonth)||0,year:(null==Y?void 0:Y.year)||0},greaterIsBetter:!0,valueType:"price"},{type:"tile",size:[1,1],colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Quotes due this week",description:"Quotes where due date is within next 7 days",name:"quotesDueThisWeek",to:"".concat(z,"/quotes?asAt=").concat(eJ,"&tileName=quotesDueThisWeek").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==E?void 0:E.today)||0,week:(null==E?void 0:E.week)||0,month:(null==E?void 0:E.month)||0,threeMonth:(null==E?void 0:E.threeMonth)||0,year:(null==E?void 0:E.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Number of outstanding invoices",description:"The number of invoices that have been sent to customers but not reconciled",name:"outstandingInvoices",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=outstandingInvoices").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==w?void 0:w.today)||0,week:(null==w?void 0:w.week)||0,month:(null==w?void 0:w.month)||0,threeMonth:(null==w?void 0:w.threeMonth)||0,year:(null==w?void 0:w.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Value of outstanding invoices",description:"The value of invoices that have been sent to customers but not reconciled",name:"outstandingInvoicesValues",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=outstandingInvoices").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==$?void 0:$.today)||0,week:(null==$?void 0:$.week)||0,month:(null==$?void 0:$.month)||0,threeMonth:(null==$?void 0:$.threeMonth)||0,year:(null==$?void 0:$.year)||0},greaterIsBetter:!0,valueType:"price"},{type:"tile",size:[1,1],colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Threshold approvals outstanding",description:"Work orders and quotes where approval is required based on threshold levels",name:"thresholdApprovals",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=thresholdApprovals").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==I?void 0:I.today)||0,week:(null==I?void 0:I.week)||0,month:(null==I?void 0:I.month)||0,threeMonth:(null==I?void 0:I.threeMonth)||0,year:(null==I?void 0:I.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Failed jobs",description:"Jobs where supplier has reported failures and these have not been resolved.",name:"failedJobs",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=failedJobs").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==ev?void 0:ev.today)||0,week:(null==ev?void 0:ev.week)||0,month:(null==ev?void 0:ev.month)||0,threeMonth:(null==ev?void 0:ev.threeMonth)||0,year:(null==ev?void 0:ev.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Jobs with time not confirmed",description:"Scheduled jobs where an attendance time has not been specified by supplier.",name:"jobsWithTimeNotConfirmed",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=jobsWithTimeNotConfirmed").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==eg?void 0:eg.today)||0,week:(null==eg?void 0:eg.week)||0,month:(null==eg?void 0:eg.month)||0,threeMonth:(null==eg?void 0:eg.threeMonth)||0,year:(null==eg?void 0:eg.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Jobs requiring expense amounts",description:"Jobs where expenses have amount expense pending.",name:"jobsRequiringExpenseAmount",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=jobsRequiringExpenseAmount").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==eb?void 0:eb.today)||0,week:(null==eb?void 0:eb.week)||0,month:(null==eb?void 0:eb.month)||0,threeMonth:(null==eb?void 0:eb.threeMonth)||0,year:(null==eb?void 0:eb.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Imminent job SLA breaches",description:"These are jobs where there is a potential SLA breach in 1 hour or less.",name:"imminentJobSlaBreaches",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=imminentJobSlaBreaches").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==ef?void 0:ef.today)||0,week:(null==ef?void 0:ef.week)||0,month:(null==ef?void 0:ef.month)||0,threeMonth:(null==ef?void 0:ef.threeMonth)||0,year:(null==ef?void 0:ef.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Jobs with time not confirmed.",subtitle:"Current month",description:"Scheduled jobs that are due to be completed in the current calendar month but where no attendance time has been specified by the supplier.",name:"jobsWithTimeNotConfirmedCurrentMonth",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=jobsWithTimeNotConfirmedCurrentMonth").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==eI?void 0:eI.today)||0,week:(null==eI?void 0:eI.week)||0,month:(null==eI?void 0:eI.month)||0,threeMonth:(null==eI?void 0:eI.threeMonth)||0,year:(null==eI?void 0:eI.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Jobs with time not confirmed.",subtitle:"Next 7 days",description:"Scheduled jobs that are due to be completed within the next 7 days but where no attendance time has been specified by the supplier.",name:"jobsWithTimeNotConfirmedNext7days",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=jobsWithTimeNotConfirmedNext7days").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==ew?void 0:ew.today)||0,week:(null==ew?void 0:ew.week)||0,month:(null==ew?void 0:ew.month)||0,threeMonth:(null==ew?void 0:ew.threeMonth)||0,year:(null==ew?void 0:ew.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,5],danger:[6,10],warning:[11,null]},title:"Open remedial quotes",description:"These are remedial quotes that have not yet been resolved - for example, accepted or rejected by the customer or closed.",name:"openRemedialQuotes",to:"".concat(z,"/quotes?asAt=").concat(eJ,"&tileName=openRemedialQuotes").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==e$?void 0:e$.today)||0,week:(null==e$?void 0:e$.week)||0,month:(null==e$?void 0:e$.month)||0,threeMonth:(null==e$?void 0:e$.threeMonth)||0,year:(null==e$?void 0:e$.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,5],danger:[6,10],warning:[11,null]},title:"Open quotes",description:"These are quotes that have not yet been resolved - for example, accepted or rejected by the customer or closed.",name:"openQuotes",to:"".concat(z,"/quotes?asAt=").concat(eJ,"&tileName=openQuotes").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==eS?void 0:eS.today)||0,week:(null==eS?void 0:eS.week)||0,month:(null==eS?void 0:eS.month)||0,threeMonth:(null==eS?void 0:eS.threeMonth)||0,year:(null==eS?void 0:eS.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"Imminent quote SLA breaches",description:"These are quotes where there is a potential SLA breach in 1 day or less.",name:"imminentQuoteSlaBreaches",to:"".concat(z,"/quotes?asAt=").concat(eJ,"&tileName=imminentQuoteSlaBreaches").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==e_?void 0:e_.today)||0,week:(null==e_?void 0:e_.week)||0,month:(null==e_?void 0:e_.month)||0,threeMonth:(null==e_?void 0:e_.threeMonth)||0,year:(null==e_?void 0:e_.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"SLA breaches",subtitle:"Quotes - Quote return time",description:"These are quotes where the SLA was not returned within the relevant timeframe.",name:"quoteSlaBreached",to:"".concat(z,"/quotes?asAt=").concat(eJ,"&tileName=quoteSlaBreached").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==eq?void 0:eq.today)||0,week:(null==eq?void 0:eq.week)||0,month:(null==eq?void 0:eq.month)||0,threeMonth:(null==eq?void 0:eq.threeMonth)||0,year:(null==eq?void 0:eq.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"SLA breaches",subtitle:"Work orders - On site time",description:"These are jobs where the time taken for the engineer / operative to arrive on site was beyond the relevant SL.A. ",name:"jobSlaBreachedOnSite",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=jobSlaBreachedOnSite").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==ek?void 0:ek.today)||0,week:(null==ek?void 0:ek.week)||0,month:(null==ek?void 0:ek.month)||0,threeMonth:(null==ek?void 0:ek.threeMonth)||0,year:(null==ek?void 0:ek.year)||0},greaterIsBetter:!0},{type:"tile",size:[1,1],pinned:!0,colourConfig:{success:[0,10],danger:[11,20],warning:[21,null]},title:"SLA breaches",subtitle:"Work orders - Report submission time",description:"These are jobs where the time taken to submit the report to the customer was more than the relevant SL.A.",name:"jobSlaBreachedJobReport",to:"".concat(z,"/issues?asAt=").concat(eJ,"&tileName=jobSlaBreachedJobReport").concat(p?"&userId=".concat(p):"").concat(v?"&managerId=".concat(v):"").concat(g?"&customerManagerId=".concat(g):"").concat(y?"&locationId=".concat(y):"").concat(b?"&accountId=".concat(b):""),values:{today:(null==ej?void 0:ej.today)||0,week:(null==ej?void 0:ej.week)||0,month:(null==ej?void 0:ej.month)||0,threeMonth:(null==ej?void 0:ej.threeMonth)||0,year:(null==ej?void 0:ej.year)||0},greaterIsBetter:!0}],ez=eB.map(function(e){return e.name}),eE={success:[0,10],danger:[11,20],warning:[21,null]},eR=m.reduce(function(e,n){var t,o=n.colourConfig,a=n.pinned,r=n.greaterIsBetter,i=n.name,c=eB.find(function(e){return e.name===i});return c?[].concat((0,O.Z)(e),[B(B({},c),{},{pinned:null!==(t=null!=a?a:c.pinned)&&void 0!==t&&t,colourConfig:void 0===o?eE:o,greaterIsBetter:void 0===r||r})]):e},[]).sort(function(e,n){return ez.indexOf(e)-ez.indexOf(n)});return{fullTilesList:eB,userTilesList:eR}},R=t(86886),F=t(5616),U=t(26447),W=t(11057),G=t(98456),Q=t(87918),V=t(63871),H=t(57778),Y=t(57616),K=t(35441),X=t(97534),ee=t(69496),en=t(29422),et=t(30734);function eo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function ea(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?eo(Object(t),!0).forEach(function(n){(0,u.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eo(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var er=function(e){var n=e.groupName,t=e.time,o=e.asAt,a=null,r={};switch(n){case"jobsLocation":a=$;break;case"suppliersLocation":a=w}if("jobsLocation"===n)switch(r.Location={Addresses:{registered:{_eq:!0},entity:{_eq:"Location"},Address:{geo:{_is_null:!1}}}},t){case"today":r._and=[{timingStart:{_lte:o}},{timingStart:{_gte:(0,Z.Z)(o)}}];break;case"tomorrow":r._and=[{timingStart:{_lte:(0,en.Z)(o,{days:1})}},{timingStart:{_gte:(0,en.Z)((0,Z.Z)(o),{days:1})}}];break;case"nextWeek":r._and=[{timingStart:{_lte:(0,en.Z)(o,{weeks:1})}},{timingStart:{_gte:(0,en.Z)((0,Z.Z)(o),{days:1})}}];break;case"nextTwoWeeks":r._and=[{timingStart:{_lte:(0,en.Z)(o,{weeks:2})}},{timingStart:{_gte:(0,en.Z)((0,Z.Z)(o),{days:1})}}];break;case"nextMonth":r._and=[{timingStart:{_lte:(0,en.Z)(o,{months:1})}},{timingStart:{_gte:(0,en.Z)((0,Z.Z)(o),{days:1})}}];break;case"week":r._and=[{timingStart:{_lte:o}},{timingStart:{_gte:(0,et.Z)(o,{weeks:1})}}];break;case"month":r._and=[{timingStart:{_lte:o}},{timingStart:{_gte:(0,et.Z)(o,{months:1})}}];break;case"threeMonth":r._and=[{timingStart:{_lte:o}},{timingStart:{_gte:(0,et.Z)(o,{months:3})}}]}else r.geo={_is_null:!1},"month"===t&&(r._and=[{createdAt:{_lte:o}},{createdAt:{_gte:(0,et.Z)(o,{months:1})}}]);return{query:a,variables:{where:r}}},ei=function(e){var n=e.state,t=e.data,o=e.groupName,a=e.time,r={};if("suppliersLocation"===o)r=ea(ea({},n[o]||{}),{},(0,u.Z)({},a,t[o].map(function(e){var n,t,o,a=e.id,r=e.geo;return{id:a,account:e.account,user:e.user,position:{lat:null===(n=r.coordinates)||void 0===n?void 0:n[1],lng:null===(t=r.coordinates)||void 0===t?void 0:t[0]}}})));else{var i=t[o].map(function(e){var n,t,o,a,r,i=e.id,c=e.number,s=e.type,l=e.location;return{id:i,number:c,type:s,location:l,supplier:e.supplier,service:e.service,position:{lat:null===(n=l.addresses[0].address.geo)||void 0===n?void 0:null===(t=n.coordinates)||void 0===t?void 0:t[1],lng:null===(o=l.addresses[0].address.geo)||void 0===o?void 0:null===(a=o.coordinates)||void 0===a?void 0:a[0]}}});r=ea(ea({},n[o]||{}),{},(0,u.Z)({},a,i))}return r},ec=function(e){var n=e.prevData,t=e.data,o=e.type;return Object.keys(t).reduce(function(e,a){return ea(ea({},e),{},(0,u.Z)({},a,ea(ea({},(null==n?void 0:n[a])||{}),{},(0,u.Z)({},o,t[a]))))},{})},es=function(e){var n,t=e.name,o=e.asAt,r=e.userId,i=e.adminId,c=e.time,s=e.locationId,l=e.managerId,d=(0,f.Ps)(a||(a=(0,b.Z)(["\n  query GetDashboard(\n    $accountId: Int\n    $adminId: Int\n    $asAt: timestamptz\n    $monthStart: timestamptz\n    $dayStart: timestamptz\n    $userId: Int\n    $yearStart: timestamptz\n    $locationId: Int\n    $managerId: Int\n  ) {\n    ",": getDashboard_HomeTiles_","(\n      args: {\n        adminId: $adminId\n        asAt: $asAt\n        accountId: $accountId\n        monthStart: $monthStart\n        dayStart: $dayStart\n        userId: $userId\n        yearStart: $yearStart\n        locationId: $locationId\n        managerId: $managerId\n      }\n    ) {\n      sum\n    }\n  }\n"])),t,t),u=null;switch(c){case"week":u=(0,et.Z)(o,{weeks:1});break;case"month":u=(0,et.Z)(o,{months:1});break;case"threeMonth":u=(0,et.Z)(o,{months:3});break;case"year":u=(0,et.Z)(o,{years:1})}return{query:d,variables:{adminId:i,asAt:u,dayStart:(0,Z.Z)(u),monthStart:(0,x.Z)(u),userId:r,yearStart:(0,T.Z)(u),locationId:s,managerId:l}}},el=t(8602),ed=t(61730),eu=t(50480),em=t(69368),eh=t(11994),ep=t(90629),ey=t(72936),ev=t(42283),eg=t(76301),eb=t(10166),ef=t(6911),eI=t(85893),ew=function(e){var n=e.open,t=e.setOpen,o=e.initialFilters,a=e.filters,r=e.setFilters,i=(0,ed.Z)("(max-width: 400px)")?4:0,c=(0,ey.x)().user,s=(0,ev.cI)({defaultValues:a||o}),l=s.control,d=s.handleSubmit,u=s.reset,m=(0,s.watch)(),h=(0,p.useState)(""),y=h[0],g=h[1],b=(0,p.useState)(""),f=b[0],I=b[1],w=(0,p.useState)(""),$=w[0],_=w[1],q=(0,p.useState)(""),k=q[0],j=q[1],x=(0,v.a)(S,{variables:{type:"customer",q:""!==y?"%".concat(y,"%"):null,limit:50,offset:0}}),Z=x.loading,T=x.data,M=(T=void 0===T?{items:[]}:T).items,A=(0,v.a)(eg._d,{variables:{where:{name:{_ilike:""!==$?"%".concat($,"%"):null},status:{_eq:"active"}},limit:50,offset:0}}),C=A.loading,O=A.data,N=(O=void 0===O?{items:[]}:O).items,P=(0,v.a)(S,{variables:{type:"supplier",q:""!==f?"%".concat(f,"%"):null,limit:50,offset:0}}),D=P.loading,L=P.data,J=(L=void 0===L?{items:[]}:L).items,B=(0,v.a)(eg.K4,{variables:{accountId:c.accountId,limit:50,offset:0,q:""!==k?"%".concat(k,"%"):null}}),z=B.data,E=(z=void 0===z?{items:[]}:z).items,F=B.loading,G=function(e){try{var n={customer:e.customer,location:e.location,manager:e.manager?{value:c.id,label:c.fullName}:null,supplier:e.supplier,customerManager:e.customerManager};r(n)}finally{t(!1)}},Q=function(){r(o),u(o),t(!1)};return(0,eI.jsx)(e$,{keepMounted:!0,open:n,onClose:function(){return t(!1)},children:(0,eI.jsx)("form",{onSubmit:d(G),children:(0,eI.jsx)(eS,{children:(0,eI.jsxs)(R.ZP,{container:!0,rowGap:4,children:[(0,eI.jsx)(R.ZP,{container:!0,children:(0,eI.jsx)(R.ZP,{item:!0,xs:12,children:(0,eI.jsx)(ev.Qr,{fullWidth:!0,name:"customer",control:l,render:function(e){var n=e.value,t=e.onChange;return(0,eI.jsx)(ef.q,{disabled:m.supplier||m.location,value:n,onChange:function(e,n){return t(n)},loading:Z,options:M,setSearch:g,textFieldProps:{color:"secondary",variant:"standard",label:"Select customer"}})}})})}),(0,eI.jsxs)(R.ZP,{container:!0,columnSpacing:4,rowGap:i,children:[(0,eI.jsx)(R.ZP,{item:!0,xs:12,xs2:6,children:(0,eI.jsx)(ev.Qr,{name:"location",control:l,render:function(e){var n=e.value,t=e.onChange;return(0,eI.jsx)(ef.q,{disabled:m.supplier||m.customer,value:n,onChange:function(e,n){return t(n)},loading:C,options:N,setSearch:_,textFieldProps:{color:"secondary",variant:"standard",label:"Select location"}})}})}),(0,eI.jsx)(R.ZP,{item:!0,xs:12,xs2:6,children:(0,eI.jsx)(ev.Qr,{name:"supplier",control:l,render:function(e){var n=e.value,t=e.onChange;return(0,eI.jsx)(ef.q,{disabled:m.location||m.customer,value:n,onChange:function(e,n){return t(n)},loading:D,options:J,setSearch:I,textFieldProps:{color:"secondary",variant:"standard",label:"Select supplier"}})}})})]}),(0,eI.jsx)(R.ZP,{container:!0,columnSpacing:4,rowGap:i,children:(0,eI.jsx)(R.ZP,{item:!0,xs:12,sm:6,children:(0,eI.jsx)(ev.Qr,{name:"customerManager",control:l,render:function(e){var n=e.value,t=e.onChange;return(0,eI.jsx)(ef.q,{value:n,onChange:function(e,n){return t(n)},loading:F,options:E,setSearch:j,textFieldProps:{color:"secondary",variant:"standard",label:"Select account manager"}})}})})}),(0,eI.jsx)(R.ZP,{container:!0,rowGap:i,children:(0,eI.jsx)(R.ZP,{item:!0,xs:12,children:(0,eI.jsx)(ev.Qr,{name:"manager",control:l,render:function(e){var n=e.value,t=e.onChange;return(0,eI.jsx)(eu.Z,{control:(0,eI.jsx)(em.Z,{color:"secondary",checked:n,onChange:function(e){return t(e.target.checked)}}),label:"Assigned to me"})}})})}),(0,eI.jsx)(R.ZP,{container:!0,item:!0,xs:12,children:(0,eI.jsxs)(U.Z,{width:"100%",direction:"row",justifyContent:"flex-end",spacing:2,children:[(0,eI.jsx)(W.Z,{variant:"contained",color:"danger",onClick:function(){return Q()},children:"Cancel"}),(0,eI.jsx)(W.Z,{variant:"contained",color:"secondary",type:"submit",children:"Submit"})]})})]})})})})};ew.defaultProps={open:!1,setOpen:function(){},initialFilters:{},filters:{},setFilters:function(){}};var e$=(0,eb.Z)(eh.Z)(function(){return{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}}),eS=(0,eb.Z)(ep.Z)(function(){return{padding:"24px",maxWidth:"700px",maxHeight:"100vh",overflowY:"scroll"}});function e_(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function eq(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?e_(Object(t),!0).forEach(function(n){(0,u.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):e_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var ek=(0,k.Z)(new Date),ej={customer:null,location:null,supplier:null,manager:null,customerManager:null},ex=function(e){var n,t,o,a,r,i,c,s,m,b,f,w,$,S,A,O,N,P=e.user,D=(0,_.useRouter)(),L=(0,y.x)(),J=(0,p.useState)(!1),B=J[0],z=J[1],en=(0,p.useState)({}),et=en[0],eo=en[1],ea=(0,p.useState)(C),ed=ea[0],eu=ea[1],em=(0,p.useState)([]),eh=em[0],ep=em[1],ey=(0,p.useState)([]),ev=ey[0],eg=ey[1],eb=(0,p.useState)(!1),ef=eb[0],e$=eb[1],eS=(0,p.useState)(eq({},ej)),e_=eS[0],ex=eS[1],eC=(0,p.useCallback)(function(e,n){return"".concat({customer:"Customer is",location:"Location is",supplier:"Supplier is",manager:"Assign to",customerManager:"Account manager is"}[n]," ").concat(e[n].label," ")},[]),eO=function(){ex(ej)},eN=(0,p.useState)(D.query.asAt?(0,k.Z)((0,j.Z)(D.query.asAt)):ek)[0],eP=(0,p.useState)({monthStart:(0,x.Z)(eN),todayEnd:(0,k.Z)(eN),todayStart:(0,Z.Z)(eN),yearStart:(0,T.Z)(eN)})[0],eD=(0,p.useState)(D.query.userId?D.query.userId:P.id)[0];(0,p.useEffect)(function(){"/dashboard"===q().pathname&&q().push({pathname:"/dashboard",query:eq(eq({},D.query),{},{asAt:(0,M.Z)(eN,"yyyy-MM-dd"),userId:eD})})},[eN,D.query,eD]);var eL=(0,v.a)(ee.iM,{variables:{userId:(null===(n=e_.customer)||void 0===n?void 0:null===(t=n.accountUser)||void 0===t?void 0:null===(o=t[0])||void 0===o?void 0:null===(a=o.user)||void 0===a?void 0:a.id)||(null===(r=e_.supplier)||void 0===r?void 0:null===(i=r.accountUser)||void 0===i?void 0:null===(c=i[0])||void 0===c?void 0:null===(s=c.user)||void 0===s?void 0:s.id)||P.id,accountId:(null===(m=e_.customer)||void 0===m?void 0:m.value)||(null===(b=e_.supplier)||void 0===b?void 0:b.value)||P.accountId}}),eJ=eL.data,eB=eL.refetch,ez=null==eJ?void 0:null===(f=eJ.accountUser)||void 0===f?void 0:null===(w=f[0])||void 0===w?void 0:w.meta,eE=(0,g.D)(ee.fA),eR=(0,d.Z)(eE,1)[0];(0,p.useEffect)(function(){null!=ez&&ez.dashboard&&eu(ez.dashboard)},[null==ez?void 0:ez.dashboard]),(0,p.useEffect)(function(){var e,n,t,o,a,r=E({asAt:eN,dashboardTilesData:eq({},et),userTiles:ed,userId:e_.customer||e_.supplier||e_.location||e_.manager||e_.customerManager?null:P.id,locationId:null===(e=e_.location)||void 0===e?void 0:e.value,managerId:null===(n=e_.manager)||void 0===n?void 0:n.value,customerManagerId:null===(t=e_.customerManager)||void 0===t?void 0:t.value,accountId:(null===(o=e_.customer)||void 0===o?void 0:o.value)||(null===(a=e_.supplier)||void 0===a?void 0:a.value)||P.accountId}),i=r.userTilesList,c=r.fullTilesList;eg(i),ep(c)},[eN,et,e_.customer,e_.customerManager,e_.location,e_.manager,e_.supplier,P,ed]);var eF,eU,eW,eG=(0,v.a)(I,{variables:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,accountId:(null===($=e_.customer)||void 0===$?void 0:$.value)||(null===(S=e_.supplier)||void 0===S?void 0:S.value)||P.accountId,adminId:P.adminId,asAt:eN,dayStart:eP.todayStart,monthStart:eP.monthStart,userId:e_.customer||e_.supplier||e_.location||e_.manager||e_.customerManager?null:P.id,yearStart:eP.yearStart,locationId:null===(A=e_.location)||void 0===A?void 0:A.value,managerId:null===(O=e_.manager)||void 0===O?void 0:O.value,customerManagerId:null===(N=e_.customerManager)||void 0===N?void 0:N.value},onCompleted:function(e){eo(function(n){return eq(eq(eq(eq(eq(eq({},n),ec({prevData:n,data:e.dashboardTilesData[0],type:"today"})),{},{jobsOnThisMonth:e.chartJobsPerDay.jobsOnThisMonth},e.chartRevenuesPerDay[0]),e.chartRevenuesPerYear[0]),e.chartTopCustomers[0]),e.chartNotifications[0])}),eH()}}),eQ=eG.loading,eV=eG.refetch,eH=(eF=(0,l.Z)(h().mark(function e(){var n,t;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(ed.map(function(){var e=(0,l.Z)(h().mark(function e(n){var t,o,a,r,i,c,s,l,m,p,y,v;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.name,!("tile"!==n.type)){e.next=3;break}return e.abrupt("return",{});case 3:return s=(c=es({name:r,asAt:eN,adminId:P.adminId,time:"week",locationId:null===(t=e_.location)||void 0===t?void 0:t.value,managerId:null===(o=e_.manager)||void 0===o?void 0:o.value,customerManagerId:null===(a=e_.customerManager)||void 0===a?void 0:a.value})).query,l=c.variables,e.next=6,L.query({query:s,variables:l});case 6:return p=void 0===(p=e.sent.data)?(0,u.Z)({},r,[{sum:0}]):p,v=(0,d.Z)(p[r],1)[0].sum,e.abrupt("return",(0,u.Z)({},r,v||0));case 11:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()));case 2:t=(0,e.sent).reduce(function(e,n){return eq(eq({},e),n)},{}),eo(function(e){return eq(eq({},e),ec({prevData:e,data:t,type:"week"}))});case 5:case"end":return e.stop()}},e)})),function(){return eF.apply(this,arguments)}),eY=(0,p.useCallback)(function(e){var n=e.tiles,t=e.skipRefetch,o=e.skipRefetchMeta;eR({variables:{userId:P.id,accountId:P.accountId,changes:{meta:eq(eq({},ez||{}),{},{dashboard:n})}}}).then(function(){t||eV(),o||eB()})},[ez,eV,eB,eR,P.accountId,P.id]),eK=(0,p.useCallback)(function(e){eY({tiles:ed.filter(function(n){return n.name!==e})})},[eY,ed]),eX=(0,p.useCallback)(function(e,n){var t=ed.map(function(t){return t.name===e?eq(eq({},t),{},{colourConfig:n}):t});eY({tiles:t,skipRefetch:!0})},[eY,ed]),e0=(0,p.useCallback)((eU=(0,l.Z)(h().mark(function e(n,t){var o,a,r,i,c,s,l;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(o=es({name:n,asAt:eN,adminId:P.adminId,time:t})).query,r=o.variables,e.next=3,L.query({query:a,variables:r});case 3:c=void 0===(c=e.sent.data)?(0,u.Z)({},n,[{sum:0}]):c,l=(0,d.Z)(c[n],1)[0].sum,eo(function(e){return eq(eq({},e),{},(0,u.Z)({},n,eq(eq({},e[n]||{}),{},(0,u.Z)({},t,l||0))))});case 8:case"end":return e.stop()}},e)})),function(e,n){return eU.apply(this,arguments)}),[eN,L,P.adminId]),e1=(0,p.useCallback)((eW=(0,l.Z)(h().mark(function e(n,t){var o,a,r,i,c;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(o=er({groupName:n,time:t,asAt:eN})).query,r=o.variables,e.next=3,L.query({query:a,variables:r});case 3:c=e.sent.data,eo(function(e){return eq(eq({},e),{},(0,u.Z)({},n,ei({state:e,data:c,groupName:n,time:t})))});case 6:case"end":return e.stop()}},e)})),function(e,n){return eW.apply(this,arguments)}),[eN,L]),e2=function(e){e.stopPropagation(),q().push("".concat("/dashboard/issues/","manage"))},e5=(0,p.useCallback)(function(){var e=[],n=[],t=[],o=[];if(ev.forEach(function(e){"tile"===e.type&&e.pinned?n.push(e):"mapChart"===e.type||"chart"===e.type?t.push(e):o.push(e)}),n.length){var a=(0,eI.jsx)(eM,{container:!0,spacing:3,className:"firstBlock",children:n.map(function(e,n){var t=e.title,o=e.subtitle,a=e.name,r=e.description,i=e.colourConfig,c=e.values,s=e.valueType,l=e.size,d=e.to,u=e.greaterIsBetter;return(0,eI.jsx)(H.Z,{name:a,asAt:eN,className:"firstBlockItem",xs:12,sm3:6,colourConfig:i,title:t,subtitle:o,description:r,to:d,values:c,valueType:s,size:l,greaterIsBetter:u,editable:!0,onEdit:function(){return z(!0)},onVersusChange:e0,onConfigChange:eX})})});e.push(a)}if(t.length){var r=t.map(function(e){var n=e.type,t=e.title,o=e.description,a=e.name,r=e.values,i=e.size;return"chart"===n?(0,eI.jsx)(R.ZP,{item:!0,className:"bigTile",children:(0,eI.jsx)(Y.Z,{asAt:eN,title:t,description:o,showLegend:!0,name:a,data:r,size:i})}):"mapChart"===n?(0,eI.jsx)(R.ZP,{item:!0,className:"bigTile",children:(0,eI.jsx)(K.Z,{asAt:eN,title:t,description:o,showLegend:!0,name:a,data:r,size:i,onChangeChartGroup:e1})}):null});e.push(r)}if(t.length%2==0){var i=o.splice(0,4),c=(0,eI.jsx)(eM,{container:!0,spacing:3,className:"secondBlock",children:i.slice(0,4).map(function(e,n){var t=e.title,o=e.subtitle,a=e.name,r=e.description,c=e.colourConfig,s=e.values,l=e.valueType,d=e.size,u=e.to,m=e.greaterIsBetter;return(0,eI.jsx)(H.Z,{name:a,asAt:eN,className:"secondBlockItem",sm:12,lg:6,xl:n===i.length-4?12:4,colourConfig:c,title:t,subtitle:o,description:r,to:u,values:s,valueType:l,size:d,greaterIsBetter:m,onVersusChange:e0,onConfigChange:eX})})});e.push(c)}var s=o.map(function(e){var n=e.name,t=e.subtitle,o=e.title,a=e.description,r=e.colourConfig,i=e.values,c=e.valueType,s=e.size,l=e.to,d=e.greaterIsBetter;return(0,eI.jsx)(H.Z,{asAt:eN,xs:12,md:6,lg:4,xl3:3,className:"restTilesBoxItem",colourConfig:r,name:n,title:o,subtitle:t,description:a,to:l,values:i,valueType:c,size:s,greaterIsBetter:d,editable:!0,onEdit:function(){return z(!0)},deletable:!0,onDelete:eK,onVersusChange:e0,onConfigChange:eX})});eh.length>ev.length&&s.push((0,eI.jsx)(V.Z,{width:"100%",xs:12,md:6,lg:4,xl3:3,onAddCard:function(){return z(!0)}}));var l=(0,eI.jsx)(eA,{container:!0,spacing:3,m:0,sx:{justifyContent:"flex-start"},children:s});return e.push(l),(0,eI.jsx)(eT,{container:!0,spacing:3,children:e})},[eN,ev,eh.length,eX,eK,e0,e1]);return(0,eI.jsxs)(F.Z,{sx:{width:"100%",height:"100%"},children:[!eQ&&(0,eI.jsxs)(U.Z,{width:"100%",direction:"row",justifyContent:"space-between",paddingBottom:2,children:[(0,eI.jsx)(W.Z,{variant:"contained",startIcon:(0,eI.jsx)(el.Z,{}),onClick:function(){return e$(!0)},children:"Filters"}),(0,eI.jsx)(U.Z,{direction:"row",spacing:2,children:(0,eI.jsx)(W.Z,{variant:"contained",color:"secondary",onClick:e2,children:"Create Work Order"})})]}),(0,eI.jsx)(eZ,{children:eQ?(0,eI.jsx)(F.Z,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,eI.jsx)(G.Z,{})}):(0,eI.jsxs)(eI.Fragment,{children:[(0,eI.jsx)(ew,{open:ef,setOpen:e$,initialFilters:ej,filters:e_,setFilters:ex}),(e_.customer||e_.supplier||e_.manager||e_.location||e_.customerManager)&&Object.keys(e_).map(function(e){return!!e_[e]&&(0,eI.jsx)(Q.Z,{sx:{margin:"0px 0px 15px 0px",padding:"0.8vmin 0.5vmin"},label:eC(e_,e),onDelete:function(){return eO()}})}),e5()]})}),(0,eI.jsx)(X.Z,{open:B,fullTilesList:eh,selectedTiles:ed,onSaveTilesList:function(e){return eY({tiles:e})},onClose:function(){return z(!1)}})]})},eZ=(0,A.ZP)(F.Z).withConfig({displayName:"dashboard__DashboardBox",componentId:"sc-1yncp1m-0"})(["width:100%;height:100%;.firstBlock{margin:0;flex-basis:50% !important;max-width:50% !important;min-width:auto;}.firstBlockItem{padding-left:24px;padding-top:24px;}.bigTile{flex-basis:50% !important;max-width:50%;}.secondBlock{margin:0;flex-basis:50% !important;min-width:auto;}.secondBlockItem{flex-basis:50% !important;max-width:50% !important;padding-left:24px;padding-top:24px;}@media (max-width:1550px){.firstBlock{margin:0;flex-basis:100% !important;max-width:100% !important;}.bigTile{flex-basis:100% !important;max-width:100%;}}"]),eT=(0,A.ZP)(R.ZP).withConfig({displayName:"dashboard__SecondRowBox",componentId:"sc-1yncp1m-1"})(["align-content:flex-start;height:auto;min-height:400px;justify-content:space-between;"]),eM=(0,A.ZP)(R.ZP).withConfig({displayName:"dashboard__FirstBox",componentId:"sc-1yncp1m-2"})(["display:flex;flex-wrap:wrap;min-width:824px;justify-content:space-between;align-content:space-between;"]),eA=(0,A.ZP)(R.ZP).withConfig({displayName:"dashboard__RestTilesBox",componentId:"sc-1yncp1m-3"})(["justify-content:space-between;"]),eC=(0,A.Zz)(ex)},76301:function(e,n,t){t.d(n,{Ak:function(){return z},Cj:function(){return H},K4:function(){return eo},Qn:function(){return J},RJ:function(){return V},SW:function(){return L},T_:function(){return W},UH:function(){return D},UM:function(){return en},Ve:function(){return Y},_d:function(){return R},_f:function(){return et},by:function(){return G},cz:function(){return O},he:function(){return B},j$:function(){return E},kB:function(){return X},kU:function(){return K},kx:function(){return F},nD:function(){return P},nP:function(){return er},pY:function(){return ea},qd:function(){return N},t1:function(){return U},yR:function(){return Q},zR:function(){return ee}});var o,a,r,i,c,s,l,d,u,m,h,p,y,v,g,b,f,I,w,$,S,_,q,k,j,x,Z,T,M,A=t(71383),C=t(75063),O=(0,C.Ps)(o||(o=(0,A.Z)(["\n  query GetAddressForSelect($q: String, $entity: String!, $entityId: Int!) {\n    items: Address(\n      where: {\n        Address_Entities: { entity: { _eq: $entity }, entityId: { _eq: $entityId } }\n        _or: [\n          { addressLine1: { _eq: $q } }\n          { addressLine2: { _eq: $q } }\n          { addressLine3: { _eq: $q } }\n          { county: { _eq: $q } }\n          { postCode: { _eq: $q } }\n          { city: { _eq: $q } }\n        ]\n      }\n    ) {\n      label: addressLine1\n      value: id\n      id\n      name\n      addressLine1\n      addressLine2\n      addressLine3\n      postCode\n      county\n      country: Country {\n        name\n      }\n      city\n      Address_Entities {\n        invoice\n      }\n    }\n  }\n"]))),N=(0,C.Ps)(a||(a=(0,A.Z)(["\n  query GetAccountsForSelect($q: String, $type: String, $limit: Int, $offset: Int) {\n    items: Account(\n      where: { name: { _ilike: $q }, type: { _eq: $type } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]))),P=(0,C.Ps)(r||(r=(0,A.Z)(['\n  query GetTaxonomy($q: String, $id: Int) {\n    items: Taxonomy(\n      where: { type: { _eq: "assetCategory" }, status: { _eq: "active" } }\n      order_by: { name: asc }\n    ) {\n      label: name\n      options: Taxonomies(\n        where: {\n          type: { _eq: "assetCategory" }\n          name: { _ilike: $q }\n          id: { _eq: $id }\n          status: { _eq: "active" }\n        }\n        order_by: { name: asc }\n      ) {\n        value: id\n        label: name\n      }\n    }\n  }\n']))),D=(0,C.Ps)(i||(i=(0,A.Z)(["\n  query GetAssetsForSelect($locationId: Int, $q: String, $categoryId: Int, $bookable: String) {\n    items: Asset(\n      where: {\n        categoryId: { _eq: $categoryId }\n        locationId: { _eq: $locationId }\n        name: { _ilike: $q }\n        bookable: { _eq: $bookable }\n      }\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n      parent: ParentAsset {\n        id\n        name\n      }\n      media: Media {\n        id\n        item: Medium {\n          id\n          name\n          filename\n          meta\n          category\n          type\n        }\n      }\n    }\n  }\n"]))),L=(0,C.Ps)(c||(c=(0,A.Z)(['\n  query GetCustomersForSelect($q: String, $limit: Int, $offset: Int) {\n    items: Account(\n      where: { name: { _ilike: $q }, type: { _eq: "customer" } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      admin: Admins {\n        id: adminId\n      }\n      label: name\n      spendThreshold: meta(path: "$.finance.spendThreshold")\n      serviceRateLabour: meta(path: "$.finance.serviceRateLabour")\n      serviceRateExpenses: meta(path: "$.finance.serviceRateExpenses")\n      value: id\n    }\n  }\n']))),J=(0,C.Ps)(s||(s=(0,A.Z)(["\n  query GetJobsForSelect($_q: Int, $locationId: Int) {\n    items: Job(\n      where: {\n        Location: { id: { _eq: $locationId } }\n        _or: [{ id: { _eq: $_q } }, { Invoices: { id: { _eq: $_q } } }]\n      }\n      order_by: { title: asc }\n    ) {\n      label: label\n      value: id\n      number\n      createdAt\n      description\n      status\n      timingStart\n      title\n      type\n      Location {\n        name\n      }\n      Taxonomy {\n        Taxonomy {\n          shortJobDescription: name\n        }\n      }\n    }\n  }\n"]))),B=(0,C.Ps)(l||(l=(0,A.Z)(['\n  query GetManagersForSelect($userId: Int, $accountId: Int!, $q: String) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: {\n          role: { _in: ["owner", "manager"] }\n          status: { _eq: "active" }\n          Account: { id: { _eq: $accountId } }\n        }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n        id: { _neq: $userId }\n      }\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n']))),z=(0,C.Ps)(d||(d=(0,A.Z)(['\n  query GetManagersForSelect(\n    $userId: Int\n    $accountId: Int!\n    $q: String\n    $invoiceThreshold: numeric\n    $quoteThreshold: numeric\n  ) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: {\n          role: { _in: ["owner", "manager"] }\n          status: { _eq: "active" }\n          Account: { id: { _eq: $accountId } }\n        }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n        id: { _neq: $userId }\n        _and: [\n          {\n            _or: [\n              { invoiceThreshold: { _gt: $invoiceThreshold } }\n              { invoiceThreshold: { _is_null: true } }\n            ]\n          }\n          {\n            _or: [\n              { quoteThreshold: { _gt: $quoteThreshold } }\n              { quoteThreshold: { _is_null: true } }\n            ]\n          }\n        ]\n      }\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n']))),E=(0,C.Ps)(u||(u=(0,A.Z)(["\n  query GetPostCodeAreaForSelect($countryId: Int, $q: String) {\n    items: PostcodeArea(\n      where: { name: { _ilike: $q }, countryId: { _eq: $countryId } }\n      order_by: { name: asc }\n    ) {\n      area\n      label: name\n      value: id\n    }\n  }\n"]))),R=(0,C.Ps)(m||(m=(0,A.Z)(['\n  query GetPropertiesForSelect($where: Location_bool_exp, $limit: Int, $offset: Int) {\n    items: Location(where: $where, order_by: { name: asc }, limit: $limit, offset: $offset) {\n      label: name\n      value: id\n      access\n      permitsRequired\n      registeredAddress: Addresses(\n        where: { entity: { _eq: "Location" }, registered: { _eq: true } }\n      ) {\n        address: Address {\n          id\n          addressLine1\n          addressLine2\n          addressLine3\n          county\n          country: Country {\n            name\n          }\n          postCode\n          city\n        }\n      }\n    }\n  }\n']))),F=(0,C.Ps)(h||(h=(0,A.Z)(['\n  query GetServicesForSelect($q: String, $limit: Int, $offset: Int) {\n    items: Service(\n      where: { name: { _ilike: $q }, status: { _eq: "active" } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n']))),U=(0,C.Ps)(p||(p=(0,A.Z)(["\n  query GetSlasForSelect($q: String, $adminId: Int, $type: String) {\n    items: SLA(\n      where: { name: { _ilike: $q }, type: { _eq: $type }, adminId: { _eq: $adminId } }\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]))),W=(0,C.Ps)(y||(y=(0,A.Z)(["\n  query GetSlasForSelectNew($where: SLA_bool_exp, $limit: Int, $offset: Int) {\n    items: SLA(where: $where, order_by: { name: asc }, limit: $limit, offset: $offset) {\n      label: name\n      value: id\n    }\n  }\n"]))),G=(0,C.Ps)(v||(v=(0,A.Z)(["\n  query GetSuppliersForSelect($where: Account_bool_exp, $limit: Int, $offset: Int) {\n    items: Account(where: $where, limit: $limit, offset: $offset, order_by: { name: asc }) {\n      label: name\n      value: id\n    }\n  }\n"]))),Q=(0,C.Ps)(g||(g=(0,A.Z)(['\n  query GetUsersForSelect($accountId: Int, $q: String, $limit: Int, $offset: Int) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: {\n          accountId: { _eq: $accountId }\n          isContact: { _eq: true }\n          status: { _eq: "active" }\n        }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n      }\n      order_by: { nameFirst: asc }\n      limit: $limit\n      offset: $offset\n    ) {\n      label: fullName\n      value: id\n      email\n      phone\n    }\n  }\n']))),V=(0,C.Ps)(b||(b=(0,A.Z)(['\n  query GetUsersForSelect($q: String) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n      }\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n      email\n      phone\n    }\n  }\n']))),H=(0,C.Ps)(f||(f=(0,A.Z)(["\n  query GetTaxonomyGroupForSelect($q: String, $type: String!) {\n    items: Taxonomy(\n      where: { isGroup: { _eq: true }, name: { _ilike: $q }, type: { _eq: $type } }\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]))),Y=(0,C.Ps)(I||(I=(0,A.Z)(['\n  query GetTaxonomy($q: String) {\n    items: Taxonomy(where: { type: { _eq: "expenseCategoryGroup" } }, order_by: { name: asc }) {\n      label: name\n      options: Taxonomies(\n        where: { type: { _eq: "expenseCategory" }, name: { _ilike: $q } }\n        order_by: { name: asc }\n      ) {\n        value: id\n        label: name\n      }\n    }\n  }\n']))),K=(0,C.Ps)(w||(w=(0,A.Z)(['\n  query GetCompliancesForSelect($q: String, $locationId: Int) {\n    items: Taxonomy(where: { type: { _eq: "complianceCategory" } }, order_by: { name: asc }) {\n      label: name\n      options: Compliances(\n        where: {\n          name: { _ilike: $q }\n          Compliance_Entities: { Location: { id: { _eq: $locationId } } }\n        }\n        order_by: { name: asc }\n      ) {\n        value: id\n        label: name\n      }\n    }\n  }\n']))),X=(0,C.Ps)($||($=(0,A.Z)(["\n  query GetUserRole($userId: Int!, $accountId: Int!) {\n    accountUsers: Account_User(\n      where: { userId: { _eq: $userId }, accountId: { _eq: $accountId } }\n    ) {\n      role\n    }\n  }\n"]))),ee=(0,C.Ps)(S||(S=(0,A.Z)(["\n  query GetSublocationsForSelect($locationId: Int!, $q: String, $limit: Int, $offset: Int) {\n    items: Sublocation(\n      where: { name: { _ilike: $q }, locationId: { _eq: $locationId }, active: { _eq: true } }\n      limit: $limit\n      offset: $offset\n      order_by: { createdAt: desc }\n    ) {\n      value: id\n      label: name\n    }\n  }\n"]))),en=(0,C.Ps)(_||(_=(0,A.Z)(['\n  query GetTaxonomy($q: String, $id: Int, $limit: Int, $offset: Int) {\n    items: Taxonomy(\n      where: {\n        id: { _eq: $id }\n        type: { _eq: "assetCategory" }\n        isGroup: { _eq: false }\n        status: { _eq: "active" }\n        name: { _ilike: $q }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n']))),et=(0,C.Ps)(q||(q=(0,A.Z)(["\n  query GetTaxonomyForSelect(\n    $where: Taxonomy_bool_exp\n    $limit: Int\n    $offset: Int\n    $orderBy: Taxonomy_order_by!\n  ) {\n    items: Taxonomy(where: $where, limit: $limit, offset: $offset, order_by: [$orderBy]) {\n      value: id\n      label: name\n    }\n  }\n"])));(0,C.Ps)(k||(k=(0,A.Z)(['\n  query GetTagsForTask($q: String!, $limit: Int = 50, $offset: Int = 0) {\n    items: Taxonomy(\n      where: { name: { _ilike: $q }, status: { _eq: "active" }, type: { _eq: "taskTags" } }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      value: id\n      label: name\n    }\n  }\n']))),(0,C.Ps)(j||(j=(0,A.Z)(['\n  query GetTagsForEntity(\n    $entityId: Int\n    $entity: String!\n    $q: String!\n    $limit: Int = 50\n    $offset: Int = 0\n  ) {\n    tags: Taxonomy(\n      where: {\n        name: { _ilike: $q }\n        status: { _eq: "active" }\n        type: { _eq: "taskTags" }\n        _not: { Taxonomy_Entities: { entity: { _eq: $entity }, entityId: { _eq: $entityId } } }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      id\n      name\n      meta\n    }\n  }\n']))),(0,C.Ps)(x||(x=(0,A.Z)(['\n  query GetEntityTags($entityId: Int!, $entity: String!) {\n    tags: Taxonomy_Entity(\n      where: {\n        entity: { _eq: $entity }\n        entityId: { _eq: $entityId }\n        Taxonomy: { status: { _eq: "active" }, type: { _eq: "taskTags" } }\n      }\n      order_by: { id: desc }\n    ) {\n      id\n      tag: Taxonomy {\n        id\n        name\n        meta\n      }\n    }\n  }\n'])));var eo=(0,C.Ps)(Z||(Z=(0,A.Z)(["\n  query GetCustomerManagers($accountId: Int, $q: String, $limit: Int, $offset: Int) {\n    items: User(\n      where: { Account_Users: { accountId: { _eq: $accountId } }, fullName: { _ilike: $q } }\n      order_by: { fullName: asc }\n      limit: $limit\n      offset: $offset\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n"]))),ea=(0,C.Ps)(T||(T=(0,A.Z)(["\n  query GetServiceSchedulesForSelect(\n    $q: String\n    $serviceId: Int\n    $entity: service_schedule_entity\n    $entityId: Int\n    $limit: Int = 50\n    $offset: Int = 0\n  ) {\n    items: ServiceSchedule(\n      where: {\n        name: { _ilike: $q }\n        serviceId: { _eq: $serviceId }\n        entity: { _eq: $entity }\n        entityId: { _eq: $entityId }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]))),er=(0,C.Ps)(M||(M=(0,A.Z)(['\n  query GetPropertyById($id: Int!) {\n    item: Location_by_pk(id: $id) {\n      label: name\n      value: id\n      access\n      registeredAddress: Addresses(\n        where: { entity: { _eq: "Location" }, registered: { _eq: true } }\n      ) {\n        address: Address {\n          id\n          addressLine1\n          addressLine2\n          addressLine3\n          county\n          country: Country {\n            name\n          }\n          postCode\n          city\n        }\n      }\n    }\n  }\n'])))}}]);