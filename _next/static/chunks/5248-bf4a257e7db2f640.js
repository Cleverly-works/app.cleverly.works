"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5248],{23949:function(e,n,t){t.d(n,{W:function(){return o}});var r=t(96690),a=t(85893),o={make:{label:"Make",name:"make"},model:{label:"Model",name:"model"},serialNumber:{label:"Serial number",name:"serialNumber"},initialCost:{label:"Initial cost",name:"initialCost",icon:(0,a.jsx)(r.Z,{sx:{fontSize:14}})},datePutInService:{label:"Date put in service",name:"datePutInService"},estimatedAnnualMaintenance:{label:"Estimated Annual Maintenance",name:"estimatedAnnualMaintenance",icon:(0,a.jsx)(r.Z,{sx:{fontSize:14}})},estimatedEndDate:{label:"Estimated end date",name:"estimatedEndDate"},residualValue:{label:"Residual value",name:"residualValue",icon:(0,a.jsx)(r.Z,{sx:{fontSize:14}})},purchaseDate:{label:"Purchase date",name:"purchaseDate"},warrantyExpiry:{label:"Warranty expiry",name:"warrantyExpiry"},condition:{label:"Condition",name:"condition"}}},25248:function(e,n,t){t.d(n,{R:function(){return U}});var r=t(16835),a=t(59499),o=t(30381),i=t.n(o),l=t(6812),s=t(50319),u=t(73359),d=t(42283),c=t(79665),m=t(74231),p=t(23949);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var b=function(e){var n,t=f(e);return(0,m.Ry)().shape(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach(function(n){(0,a.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}((n={customer:(0,m.Ry)().required("Customer is required field").typeError("Customer is required field"),location:(0,m.Ry)().required("Location is required field").typeError("Location is required field"),sublocation:(0,m.Ry)().nullable(),assetCategory:(0,m.Ry)().required("Asset category is required field").typeError("Asset category is required field"),name:(0,m.Z_)().required("Name is required field"),description:(0,m.Z_)().required("Description is required field"),relationType:(0,m.Z_)().required("Relation is required field"),parent:(0,m.Ry)().when("relationType",{is:"child",then:(0,m.Ry)().required("Parent asset is required field").typeError("Parent asset is required field"),otherwise:(0,m.Ry)().nullable()}),status:(0,m.Z_)().oneOf(["active","inactive"]).required("Status is required field").typeError("Status is required field")},(0,a.Z)(n,p.W.datePutInService.name,(0,m.hT)().nullable().typeError("Field ".concat(p.W.datePutInService.label," should be a date"))),(0,a.Z)(n,p.W.estimatedEndDate.name,(0,m.hT)().nullable().typeError("Field ".concat(p.W.estimatedEndDate.label," should be a date"))),(0,a.Z)(n,p.W.purchaseDate.name,(0,m.hT)().nullable().typeError("Field ".concat(p.W.purchaseDate.label," should be a date"))),(0,a.Z)(n,p.W.warrantyExpiry.name,(0,m.hT)().nullable().typeError("Field ".concat(p.W.warrantyExpiry.label," should be a date"))),n),t))},f=function(e){var n={};return null==e||e.forEach(function(e){var t,r,a,o,i,l,s,u,d,c,p,v,b,f,y;n[e.name]=(0,m.Z_)(),(null===(t=e.meta)||void 0===t?void 0:t.input)==="media"&&(n[e.name]=void 0),(null===(r=e.meta)||void 0===r?void 0:r.input)==="checkbox"&&(n[e.name]=(0,m.IX)().of((0,m.nK)().transform(function(e){return"false"!==e&&e}))),(null===(a=e.meta)||void 0===a?void 0:a.input)==="currencyInput"&&(n[e.name]=(0,m.Rx)().typeError("".concat((null===(c=e.meta)||void 0===c?void 0:c.label)||""," is a required field"))),(null===(o=e.meta)||void 0===o?void 0:o.input)==="datepicker"&&(n[e.name]=(0,m.hT)().typeError("".concat((null===(p=e.meta)||void 0===p?void 0:p.label)||""," is a required field"))),(null===(i=e.meta)||void 0===i?void 0:i.input)==="selectRange"&&(n[e.name]=(0,m.Rx)().typeError("".concat((null===(v=e.meta)||void 0===v?void 0:v.label)||""," is a required field"))),(null===(l=e.meta)||void 0===l?void 0:l.inputType)==="email"&&(n[e.name]=n[e.name].email("".concat((null===(b=e.meta)||void 0===b?void 0:b.label)||""," must be an email"))),(null===(s=e.meta)||void 0===s?void 0:s.inputType)==="number"&&(n[e.name]=(0,m.Rx)().typeError("".concat((null===(f=e.meta)||void 0===f?void 0:f.label)||""," must be a number"))),null!==(u=e.meta)&&void 0!==u&&u.required&&(null===(d=e.meta)||void 0===d?void 0:d.input)!=="media"&&(n[e.name]=n[e.name].required("".concat((null===(y=e.meta)||void 0===y?void 0:y.label)||""," is a required field")))}),n},y=t(76301),h=t(23391),g=t(18574),x=t(26447),j=t(98456),I=t(50135),P=t(87109),Z=t(33754),A=t(77010),T=t(67432),_=t(67294),q=t(99229),O=t(5616),D=t(15861),C=t(1050),w=t(94054),E=t(40476),M=t(53457),$=t(50480),S=t(69368),W=t(56815),k=t(11057),Y=t(58095),R=t(23132),Q=t(85893);function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach(function(n){(0,a.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var V=function(e){var n=e.entity,t=e.entityId,r=e.mediaMeta,a=e.register,o=e.control,i=e.errors,l=e.input,s=(e.inputType,e.label),u=e.name,c=e.options,m=(0,Y.a)(),p=function(){var e,n,t,r,d,m,p,v;switch("".concat(l)){case"input":return{fullWidth:!0,variant:"standard",color:"secondary",label:s,name:u,inputRef:a,error:i[u],helperText:null===(e=i[u])||void 0===e?void 0:e.message};case"textArea":return{multiline:!0,rows:4,fullWidth:!0,variant:"filled",color:"secondary",label:s,name:u,inputRef:a,error:i[u],helperText:null===(n=i[u])||void 0===n?void 0:n.message};case"currencyInput":return{fullWidth:!0,variant:"standard",color:"secondary",label:s,name:u,type:"number",min:0,inputRef:a,error:i[u],helperText:null===(t=i[u])||void 0===t?void 0:t.message};case"radio":return{name:u,label:s,control:o,options:c,error:i[u],helperText:null===(r=i[u])||void 0===r?void 0:r.message};case"select":return{name:u,label:s,control:o,options:c,error:i[u],helperText:null===(d=i[u])||void 0===d?void 0:d.message};case"selectRange":return{name:u,label:s,control:o,options:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"}],error:i[u],helperText:null===(m=i[u])||void 0===m?void 0:m.message};case"datepicker":return{name:u,label:s,control:o,error:i[u],helperText:null===(p=i[u])||void 0===p?void 0:p.message,inputFormat:"Do MMM YYYY"};case"checkbox":return{name:function(e){return"".concat(u,".").concat(e)},label:s,control:o,options:c,error:i[u],helperText:null===(v=i[u])||void 0===v?void 0:v.message};default:return{}}}(),v=function(){n&&t&&m.show({content:(0,Q.jsx)(q.G,{entity:n,entityId:t,mediaMeta:r,category:"supplierQuestion"}),submit:!1,title:s})};return(0,Q.jsx)(Q.Fragment,{children:"media"===l&&n&&t?(0,Q.jsxs)(x.Z,{children:[(0,Q.jsx)(D.Z,{mb:1,children:s}),(0,Q.jsx)(k.Z,{variant:"contained",color:"info",onClick:v,size:"sm",children:(0,Q.jsx)(R.Z,{})})]}):function(e){var n;switch("".concat(l)){case"input":case"textArea":return(0,Q.jsx)(I.Z,N({},e));case"currencyInput":return(0,Q.jsx)(I.Z,N(N({},e),{},{InputProps:{slotProps:{input:{min:0}},startAdornment:(0,Q.jsx)(P.Z,{position:"start",children:"\xa3"})}}));case"radio":return(0,Q.jsx)(d.Qr,N(N({},e),{},{render:function(n){var t,r=n.value,a=n.onChange;return(0,Q.jsx)(A.E,{label:e.label,value:r,onChange:a,options:e.options,error:i.relationType,helperText:null===(t=i.relationType)||void 0===t?void 0:t.message})}}));case"selectRange":return(0,Q.jsxs)(O.Z,{children:[e.label&&(0,Q.jsx)(D.Z,{id:"track-slider",gutterBottom:!0,children:e.label}),(0,Q.jsx)(d.Qr,N(N({},e),{},{render:function(n){return(0,Q.jsx)(C.ZP,N(N({},n),{},{"aria-labelledby":"track-slider",color:"secondary",defaultValue:30,getAriaValueText:function(e){return"".concat(e)},valueLabelDisplay:"auto",shiftStep:1,step:1,marks:e.options,min:0,max:9}))}}))]});case"select":return(0,Q.jsx)(d.Qr,N(N({},e),{},{render:function(n){var t,r=n.value,a=n.onChange;return(0,Q.jsx)(T.P,{formControl:{variant:"standard",color:"secondary",fullWidth:!0,error:i.status,helperText:null===(t=i.status)||void 0===t?void 0:t.message},label:e.label,value:r,onChange:a,options:e.options})}}));case"datepicker":return(0,Q.jsx)(d.Qr,N(N({},e),{},{render:function(n){return(0,Q.jsx)(Z.M,N(N({},n),{},{label:e.label,inputFormat:e.inputFormat,renderInput:function(n){return(0,Q.jsx)(I.Z,N(N({},n),{},{error:e.error,helperText:e.helperText,color:"secondary",variant:"standard"}))}}))}}));case"checkbox":return(0,Q.jsxs)(w.Z,{sx:{m:3},error:e.error,color:"secondary",component:"fieldset",variant:"standard",children:[(null==e?void 0:e.label)&&(0,Q.jsx)(E.Z,{component:"legend",children:e.label}),(0,Q.jsx)(M.Z,{children:null===(n=e.options)||void 0===n?void 0:n.map(function(n,t){return(0,Q.jsx)($.Z,{control:(0,Q.jsx)(d.Qr,{name:e.name(t),control:e.control,render:function(e){var t=e.value,r=e.onChange;return(0,Q.jsx)(S.Z,{color:"secondary",checked:t===n.value,onChange:function(e){return r(!!e.target.checked&&n.value)}})}}),label:n.label})})}),(null==e?void 0:e.helperText)&&(0,Q.jsx)(W.Z,{children:e.helperText})]});default:return(0,Q.jsx)(Q.Fragment,{})}}(p)})};function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach(function(n){(0,a.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}V.defaultProps={input:"input",options:[],inputType:"text",label:"Label"};var U=function(e){var n,t,o,m,v,f,q,O,D,C=e.assetId,w=e.offCanvas,E=e.defaultValues,M=(0,l.a)(h.yC,{skip:!C,variables:{id:C}}),$=M.loading,S=M.data,W=(S=void 0===S?{asset:{}}:S).asset,k=(null===(n=W.category)||void 0===n?void 0:n.childs)||[],Y=(0,d.cI)({defaultValues:G(G({},E),{},{status:"active",relationType:"parent"}),resolver:(0,c.S)(b(k))}),R=Y.control,F=Y.errors,N=Y.handleSubmit,L=Y.register,U=Y.watch,J=Y.reset,z=U("customer"),B=U("location"),H=U("relationType");(0,_.useEffect)(function(){var e,n,t,r,o,i,l,s,u,d,c,m,p,v,b,f,y;null!=W&&W.id&&J(G(G({},k.reduce(function(e,n){var t,r;return G(G({},e),{},(0,a.Z)({},n.name,null===(t=W.meta)||void 0===t?void 0:null===(r=t.categoryQuestions)||void 0===r?void 0:r[n.name]))},{})),{},{id:W.id,customer:null!==(e=W.customer)&&void 0!==e&&e.id?{label:null===(n=W.customer)||void 0===n?void 0:n.name,value:null===(t=W.customer)||void 0===t?void 0:t.id}:null,assetCategory:null!==(r=W.category)&&void 0!==r&&r.id?{label:null===(o=W.category)||void 0===o?void 0:o.name,value:null===(i=W.category)||void 0===i?void 0:i.id}:null,description:W.description,name:W.name,location:null!==(l=W.location)&&void 0!==l&&l.id?{label:null===(s=W.location)||void 0===s?void 0:s.name,value:null===(u=W.location)||void 0===u?void 0:u.id}:null,sublocation:null!==(d=W.sublocation)&&void 0!==d&&d.id?{label:null===(c=W.sublocation)||void 0===c?void 0:c.name,value:null===(m=W.sublocation)||void 0===m?void 0:m.id}:null,relationType:null!==(p=W.parentAsset)&&void 0!==p&&p.id?"child":"parent",parent:null!==(v=W.parentAsset)&&void 0!==v&&v.id?{label:null===(b=W.parentAsset)||void 0===b?void 0:b.name,value:null===(f=W.parentAsset)||void 0===f?void 0:f.id}:null,status:W.status},W?null==W?void 0:null===(y=W.meta)||void 0===y?void 0:y.assetAdditional:{}))},[W]);var K=(0,s.D)(h.RL,{refetchQueries:["GetAsset","GetAssets"],onCompleted:function(){return(null==w?void 0:w.close)&&w.close()}}),X=(0,r.Z)(K,1)[0],ee=(0,s.D)(h.Wx,{refetchQueries:["GetAsset","GetAssets"],onCompleted:function(){return(null==w?void 0:w.close)&&w.close()}}),en=(0,r.Z)(ee,1)[0],et=(0,u.t)(y.SW),er=(0,r.Z)(et,2),ea=er[0],eo=er[1],ei=eo.loading,el=eo.data,es=(el=void 0===el?{items:[]}:el).items,eu=(0,u.t)(y._d,{variables:{where:{status:{_eq:"active"},Account_Locations:{accountId:{_eq:null==z?void 0:z.value}}}}}),ed=(0,r.Z)(eu,2),ec=ed[0],em=ed[1],ep=em.loading,ev=em.data,eb=(ev=void 0===ev?{items:[]}:ev).items,ef=(0,u.t)(y.UH,{variables:{locationId:null==B?void 0:B.value}}),ey=(0,r.Z)(ef,2),eh=ey[0],eg=ey[1],ex=eg.loading,ej=eg.data,eI=(ej=void 0===ej?{items:[]}:ej).items,eP=(0,u.t)(y.UM),eZ=(0,r.Z)(eP,2),eA=eZ[0],eT=eZ[1],e_=eT.loading,eq=eT.data,eO=(eq=void 0===eq?{items:[]}:eq).items,eD=(0,u.t)(y.zR,{variables:{locationId:null==B?void 0:B.value}}),eC=(0,r.Z)(eD,2),ew=eC[0],eE=eC[1],eM=eE.loading,e$=eE.data,eS=(e$=void 0===e$?{items:[]}:e$).items,eW=function(e){var n,t,r,o={accountId:e.customer.value,bookable:"no",categoryId:e.assetCategory.value,description:e.description,name:e.name,locationId:e.location.value,sublocationId:null===(n=e.sublocation)||void 0===n?void 0:n.value,parentId:null===(t=e.parent)||void 0===t?void 0:t.value,userId:null,status:e.status,meta:G(G({},W.meta||{}),{},{categoryQuestions:G({},k.reduce(function(n,t){return G(G({},n),{},(0,a.Z)({},t.name,e[t.name]))},{})),assetAdditional:G(G({},W?null==W?void 0:null===(r=W.meta)||void 0===r?void 0:r.assetAdditional:{}),{},{make:e.make||null,model:e.model||null,serialNumber:e.serialNumber,initialCost:+e.initialCost,datePutInService:e.datePutInService?i()(e.datePutInService).format("YYYY-MM-DD"):null,estimatedAnnualMaintenance:+e.estimatedAnnualMaintenance,estimatedEndDate:e.estimatedEndDate?i()(e.estimatedEndDate).format("YYYY-MM-DD"):null,residualValue:+e.residualValue,purchaseDate:e.purchaseDate?i()(e.purchaseDate).format("YYYY-MM-DD"):null,warrantyExpiry:e.warrantyExpiry?i()(e.warrantyExpiry).format("YYYY-MM-DD"):null})})};C?en({variables:{id:C,changes:o}}):X({variables:{objects:[o]}})};return $?(0,Q.jsx)(x.Z,{width:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:(0,Q.jsx)(j.Z,{color:"secondary"})}):(0,Q.jsx)("form",{id:"offCanvasForm",onSubmit:N(eW),children:(0,Q.jsxs)(x.Z,{width:"100%",direction:"column",spacing:3,children:[(0,Q.jsx)(d.Qr,{name:"customer",control:R,render:function(e){var n,t=e.value,r=e.onChange;return(0,Q.jsx)(g.F,{inputProps:{required:!0},disabled:!!(null!=E&&E.customer),value:t,onChange:function(e,n){return r(n)},label:"Select customer",loading:ei,onOpen:function(){return ea()},options:es,error:F.customer,helperText:null===(n=F.customer)||void 0===n?void 0:n.message})}}),(0,Q.jsx)(d.Qr,{name:"location",control:R,render:function(e){var n,t=e.value,r=e.onChange;return(0,Q.jsx)(g.F,{inputProps:{required:!0},disabled:!(null!=z&&z.value)||(null==E?void 0:E.location),value:t,onChange:function(e,n){return r(n)},label:"Select location",loading:ep,onOpen:function(){return ec()},options:eb,error:F.location,helperText:null===(n=F.location)||void 0===n?void 0:n.message})}}),(0,Q.jsx)(d.Qr,{name:"sublocation",control:R,render:function(e){var n,t=e.value,r=e.onChange;return(0,Q.jsx)(g.F,{disabled:!(null!=B&&B.value),value:t,onChange:function(e,n){return r(n)},label:"Select sublocation",loading:eM,onOpen:function(){return ew()},options:eS,error:F.sublocation,helperText:null===(n=F.sublocation)||void 0===n?void 0:n.message})}}),(0,Q.jsx)(d.Qr,{name:"assetCategory",control:R,render:function(e){var n,t=e.value,r=e.onChange;return(0,Q.jsx)(g.F,{inputProps:{required:!0},value:t,onChange:function(e,n){return r(n)},label:"Select category",loading:e_,onOpen:function(){return eA()},options:eO,error:F.assetCategory,helperText:null===(n=F.assetCategory)||void 0===n?void 0:n.message})}}),(0,Q.jsx)(I.Z,{fullWidth:!0,variant:"standard",color:"secondary",label:"Name",name:"name",required:!0,inputRef:L,error:F.name,helperText:null===(t=F.name)||void 0===t?void 0:t.message}),(0,Q.jsx)(I.Z,G(G({variant:"standard"},p.W.make),{},{color:"secondary",inputRef:L,error:F.make,helperText:null===(o=F.make)||void 0===o?void 0:o.message})),(0,Q.jsx)(I.Z,G(G({variant:"standard"},p.W.model),{},{color:"secondary",inputRef:L,error:F.model,helperText:null===(m=F.model)||void 0===m?void 0:m.message})),(0,Q.jsx)(I.Z,G(G({variant:"standard"},p.W.serialNumber),{},{color:"secondary",inputRef:L,error:F.serialNumber,helperText:null===(v=F.serialNumber)||void 0===v?void 0:v.message})),(0,Q.jsx)(I.Z,G(G({fullWidth:!0,variant:"standard",color:"secondary"},p.W.initialCost),{},{inputRef:L,type:"number",min:0,defaultValue:0,error:F.initialCost,helperText:null===(f=F.initialCost)||void 0===f?void 0:f.message,InputProps:{slotProps:{input:{min:0}},startAdornment:(0,Q.jsx)(P.Z,{position:"start",children:"\xa3"})}})),(0,Q.jsx)(d.Qr,{name:p.W.datePutInService.name,control:R,render:function(e){return(0,Q.jsx)(Z.M,G(G({},e),{},{value:e.value||null,label:p.W.datePutInService.label,inputFormat:"Do MMM YYYY",renderInput:function(e){var n;return e.inputProps.placeholder="",(0,Q.jsx)(I.Z,G(G({},e),{},{error:F.datePutInService,helperText:null===(n=F.datePutInService)||void 0===n?void 0:n.message,color:"secondary",variant:"standard"}))}}))}}),(0,Q.jsx)(I.Z,G(G({fullWidth:!0,variant:"standard",color:"secondary"},p.W.estimatedAnnualMaintenance),{},{inputRef:L,type:"number",min:0,defaultValue:0,error:F.estimatedAnnualMaintenance,helperText:null===(q=F.estimatedAnnualMaintenance)||void 0===q?void 0:q.message,InputProps:{slotProps:{input:{min:0}},startAdornment:(0,Q.jsx)(P.Z,{position:"start",children:"\xa3"})}})),(0,Q.jsx)(d.Qr,{name:p.W.estimatedEndDate.name,control:R,render:function(e){return(0,Q.jsx)(Z.M,G(G({},e),{},{value:e.value||null,label:p.W.estimatedEndDate.label,inputFormat:"Do MMM YYYY",renderInput:function(e){var n;return e.inputProps.placeholder="",(0,Q.jsx)(I.Z,G(G({},e),{},{error:F.estimatedEndDate,helperText:null===(n=F.estimatedEndDate)||void 0===n?void 0:n.message,color:"secondary",variant:"standard"}))}}))}}),(0,Q.jsx)(I.Z,G(G({fullWidth:!0,variant:"standard",color:"secondary"},p.W.residualValue),{},{inputRef:L,type:"number",min:0,defaultValue:0,error:F.residualValue,helperText:null===(O=F.residualValue)||void 0===O?void 0:O.message,InputProps:{slotProps:{input:{min:0}},startAdornment:(0,Q.jsx)(P.Z,{position:"start",children:"\xa3"})}})),(0,Q.jsx)(d.Qr,{name:p.W.purchaseDate.name,control:R,render:function(e){return(0,Q.jsx)(Z.M,G(G({},e),{},{value:e.value||null,label:p.W.purchaseDate.label,inputFormat:"Do MMM YYYY",renderInput:function(e){var n;return e.inputProps.placeholder="",(0,Q.jsx)(I.Z,G(G({},e),{},{error:F.purchaseDate,helperText:null===(n=F.purchaseDate)||void 0===n?void 0:n.message,color:"secondary",variant:"standard"}))}}))}}),(0,Q.jsx)(d.Qr,{name:p.W.warrantyExpiry.name,control:R,render:function(e){return(0,Q.jsx)(Z.M,G(G({},e),{},{value:e.value||null,label:p.W.warrantyExpiry.label,inputFormat:"Do MMM YYYY",renderInput:function(e){var n;return e.inputProps.placeholder="",(0,Q.jsx)(I.Z,G(G({},e),{},{error:F.warrantyExpiry,helperText:null===(n=F.warrantyExpiry)||void 0===n?void 0:n.message,color:"secondary",variant:"standard"}))}}))}}),(0,Q.jsx)(I.Z,{fullWidth:!0,multiline:!0,required:!0,rows:4,variant:"filled",color:"secondary",label:"Description",name:"description",inputRef:L,error:F.description,helperText:null===(D=F.description)||void 0===D?void 0:D.message}),(0,Q.jsx)(d.Qr,{name:"relationType",control:R,render:function(e){var n,t=e.value,r=e.onChange;return(0,Q.jsx)(A.E,{stackProps:{direction:"row"},value:t,onChange:r,options:[{label:"Parent",value:"parent"},{label:"Child",value:"child"}],error:F.relationType,helperText:null===(n=F.relationType)||void 0===n?void 0:n.message})}}),"child"===H&&(0,Q.jsx)(d.Qr,{name:"parent",control:R,render:function(e){var n,t=e.value,r=e.onChange;return(0,Q.jsx)(g.F,{inputProps:{required:!0},value:t,disabled:!(null!=B&&B.value),onChange:function(e,n){return r(n)},label:"Parent asset",loading:ex,onOpen:function(){return eh()},options:eI,error:F.parent,helperText:null===(n=F.parent)||void 0===n?void 0:n.message})}}),(0,Q.jsx)(d.Qr,{name:"status",control:R,render:function(e){var n,t=e.value,r=e.onChange;return(0,Q.jsx)(T.P,{formControl:{fullWidth:!0,variant:"standard",color:"secondary",error:F.status,helperText:null===(n=F.status)||void 0===n?void 0:n.message},selectProps:{fullWidth:!0},label:"Status",value:t,onChange:r,options:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}]})}}),k.map(function(e){var n,t,r,a;return(0,Q.jsx)(V,{register:L,control:R,errors:F,input:null===(n=e.meta)||void 0===n?void 0:n.input,inputType:null===(t=e.meta)||void 0===t?void 0:t.inputType,label:null===(r=e.meta)||void 0===r?void 0:r.label,name:e.name,options:null===(a=e.meta)||void 0===a?void 0:a.options})})]})})};U.defaultProps={assetId:null,offCanvas:{},defaultValues:{}}},23391:function(e,n,t){t.d(n,{Jt:function(){return h},RL:function(){return b},Wx:function(){return f},tG:function(){return p},yC:function(){return v},zu:function(){return y}});var r,a,o,i,l,s,u,d,c=t(71383),m=t(75063),p=(0,m.Ps)(r||(r=(0,c.Z)(["\n  query GetAssets(\n    $q: String\n    $customerId: Int\n    $locationId: Int\n    $categoryId: Int\n    $limit: Int\n    $offset: Int\n    $orderBy: Asset_order_by!\n  ) {\n    assets: Asset(\n      limit: $limit\n      offset: $offset\n      where: {\n        name: { _ilike: $q }\n        accountId: { _eq: $customerId }\n        locationId: { _eq: $locationId }\n        categoryId: { _eq: $categoryId }\n      }\n      order_by: [$orderBy]\n    ) {\n      id\n      name\n      bookable\n      customFields\n      description\n      meta\n      status\n      createdAt\n      category: Category {\n        id\n        name\n      }\n      customer: Account {\n        id\n        name\n      }\n      location: Location {\n        id\n        name\n      }\n      sublocation: Sublocation {\n        id\n        name\n      }\n      userId: User {\n        value: id\n        label: fullName\n      }\n      parentId: ParentAsset {\n        value: id\n        label: fullName\n      }\n    }\n    meta: Asset_aggregate(\n      where: {\n        name: { _ilike: $q }\n        accountId: { _eq: $customerId }\n        locationId: { _eq: $locationId }\n        categoryId: { _eq: $categoryId }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n"]))),v=(0,m.Ps)(a||(a=(0,c.Z)(['\n  query GetAsset($id: Int!) {\n    asset: Asset_by_pk(id: $id) {\n      id\n      name\n      fullName\n      description\n      meta\n      status\n      createdAt\n      parentAsset: ParentAsset {\n        id\n        name\n        fullName\n      }\n      customer: Account {\n        id\n        name\n      }\n      location: Location {\n        id\n        name\n        access\n        customerUser: User {\n          id\n          nameFirst\n          nameLast\n        }\n      }\n      sublocation: Sublocation {\n        id\n        name\n      }\n      category: Category {\n        id\n        name\n        childs: Taxonomies(\n          where: { status: { _eq: "active" }, type: { _eq: "assetQuestion" } }\n          order_by: { id: asc }\n        ) {\n          id\n          name\n          type\n          meta\n        }\n      }\n      media: Media {\n        id\n        item: Medium {\n          id\n          filename\n        }\n      }\n    }\n  }\n'])));(0,m.Ps)(o||(o=(0,c.Z)(["\n  subscription GetAssetMeterByAssetId($assetId: Int!) {\n    meters: AssetMeter(where: { assetId: { _eq: $assetId } }, order_by: { id: desc }) {\n      id\n      name\n      unit\n      frequency\n      rangeLower\n      rangeUpper\n      status\n      meta\n      logs: AssetLogs(limit: 1000, order_by: { id: desc }) {\n        id\n        status\n        eventTime\n        type\n        value\n      }\n    }\n  }\n"])));var b=(0,m.Ps)(i||(i=(0,c.Z)(["\n  mutation AddAsset($objects: [Asset_insert_input!]!) {\n    insert_Asset(objects: $objects) {\n      returning {\n        id\n      }\n    }\n  }\n"]))),f=(0,m.Ps)(l||(l=(0,c.Z)(["\n  mutation UpdateAsset($id: Int!, $changes: Asset_set_input) {\n    update_Asset_by_pk(pk_columns: { id: $id }, _set: $changes) {\n      id\n    }\n  }\n"])));(0,m.Ps)(s||(s=(0,c.Z)(["\n  mutation DeleteAsset($id: Int!) {\n    delete_Asset_by_pk(id: $id) {\n      id\n    }\n  }\n"])));var y=(0,m.Ps)(u||(u=(0,c.Z)(['\n  query GetJobs($assetId: Int!, $limit: Int, $offset: Int, $orderBy: Job_order_by!) {\n    jobs: Job(\n      limit: $limit\n      offset: $offset\n      where: { Assets: { Asset: { id: { _eq: $assetId } } } }\n      order_by: [$orderBy]\n    ) {\n      id\n      type\n      number\n      status\n      scheduledAt\n      timingStart\n      createdAt\n      invoices: Invoices(order_by: { createdAt: desc }) {\n        invoiceNumber\n      }\n\n      customer: Customer {\n        id\n        type\n        name\n        status\n        vatId\n      }\n      location: Location {\n        id\n        name\n      }\n      sublocation: Sublocation {\n        id\n        name\n      }\n      manager: Manager {\n        id\n        fullName\n      }\n      service: Service {\n        id\n        name\n      }\n      shortJobDesc: Taxonomy(where: { Taxonomy: { type: { _eq: "jobTags" } } }) {\n        taxonomy: Taxonomy {\n          name\n        }\n      }\n      sla: SLA {\n        name\n      }\n      supplier: Supplier {\n        id\n        name\n      }\n      supplierUser: SupplierUser {\n        id\n        fullName\n      }\n      supplierOffers: SupplierOffers {\n        supplier: Supplier {\n          id\n          name\n        }\n      }\n      timings: JobTimings(order_by: { createdAt: asc }) {\n        user: User {\n          fullName\n        }\n      }\n    }\n    meta: Job_aggregate(where: { Assets: { Asset: { id: { _eq: $assetId } } } }) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']))),h=(0,m.Ps)(d||(d=(0,c.Z)(["\n  query MEDIAS($category: String, $entity: String, $entityId: Int, $type: String, $adminId: Int) {\n    items: Media_Entity(\n      where: {\n        entity: { _eq: $entity }\n        entityId: { _eq: $entityId }\n        Medium: { adminId: { _eq: $adminId }, category: { _eq: $category }, type: { _eq: $type } }\n      }\n    ) {\n      id\n      item: Medium {\n        id\n        filename\n      }\n    }\n  }\n"])))}}]);