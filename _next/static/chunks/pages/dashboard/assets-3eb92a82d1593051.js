(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3383],{26143:function(e,n,t){"use strict";t.d(n,{C:function(){return O}});var r=t(67294),i=t(93946),o=t(25464),a=t(18972),s=t(57976),c=t(14218),l=t(95429),u=t(91988),d=t(70983),p=t(46761),f=t(91682),m=t(39702),h=t(36804),y=t(51797),b=t(53630),v=t(50748),g=t(23132),x=t(88127),j=t(52186),_=t(59301),$=t(26447),w=t(15861),P=t(85893),I={add:(0,P.jsx)(c.Z,{}),archive:(0,P.jsx)(l.Z,{}),avatar:(0,P.jsx)(u.Z,{}),check:(0,P.jsx)(d.Z,{}),delete:(0,P.jsx)(p.Z,{}),description:(0,P.jsx)(f.Z,{}),download:(0,P.jsx)(m.Z,{}),info:(0,P.jsx)(h.Z,{}),edit:(0,P.jsx)(y.Z,{}),location:(0,P.jsx)(b.Z,{}),unarchive:(0,P.jsx)(v.Z,{}),uploadFile:(0,P.jsx)(g.Z,{}),receipt:(0,P.jsx)(x.Z,{}),visibility:(0,P.jsx)(j.Z,{})},Z={default:(0,P.jsx)(s.Z,{}),defaultHoriz:(0,P.jsx)(_.Z,{}),description:(0,P.jsx)(f.Z,{})},O=function(e){var n=e.actionsData,t=e.icon,s=e.row,c=e.disabled,l=(0,r.useState)(null),u=l[0],d=l[1],p=function(e){e.stopPropagation(),d(e.currentTarget)},f=function(){d(null)};return(0,P.jsxs)("div",{children:[(0,P.jsx)(i.Z,{sx:{":hover":{backgroundColor:"#DDDDDD"}},disabled:c,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:p,children:Z[t]}),(0,P.jsx)(o.Z,{id:"simple-menu",anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:f,PaperProps:{sx:{borderRadius:2}},children:n(s).map(function(e,n){return(0,P.jsx)(a.Z,{disabled:e.disabled,onClick:function(n){e.onClick(n),f()},sx:{pl:3,pr:4},children:(0,P.jsxs)($.Z,{direction:"row",alignItems:"center",spacing:2,children:[(null==I?void 0:I[e.icon])||null,(0,P.jsx)(w.Z,{children:e.tooltip})]})},n)})})]})};O.defaultProps={actionsData:function(){return[{disabled:!1,onClick:function(){},icon:"edit",tooltip:"Edit"}]},icon:"default",disabled:!1}},51778:function(e,n,t){"use strict";t.d(n,{E:function(){return U}});var r=t(59499),i=t(11163),o=t.n(i),a=t(58095),s=t(32836),c=t(42846),l=t(23391),u=t(6812),d=t(30381),p=t.n(d),f=t(26447),m=t(11057),h=t(90629),y=t(15861),b=t(9164),v=t(8602),g=t(25248),x=t(26143),j=t(16835),_=t(61730),$=t(86886),w=t(50135),P=t(11994),I=t(3896),Z=t(42283),O=t(73359),q=t(67294),S=t(18574),C=t(76301),k=t(88085),D=t(10166),T=t(85893);function A(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function M(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?A(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var G=function(e){var n,t=e.open,r=e.setOpen,i=e.initialFilters,o=e.filters,a=e.setFilters,s=(0,_.Z)("(max-width: 400px)")?4:0,c=(0,I.X)("form_data_".concat(i.filterType),i),l=(0,j.Z)(c,2),u=l[0],d=l[1],p=(0,Z.cI)({defaultValues:u}),f=p.control,h=p.handleSubmit,y=p.register,b=p.reset,v=(0,p.watch)(),g=(0,O.t)(C.SW),x=(0,j.Z)(g,2),P=x[0],D=x[1],A=D.loading,G=D.data,E=(G=void 0===G?{items:[]}:G).items,N=(0,O.t)(C._d,{variables:{where:{status:{_eq:"active"},Account_Locations:{accountId:{_eq:null===(n=v.customer)||void 0===n?void 0:n.value}}}}}),U=(0,j.Z)(N,2),R=U[0],H=U[1],W=H.loading,B=H.data,z=(B=void 0===B?{items:[]}:B).items,V=(0,O.t)(C.UM),J=(0,j.Z)(V,2),Y=J[0],Q=J[1],X=Q.loading,K=Q.data,ee=(K=void 0===K?{items:[]}:K).items;(0,q.useEffect)(function(){t&&b(u)},[t]),(0,q.useEffect)(function(){var e;d(M(M({},v),{},{filterType:i.filterType}))},[o]);var en=function(e){try{var n,t,i,o={customerId:null===(n=e.customer)||void 0===n?void 0:n.value,locationId:null===(t=e.location)||void 0===t?void 0:t.value,categoryId:null===(i=e.assetCategory)||void 0===i?void 0:i.value,q:e.search?"%".concat(e.search,"%"):null};a(function(e){return M(M({},e),o)})}finally{r(!1)}},et=function(){a(i),b(i),r(!1)};return(0,T.jsx)(F,{keepMounted:!0,open:t,onClose:function(){return r(!1)},children:(0,T.jsx)("form",{onSubmit:h(en),children:(0,T.jsx)(L,{children:(0,T.jsxs)($.ZP,{container:!0,rowGap:4,children:[(0,T.jsx)($.ZP,{container:!0,children:(0,T.jsx)($.ZP,{item:!0,xs:12,children:(0,T.jsx)(w.Z,{fullWidth:!0,variant:"standard",color:"secondary",label:"Search...",name:"search",inputRef:y})})}),(0,T.jsxs)($.ZP,{container:!0,columnSpacing:4,rowGap:s,children:[(0,T.jsx)($.ZP,{item:!0,xs:12,xs2:6,children:(0,T.jsx)(Z.Qr,{name:"customer",control:f,render:function(e){var n=e.value,t=e.onChange;return(0,T.jsx)(S.F,{value:n,onChange:function(e,n){return t(n)},label:"Select customer",loading:A,onOpen:function(){return P()},options:E})}})}),(0,T.jsx)($.ZP,{item:!0,xs:12,xs2:6,children:(0,T.jsx)(Z.Qr,{name:"location",control:f,render:function(e){var n=e.value,t=e.onChange;return(0,T.jsx)(S.F,{value:n,onChange:function(e,n){return t(n)},label:"Select location",loading:W,onOpen:function(){return R()},options:z})}})})]}),(0,T.jsx)($.ZP,{container:!0,columnSpacing:4,rowGap:s,children:(0,T.jsx)($.ZP,{item:!0,xs:12,xs2:6,children:(0,T.jsx)(Z.Qr,{name:"assetCategory",control:f,render:function(e){var n=e.value,t=e.onChange;return(0,T.jsx)(S.F,{value:n,onChange:function(e,n){return t(n)},label:"Select asset category",loading:X,onOpen:function(){return Y()},options:ee})}})})}),(0,T.jsx)($.ZP,{container:!0,item:!0,xs:12,children:(0,T.jsxs)(k.Z,{width:"100%",direction:"row",justifyContent:"flex-end",spacing:2,children:[(0,T.jsx)(m.Z,{variant:"contained",color:"danger",onClick:function(){return et()},children:"Cancel"}),(0,T.jsx)(m.Z,{variant:"contained",color:"secondary",type:"submit",children:"Search"})]})})]})})})})};G.defaultProps={open:!1,setOpen:function(){},initialFilters:{},filters:{},setFilters:function(){}};var F=(0,D.Z)(P.Z)(function(){return{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}}),L=(0,D.Z)(h.Z)(function(){return{padding:"24px",maxWidth:"700px",maxHeight:"100vh",overflowY:"scroll"}});function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var U=function(e){var n=e.hideLink,t=e.hideCustomerInfo,r=e.hideLocationInfo,i=e.showHeader,d=e.initialFilters,j=e.editable,_=e.createFormDefaultValues,$=(0,a.a)(),w=(0,q.useState)(!1),P=w[0],I=w[1],Z=(0,q.useState)(N({},d)),O=Z[0],S=Z[1],C=(0,c.x)({filters:O}),k=C.initialData,D=C.ref,A=(0,u.a)(l.tG,{variables:N({},k)}),M=A.data,F=(M=void 0===M?{assets:[],meta:{aggregate:{totalCount:0}}}:M).assets,L=M.meta,E=A.loading,U=A.refetch,R=function(){$.show({content:(0,T.jsx)(g.R,{offCanvas:$,defaultValues:_}),title:"Add Asset",submit:!0})},H=function(e){$.show({content:(0,T.jsx)(g.R,{assetId:e.id,offCanvas:$,defaultValues:_}),title:"Edit Asset",submit:!0})},W=function(e){var n=[];return j&&n.push({icon:"edit",onClick:function(n){n.stopPropagation(),H(e)},tooltip:"Edit"}),n.push({icon:"info",onClick:function(n){n.stopPropagation(),o().push("/dashboard/assets/view?id=".concat(e.id))},tooltip:"Info"}),n},B=function(e){var n=e.row;o().push("/dashboard/assets/view?id=".concat(n.id))};return(0,T.jsxs)(f.Z,{width:"100%",spacing:2,sx:{height:"calc(100% - 58px)"},children:[i&&(0,T.jsxs)(f.Z,{width:"100%",direction:"row",justifyContent:"space-between",children:[(0,T.jsx)(m.Z,{variant:"contained",startIcon:(0,T.jsx)(v.Z,{}),onClick:function(){return I(!0)},children:"Filters"}),j&&(0,T.jsx)(f.Z,{direction:"row",spacing:2,children:(0,T.jsx)(m.Z,{variant:"contained",color:"secondary",onClick:R,children:"Create Asset"})})]}),(0,T.jsxs)(h.Z,{sx:{paddingTop:"16px",paddingBottom:"16px",height:"100%"},children:[(0,T.jsxs)(f.Z,{direction:"row",justifyContent:"space-between",children:[(0,T.jsx)(y.Z,{ml:2,variant:"h5",sx:{fontWeight:600},children:"Assets"}),j&&!i&&(0,T.jsx)(m.Z,{sx:{mr:2},variant:"contained",color:"secondary",onClick:R,children:"Create Asset"})]}),i&&(0,T.jsx)(G,{initialFilters:d,filters:O,setFilters:S,open:P,setOpen:I}),(0,T.jsx)(s.i,{autoHeight:!1,loading:E,ref:D,columns:[{minWidth:80,flex:1,field:"name",headerName:"Name",sortable:!1},{minWidth:100,flex:1,field:"description",headerName:"Description",sortable:!1},{minWidth:80,flex:1,field:"categoryName",headerName:"Category",sortable:!1},{minWidth:120,flex:1,field:"locationName",headerName:"Location",sortable:!1,renderCell:function(e){var n=e.row;return(0,T.jsx)(b.r,{color:"secondary",href:"/dashboard/properties/view?id=".concat(n.locationId),children:n.locationName})}},{minWidth:80,flex:1,field:"sublocationName",headerName:"Sublocation",sortable:!1,renderCell:function(e){var t=e.row;return(0,T.jsx)(b.r,{noWrap:n,color:"secondary",href:"/dashboard/properties/view?id=".concat(t.locationId,"&tab=sublocations"),children:t.sublocationName})}},{minWidth:120,flex:1,field:"customerName",headerName:"Customer",sortable:!1,renderCell:function(e){var n=e.row;return(0,T.jsx)(b.r,{color:"secondary",href:"/dashboard/customers/view?id=".concat(n.customerId),children:n.customerName})}},{minWidth:60,flex:1,field:"type",headerName:"Type",sortable:!1},{minWidth:60,flex:1,field:"status",headerName:"Status",sortable:!1},{minWidth:100,flex:1,field:"createdAt",headerName:"Created",sortable:!0,sortName:"createdAt"},{width:50,field:"actions",headerName:"Actions",sortable:!1,renderCell:function(e){var n=e.row;return(0,T.jsx)(x.C,{row:n,actionsData:W})}}],rows:F.map(function(e){var n,t,r,i,o,a,s,c,l,u,d,f,m,h,y,b,v;return{id:e.id,customer:{label:null===(n=e.customer)||void 0===n?void 0:n.name,value:null===(t=e.customer)||void 0===t?void 0:t.id},assetCategory:{label:null===(r=e.category)||void 0===r?void 0:r.name,value:null===(i=e.category)||void 0===i?void 0:i.id},description:e.description,name:e.name,location:{label:null===(o=e.location)||void 0===o?void 0:o.name,value:null===(a=e.location)||void 0===a?void 0:a.id},sublocation:{label:null===(s=e.sublocation)||void 0===s?void 0:s.name,value:null===(c=e.sublocation)||void 0===c?void 0:c.id},parent:{label:null===(l=e.parentId)||void 0===l?void 0:l.label,value:null===(u=e.parentId)||void 0===u?void 0:u.value},status:e.status,locationId:null===(d=e.location)||void 0===d?void 0:d.id,customerId:null===(f=e.customer)||void 0===f?void 0:f.id,categoryName:null===(m=e.category)||void 0===m?void 0:m.name,locationName:null===(h=e.location)||void 0===h?void 0:h.name,sublocationName:null===(y=e.sublocation)||void 0===y?void 0:y.name,type:null!==(b=e.parentId)&&void 0!==b&&b.value?"Child":"Parent",customerName:null===(v=e.customer)||void 0===v?void 0:v.name,createdAt:p()(e.createdAt).format("YYYY-MM-DD")}}),meta:L,refetch:U,onRowClick:B,containerHeight:"calc(100% - 32px)",columnVisibilityModel:{locationName:!r,customerName:!t}})]})]})};U.defaultProps={initialFilters:{},hideLink:!1,hideCustomerInfo:!1,hideLocationInfo:!1,showHeader:!0,editable:!0}},18574:function(e,n,t){"use strict";t.d(n,{F:function(){return O}});var r=t(59499),i=t(10166),o=t(50135),a=t(98456),s=t(16143),c=t(80482),l=t(23776),u=t(27812),d=t(4730),p=t(74061),f=t(6498),m=t(61730),h=t(75438),y=t(15861),b=t(67294),v=t(85893),g=["children"];function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var _=(0,b.createContext)({}),$=(0,b.forwardRef)(function(e,n){var t=(0,b.useContext)(_);return(0,v.jsx)("div",j(j({ref:n},e),t))}),w=(0,b.forwardRef)(function(e,n){var t=e.children,r=(0,d.Z)(e,g),i=[];t.forEach(function(e){i.push(e),i.push.apply(i,(0,u.Z)(e.children||[]))});var o,a,s=(0,f.u)(),c=(0,m.Z)(s.breakpoints.up("sm"),{noSsr:!0}),l=i.length,h=c?36:48,y=function(e){return e.hasOwnProperty("group")?48:h},x=(a=(0,b.useRef)(null),(0,b.useEffect)(function(){null!=a.current&&a.current.resetAfterIndex(0,!0)},[l]),a);return(0,v.jsx)("div",{ref:n,children:(0,v.jsx)(_.Provider,{value:r,children:(0,v.jsx)(p.S_,{itemData:i,height:(l>8?8*h:i.map(y).reduce(function(e,n){return e+n},0))+16,width:"100%",ref:x,outerElementType:$,innerElementType:"ul",itemSize:function(e){return y(i[e])},overscanCount:5,itemCount:l,children:P})})})});function P(e){var n=e.data,t=e.index,r=e.style,i=n[t],o=j(j({},r),{},{top:r.top+8});return i.hasOwnProperty("group")?(0,v.jsx)(h.Z,{component:"div",style:o,children:i.group},i.key):(0,v.jsx)(y.Z,j(j({component:"li"},i[0]),{},{noWrap:!0,style:o,children:i[1].label}))}function I(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?I(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var O=function(e){var n=e.label,t=e.loading,r=e.placeholder,i=e.error,s=e.helperText,c=e.inputProps;return(0,v.jsx)(S,Z(Z({},e),{},{disableListWrap:!0,PopperComponent:q,ListboxComponent:w,renderInput:function(e){return(0,v.jsx)(o.Z,Z(Z(Z({},e),c),{},{error:i,helperText:s,label:n,placeholder:r,color:"secondary",variant:"standard",InputProps:Z(Z(Z({},e.InputProps),(null==c?void 0:c.InputProps)||{}),{},{endAdornment:(0,v.jsxs)(v.Fragment,{children:[t?(0,v.jsx)(a.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},renderOption:function(e,n,t){return[e,n,t.index]},renderGroup:function(e){return e}}))};O.defaultProps={value:null,onChange:function(){},label:"",loading:!1,error:!1,onOpen:function(){},options:[],inputProps:{},withoutSelectIcon:!1};var q=(0,i.Z)(s.Z)((0,r.Z)({zIndex:"12000 !important"},"& .".concat(c.Z.listbox),{boxSizing:"border-box","& ul":{padding:0,margin:0}})),S=(0,i.Z)(l.Z)(function(e){return{"& .MuiAutocomplete-root":{cursor:"pointer"},"& .MuiAutocomplete-popper":{zIndex:"12000 "},"& .MuiAutocomplete-endAdornment":{"& .MuiButtonBase-root.MuiIconButton-root.MuiAutocomplete-popupIndicator":{"& .MuiSvgIcon-root":Z({},e.withoutSelectIcon&&{display:"none"})}}}})},9164:function(e,n,t){"use strict";t.d(n,{r:function(){return u}});var r=t(59499),i=t(41664),o=t.n(i),a=t(23795),s=t(85893);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var u=function(e){var n=e.children,t=e.href,r=e.noWrap,i=e.target,c=e.sx,u=void 0===c?{}:c;return r?(0,s.jsx)(s.Fragment,{children:n}):t?(0,s.jsx)(o(),{href:t,target:i,passHref:!0,children:(0,s.jsx)(a.Z,l(l({sx:u},e),{},{children:n}))}):(0,s.jsx)(a.Z,l(l({sx:u},e),{},{children:n}))};u.defaultProps={onClick:function(e){e.stopPropagation()}}},77010:function(e,n,t){"use strict";t.d(n,{E:function(){return h}});var r=t(59499),i=t(94054),o=t(26447),a=t(40476),s=t(79717),c=t(50480),l=t(36872),u=t(15861),d=t(56815),p=t(85893);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var h=function(e){var n=e.label,t=e.options,r=e.error,f=e.helperText,h=e.stackProps,b=e.formControlProps,v=e.labelLeft,g=function(e){var n=e.children;return(0,p.jsx)(p.Fragment,{children:n})};return(0,p.jsxs)(i.Z,m(m({sx:{m:3},error:r,variant:"standard"},void 0===b?{}:b),{},{children:[(0,p.jsxs)(o.Z,m(m({},v&&y),{},{children:[n&&(0,p.jsx)(a.Z,{id:"radio-group",color:"secondary",children:n}),(0,p.jsx)(s.Z,m(m({},e),{},{"aria-labelledby":"radio-group",children:(0,p.jsx)(o.Z,m(m({},void 0===h?{}:h),{},{children:t.map(function(e){var n=e.value,t=e.label,r=e.icon,i=e.ParentComponent;return(0,p.jsx)(void 0===i?g:i,{children:(0,p.jsx)(c.Z,{value:n,control:(0,p.jsx)(l.Z,{color:"secondary"}),label:(0,p.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:1,children:[r,(0,p.jsx)(u.Z,{children:t})]})})})})}))}))]})),(0,p.jsx)(d.Z,{children:f})]}))};h.defaultProps={options:[],error:!1,helperText:"",stackProps:{},formControlProps:{},labelLeft:!1};var y={direction:"row",alignItems:"center",flexWrap:"wrap",spacing:1}},76301:function(e,n,t){"use strict";t.d(n,{Ak:function(){return N},Cj:function(){return Y},K4:function(){return er},Qn:function(){return L},RJ:function(){return J},SW:function(){return F},T_:function(){return B},UH:function(){return G},UM:function(){return en},Ve:function(){return Q},_d:function(){return R},_f:function(){return et},by:function(){return z},cz:function(){return T},he:function(){return E},j$:function(){return U},kB:function(){return K},kU:function(){return X},kx:function(){return H},nD:function(){return M},nP:function(){return eo},pY:function(){return ei},qd:function(){return A},t1:function(){return W},yR:function(){return V},zR:function(){return ee}});var r,i,o,a,s,c,l,u,d,p,f,m,h,y,b,v,g,x,j,_,$,w,P,I,Z,O,q,S,C,k=t(71383),D=t(75063),T=(0,D.Ps)(r||(r=(0,k.Z)(["\n  query GetAddressForSelect($q: String, $entity: String!, $entityId: Int!) {\n    items: Address(\n      where: {\n        Address_Entities: { entity: { _eq: $entity }, entityId: { _eq: $entityId } }\n        _or: [\n          { addressLine1: { _eq: $q } }\n          { addressLine2: { _eq: $q } }\n          { addressLine3: { _eq: $q } }\n          { county: { _eq: $q } }\n          { postCode: { _eq: $q } }\n          { city: { _eq: $q } }\n        ]\n      }\n    ) {\n      label: addressLine1\n      value: id\n      id\n      name\n      addressLine1\n      addressLine2\n      addressLine3\n      postCode\n      county\n      country: Country {\n        name\n      }\n      city\n      Address_Entities {\n        invoice\n      }\n    }\n  }\n"]))),A=(0,D.Ps)(i||(i=(0,k.Z)(["\n  query GetAccountsForSelect($q: String, $type: String, $limit: Int, $offset: Int) {\n    items: Account(\n      where: { name: { _ilike: $q }, type: { _eq: $type } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]))),M=(0,D.Ps)(o||(o=(0,k.Z)(['\n  query GetTaxonomy($q: String, $id: Int) {\n    items: Taxonomy(\n      where: { type: { _eq: "assetCategory" }, status: { _eq: "active" } }\n      order_by: { name: asc }\n    ) {\n      label: name\n      options: Taxonomies(\n        where: {\n          type: { _eq: "assetCategory" }\n          name: { _ilike: $q }\n          id: { _eq: $id }\n          status: { _eq: "active" }\n        }\n        order_by: { name: asc }\n      ) {\n        value: id\n        label: name\n      }\n    }\n  }\n']))),G=(0,D.Ps)(a||(a=(0,k.Z)(["\n  query GetAssetsForSelect($locationId: Int, $q: String, $categoryId: Int, $bookable: String) {\n    items: Asset(\n      where: {\n        categoryId: { _eq: $categoryId }\n        locationId: { _eq: $locationId }\n        name: { _ilike: $q }\n        bookable: { _eq: $bookable }\n      }\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n      parent: ParentAsset {\n        id\n        name\n      }\n      media: Media {\n        id\n        item: Medium {\n          id\n          name\n          filename\n          meta\n          category\n          type\n        }\n      }\n    }\n  }\n"]))),F=(0,D.Ps)(s||(s=(0,k.Z)(['\n  query GetCustomersForSelect($q: String, $limit: Int, $offset: Int) {\n    items: Account(\n      where: { name: { _ilike: $q }, type: { _eq: "customer" } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      admin: Admins {\n        id: adminId\n      }\n      label: name\n      spendThreshold: meta(path: "$.finance.spendThreshold")\n      serviceRateLabour: meta(path: "$.finance.serviceRateLabour")\n      serviceRateExpenses: meta(path: "$.finance.serviceRateExpenses")\n      value: id\n    }\n  }\n']))),L=(0,D.Ps)(c||(c=(0,k.Z)(["\n  query GetJobsForSelect($_q: Int, $locationId: Int) {\n    items: Job(\n      where: {\n        Location: { id: { _eq: $locationId } }\n        _or: [{ id: { _eq: $_q } }, { Invoices: { id: { _eq: $_q } } }]\n      }\n      order_by: { title: asc }\n    ) {\n      label: label\n      value: id\n      number\n      createdAt\n      description\n      status\n      timingStart\n      title\n      type\n      Location {\n        name\n      }\n      Taxonomy {\n        Taxonomy {\n          shortJobDescription: name\n        }\n      }\n    }\n  }\n"]))),E=(0,D.Ps)(l||(l=(0,k.Z)(['\n  query GetManagersForSelect($userId: Int, $accountId: Int!, $q: String) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: {\n          role: { _in: ["owner", "manager"] }\n          status: { _eq: "active" }\n          Account: { id: { _eq: $accountId } }\n        }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n        id: { _neq: $userId }\n      }\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n']))),N=(0,D.Ps)(u||(u=(0,k.Z)(['\n  query GetManagersForSelect(\n    $userId: Int\n    $accountId: Int!\n    $q: String\n    $invoiceThreshold: numeric\n    $quoteThreshold: numeric\n  ) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: {\n          role: { _in: ["owner", "manager"] }\n          status: { _eq: "active" }\n          Account: { id: { _eq: $accountId } }\n        }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n        id: { _neq: $userId }\n        _and: [\n          {\n            _or: [\n              { invoiceThreshold: { _gt: $invoiceThreshold } }\n              { invoiceThreshold: { _is_null: true } }\n            ]\n          }\n          {\n            _or: [\n              { quoteThreshold: { _gt: $quoteThreshold } }\n              { quoteThreshold: { _is_null: true } }\n            ]\n          }\n        ]\n      }\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n']))),U=(0,D.Ps)(d||(d=(0,k.Z)(["\n  query GetPostCodeAreaForSelect($countryId: Int, $q: String) {\n    items: PostcodeArea(\n      where: { name: { _ilike: $q }, countryId: { _eq: $countryId } }\n      order_by: { name: asc }\n    ) {\n      area\n      label: name\n      value: id\n    }\n  }\n"]))),R=(0,D.Ps)(p||(p=(0,k.Z)(['\n  query GetPropertiesForSelect($where: Location_bool_exp, $limit: Int, $offset: Int) {\n    items: Location(where: $where, order_by: { name: asc }, limit: $limit, offset: $offset) {\n      label: name\n      value: id\n      access\n      permitsRequired\n      registeredAddress: Addresses(\n        where: { entity: { _eq: "Location" }, registered: { _eq: true } }\n      ) {\n        address: Address {\n          id\n          addressLine1\n          addressLine2\n          addressLine3\n          county\n          country: Country {\n            name\n          }\n          postCode\n          city\n        }\n      }\n    }\n  }\n']))),H=(0,D.Ps)(f||(f=(0,k.Z)(['\n  query GetServicesForSelect($q: String, $limit: Int, $offset: Int) {\n    items: Service(\n      where: { name: { _ilike: $q }, status: { _eq: "active" } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n']))),W=(0,D.Ps)(m||(m=(0,k.Z)(["\n  query GetSlasForSelect($q: String, $adminId: Int, $type: String) {\n    items: SLA(\n      where: { name: { _ilike: $q }, type: { _eq: $type }, adminId: { _eq: $adminId } }\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]))),B=(0,D.Ps)(h||(h=(0,k.Z)(["\n  query GetSlasForSelectNew($where: SLA_bool_exp, $limit: Int, $offset: Int) {\n    items: SLA(where: $where, order_by: { name: asc }, limit: $limit, offset: $offset) {\n      label: name\n      value: id\n    }\n  }\n"]))),z=(0,D.Ps)(y||(y=(0,k.Z)(["\n  query GetSuppliersForSelect($where: Account_bool_exp, $limit: Int, $offset: Int) {\n    items: Account(where: $where, limit: $limit, offset: $offset, order_by: { name: asc }) {\n      label: name\n      value: id\n    }\n  }\n"]))),V=(0,D.Ps)(b||(b=(0,k.Z)(['\n  query GetUsersForSelect($accountId: Int, $q: String, $limit: Int, $offset: Int) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: {\n          accountId: { _eq: $accountId }\n          isContact: { _eq: true }\n          status: { _eq: "active" }\n        }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n      }\n      order_by: { nameFirst: asc }\n      limit: $limit\n      offset: $offset\n    ) {\n      label: fullName\n      value: id\n      email\n      phone\n    }\n  }\n']))),J=(0,D.Ps)(v||(v=(0,k.Z)(['\n  query GetUsersForSelect($q: String) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n      }\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n      email\n      phone\n    }\n  }\n']))),Y=(0,D.Ps)(g||(g=(0,k.Z)(["\n  query GetTaxonomyGroupForSelect($q: String, $type: String!) {\n    items: Taxonomy(\n      where: { isGroup: { _eq: true }, name: { _ilike: $q }, type: { _eq: $type } }\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]))),Q=(0,D.Ps)(x||(x=(0,k.Z)(['\n  query GetTaxonomy($q: String) {\n    items: Taxonomy(where: { type: { _eq: "expenseCategoryGroup" } }, order_by: { name: asc }) {\n      label: name\n      options: Taxonomies(\n        where: { type: { _eq: "expenseCategory" }, name: { _ilike: $q } }\n        order_by: { name: asc }\n      ) {\n        value: id\n        label: name\n      }\n    }\n  }\n']))),X=(0,D.Ps)(j||(j=(0,k.Z)(['\n  query GetCompliancesForSelect($q: String, $locationId: Int) {\n    items: Taxonomy(where: { type: { _eq: "complianceCategory" } }, order_by: { name: asc }) {\n      label: name\n      options: Compliances(\n        where: {\n          name: { _ilike: $q }\n          Compliance_Entities: { Location: { id: { _eq: $locationId } } }\n        }\n        order_by: { name: asc }\n      ) {\n        value: id\n        label: name\n      }\n    }\n  }\n']))),K=(0,D.Ps)(_||(_=(0,k.Z)(["\n  query GetUserRole($userId: Int!, $accountId: Int!) {\n    accountUsers: Account_User(\n      where: { userId: { _eq: $userId }, accountId: { _eq: $accountId } }\n    ) {\n      role\n    }\n  }\n"]))),ee=(0,D.Ps)($||($=(0,k.Z)(["\n  query GetSublocationsForSelect($locationId: Int!, $q: String, $limit: Int, $offset: Int) {\n    items: Sublocation(\n      where: { name: { _ilike: $q }, locationId: { _eq: $locationId }, active: { _eq: true } }\n      limit: $limit\n      offset: $offset\n      order_by: { createdAt: desc }\n    ) {\n      value: id\n      label: name\n    }\n  }\n"]))),en=(0,D.Ps)(w||(w=(0,k.Z)(['\n  query GetTaxonomy($q: String, $id: Int, $limit: Int, $offset: Int) {\n    items: Taxonomy(\n      where: {\n        id: { _eq: $id }\n        type: { _eq: "assetCategory" }\n        isGroup: { _eq: false }\n        status: { _eq: "active" }\n        name: { _ilike: $q }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n']))),et=(0,D.Ps)(P||(P=(0,k.Z)(["\n  query GetTaxonomyForSelect(\n    $where: Taxonomy_bool_exp\n    $limit: Int\n    $offset: Int\n    $orderBy: Taxonomy_order_by!\n  ) {\n    items: Taxonomy(where: $where, limit: $limit, offset: $offset, order_by: [$orderBy]) {\n      value: id\n      label: name\n    }\n  }\n"])));(0,D.Ps)(I||(I=(0,k.Z)(['\n  query GetTagsForTask($q: String!, $limit: Int = 50, $offset: Int = 0) {\n    items: Taxonomy(\n      where: { name: { _ilike: $q }, status: { _eq: "active" }, type: { _eq: "taskTags" } }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      value: id\n      label: name\n    }\n  }\n']))),(0,D.Ps)(Z||(Z=(0,k.Z)(['\n  query GetTagsForEntity(\n    $entityId: Int\n    $entity: String!\n    $q: String!\n    $limit: Int = 50\n    $offset: Int = 0\n  ) {\n    tags: Taxonomy(\n      where: {\n        name: { _ilike: $q }\n        status: { _eq: "active" }\n        type: { _eq: "taskTags" }\n        _not: { Taxonomy_Entities: { entity: { _eq: $entity }, entityId: { _eq: $entityId } } }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      id\n      name\n      meta\n    }\n  }\n']))),(0,D.Ps)(O||(O=(0,k.Z)(['\n  query GetEntityTags($entityId: Int!, $entity: String!) {\n    tags: Taxonomy_Entity(\n      where: {\n        entity: { _eq: $entity }\n        entityId: { _eq: $entityId }\n        Taxonomy: { status: { _eq: "active" }, type: { _eq: "taskTags" } }\n      }\n      order_by: { id: desc }\n    ) {\n      id\n      tag: Taxonomy {\n        id\n        name\n        meta\n      }\n    }\n  }\n'])));var er=(0,D.Ps)(q||(q=(0,k.Z)(["\n  query GetCustomerManagers($accountId: Int, $q: String, $limit: Int, $offset: Int) {\n    items: User(\n      where: { Account_Users: { accountId: { _eq: $accountId } }, fullName: { _ilike: $q } }\n      order_by: { fullName: asc }\n      limit: $limit\n      offset: $offset\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n"]))),ei=(0,D.Ps)(S||(S=(0,k.Z)(["\n  query GetServiceSchedulesForSelect(\n    $q: String\n    $serviceId: Int\n    $entity: service_schedule_entity\n    $entityId: Int\n    $limit: Int = 50\n    $offset: Int = 0\n  ) {\n    items: ServiceSchedule(\n      where: {\n        name: { _ilike: $q }\n        serviceId: { _eq: $serviceId }\n        entity: { _eq: $entity }\n        entityId: { _eq: $entityId }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]))),eo=(0,D.Ps)(C||(C=(0,k.Z)(['\n  query GetPropertyById($id: Int!) {\n    item: Location_by_pk(id: $id) {\n      label: name\n      value: id\n      access\n      registeredAddress: Addresses(\n        where: { entity: { _eq: "Location" }, registered: { _eq: true } }\n      ) {\n        address: Address {\n          id\n          addressLine1\n          addressLine2\n          addressLine3\n          county\n          country: Country {\n            name\n          }\n          postCode\n          city\n        }\n      }\n    }\n  }\n'])))},67432:function(e,n,t){"use strict";t.d(n,{P:function(){return j}});var r=t(59499),i=t(10166),o=t(26447),a=t(15861),s=t(87918),c=t(69368),l=t(18360),u=t(5616),d=t(18972),p=t(56815),f=t(94054),m=t(47312),h=t(85893),y=t(67294);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var g={text:function(e){var n=e.option,t=e.multiple,r=e.index;return t&&r>0?", ".concat(n.label):n.label},textWithIcon:function(e){var n=e.option;return(0,h.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:1,children:[n.icon,(0,h.jsxs)(a.Z,{children:[" ",n.label]})]})},chip:function(e){var n=e.chipProps,t=e.option;return(0,y.createElement)(s.Z,v(v({},n),{},{key:t.value,label:t.label,icon:t.icon,sx:{color:t.color,bgcolor:t.bgcolor}}))}},x={text:function(e){return e.option.label},textWithIcon:function(e){var n=e.option;return(0,h.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:1,children:[n.icon,(0,h.jsxs)(a.Z,{children:[" ",n.label]})]})},chip:function(e){var n=e.chipProps,t=e.option;return(0,y.createElement)(s.Z,v(v({},n),{},{key:t.value,label:t.label,icon:t.icon,sx:{color:t.color,bgcolor:t.bgcolor}}))},checkbox:function(e){var n=e.option,t=e.value;return(0,h.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,h.jsx)(c.Z,{color:"secondary",sx:{height:"10px"},checked:t.indexOf(n.value)>-1}),(0,h.jsxs)(a.Z,{children:[" ",n.label]})]})}},j=function(e){var n=e.label,t=e.value,r=e.onChange,i=e.leftSideLabel,o=e.options,s=e.inputComponent,c=e.selectComponent,f=e.withoutSelectIcon,m=e.formControl,y=e.chipProps,b=e.selectProps,j=function(e){return o.find(function(n){return n.value===e})};return(0,h.jsxs)(_,v(v({},m),{},{leftSideLabel:i,withoutSelectIcon:f,children:[n&&i&&(0,h.jsx)(a.Z,{children:n}),n&&!i&&(0,h.jsx)($,{shrink:""!==t&&void 0!==t,children:n}),(0,h.jsx)(l.Z,v(v({displayEmpty:!0},b),{},{value:t,onChange:r,inputProps:{shrink:!0},renderValue:function(){if(Array.isArray(t))return(0,h.jsx)(u.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.map(function(e,n){var t=j(e);return t?g[s]({chipProps:y,option:t,multiple:!0,index:n}):""})});var e=j(t);return e?(0,h.jsx)(u.Z,{children:g[s]({chipProps:y,option:e})}):""},children:o.map(function(e){return(0,h.jsx)(d.Z,{value:e.value,children:x[c]({chipProps:y,option:e,value:t})},e.value)})})),(null==m?void 0:m.helperText)&&(0,h.jsx)(p.Z,{children:m.helperText})]}))};j.defaultProps={label:"",onChange:function(){},leftSideLabel:!1,options:[],inputComponent:"text",selectComponent:"text",withoutSelectIcon:!1,formControl:{error:!1,helperText:""},chipProps:{size:"small"},selectProps:{}};var _=(0,i.Z)(f.Z)(function(e){e.theme;var n=e.leftSideLabel,t=e.withoutSelectIcon;return{"&.MuiFormControl-root":v({display:"flex",flexDirection:"column",alignItems:"flex-start"},n&&{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px"}),"& .MuiSelect-icon":v({},t&&{display:"none"})}}),$=(0,i.Z)(m.Z)(function(e){return{"&.MuiFormLabel-root.MuiInputLabel-root.Mui-focused":{color:e.theme.palette.secondary.main}}})},32836:function(e,n,t){"use strict";t.d(n,{i:function(){return P}});var r=t(59499),i=t(67294),o=t(11163),a=t(83148),s=t(26447),c=t(15861),l=t(90948),u=t(5616),d=t(41796),p=t(87361),f=t(42096),m=t(87043),h=t(61730),y=t(58886),b=t(70872),v=t(85893);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var j=function(e){var n=e.currentPage,t=e.totalCount,r=e.pageSize,i=e.onPageChange,o=(0,h.Z)("(max-width:400px)"),a=(0,h.Z)("(max-width:500px)");return(0,v.jsx)(_,{mb:2,page:n,count:Math.ceil(t/r),onChange:function(e,n){return i(n)},variant:"outlined",shape:"rounded",size:o?"small":"medium",hidePrevButton:1===n,hideNextButton:n===Math.ceil(t/r),siblingCount:a?0:1,renderItem:function(e){return(0,v.jsx)(y.Z,x({slots:{previous:function(){return"Previous"},next:function(){return"Next"}}},e))}})};j.defaultProps={currentPage:1,totalCount:0,pageSize:50,onPageChange:function(){}};var _=(0,l.ZP)(b.Z)(function(e){var n,t=e.hidePrevButton,i=e.hideNextButton,o=e.theme;return n={},(0,r.Z)(n,"&.MuiPagination-root",{alignSelf:"center",marginTop:"16px"}),(0,r.Z)(n,"& .MuiPaginationItem-root",{fontWeight:600,margin:0,borderRadius:0}),(0,r.Z)(n,"& .MuiPagination-ul > li:last-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"0 5px 5px 0"}),(0,r.Z)(n,"& .MuiPagination-ul > li:first-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"5px 0 0 5px"}),(0,r.Z)(n,"& button.Mui-selected",x(x({color:o.palette.white.main,backgroundColor:o.palette.secondary.main},i?{borderRadius:"0 5px 5px 0"}:{}),t?{borderRadius:"5px 0 0 5px"}:{})),n});function $(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var P=(0,i.forwardRef)(function(e,n){var t=e.columns,r=e.history,a=e.initialSort,l=e.meta,u=e.refetch,d=e.paginationSize,h=e.containerHeight,y=e.noResultsMessage,b=e.autoHeight,g=(0,o.useRouter)(),x=g.query,_=void 0===x?{}:x,$=(0,i.useState)(parseInt(null==_?void 0:_.page,10)||1),P=$[0],O=$[1],q=(0,i.useState)(d||m.C1.paginationSize),S=q[0],C=q[1];a||(a={item:"createdAt",order:"desc"});var k=(0,i.useState)({item:a.item,order:a.order}),D=k[0],T=k[1],A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=g.query,t=void 0===n?{}:n;if(e>1?t.page=e:delete t.page,!(Object.keys(t).length>0))return{};var r=Object.keys(t).map(function(n){return"page"===n?"".concat(n,"=").concat(e):"".concat(n,"=").concat(t[n])}).join("&");return"?".concat(r)},M=function(){T({item:a.item,order:a.order}),O(1);var e=A();g.push(e),C(d||m.C1.paginationSize)};(0,i.useImperativeHandle)(n,function(){return{currentPage:P,pageSize:S,sort:D,resetPagination:function(){M()}}});var G=function(e){var n=A(e);r&&g.push(n),O(e),!r&&u&&u()},F=function(e){e&&e.field&&e.sort?(T({item:t.find(function(n){return n.field===e.field}).sortName||e.field||e.item||a.item,order:e.sort||e.order||a.order}),u&&u()):(T({item:a.item,order:a.order}),u&&u())};return(0,v.jsxs)(I,{containerHeight:h,children:[(0,v.jsx)(Z,w({hideFooter:!0,disableColumnMenu:!0,disableSelectionOnClick:!0,autoHeight:b,sortingMode:"server",onSortModelChange:function(e){return F(e[0])},columns:t,pageSize:S,slots:{columnSortedAscendingIcon:function(){return(0,v.jsx)(p.Z,{})},columnSortedDescendingIcon:function(){return(0,v.jsx)(f.Z,{})},columnUnsortedIcon:function(){return(0,v.jsxs)(s.Z,{alignItems:"center",sx:{width:"33px"},children:[(0,v.jsx)(p.Z,{sx:{marginBottom:"-15px"}}),(0,v.jsx)(f.Z,{})]})},noResultsOverlay:function(){return(0,v.jsx)(s.Z,{height:"100%",alignItems:"center",justifyContent:"center",spacing:1,p:1,children:(0,v.jsx)(c.Z,{children:y})})},noRowsOverlay:function(){return(0,v.jsx)(s.Z,{height:"100%",alignItems:"center",justifyContent:"center",spacing:1,p:1,children:(0,v.jsx)(c.Z,{children:y})})}}},e)),l&&Math.ceil(l.aggregate.totalCount/S)>1&&(0,v.jsx)(j,{currentPage:P,totalCount:l.aggregate.totalCount,pageSize:S,onPageChange:G})]})});P.defaultProps={columns:[],history:!1,loading:!1,rows:[],noResultsMessage:"There are no results.",autoHeight:!0};var I=(0,l.ZP)(u.Z)(function(e){return{height:e.containerHeight,display:"flex",flexDirection:"column"}}),Z=(0,l.ZP)(a.s)(function(e){var n,t=e.theme,i=e.hideHeader,o=(e.rows,e.loading,e.rowHeight),a=e.isPdf;return n={"--DataGrid-overlayHeight":"40px"},(0,r.Z)(n,"&.MuiDataGrid-root",w({color:t.palette.black.main,border:"none"},a&&{"@media print":{display:"block"}})),(0,r.Z)(n,"& .MuiDataGrid-main",w({},a&&{"@media print":{overflow:"visible !important"}})),(0,r.Z)(n,"& .MuiDataGrid-columnHeaders",w(w({},i&&{display:"none"}),{},{"& .MuiDataGrid-iconButtonContainer":{visibility:"visible","& .MuiButtonBase-root.MuiIconButton-root":{backgroundColor:"inherit",color:t.palette.black.main,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}}}})),(0,r.Z)(n,"& .MuiDataGrid-virtualScroller",w(w({},i&&{marginTop:"0 !important"}),a&&{"@media print":{overflow:"visible !important"}})),(0,r.Z)(n,"& .MuiDataGrid-iconSeparator",{opacity:0}),(0,r.Z)(n,"& .MuiDataGrid-columnHeaderTitle",{fontWeight:700}),(0,r.Z)(n,"& .MuiButtonBase-root.MuiDataGrid-columnHeaderTitle",{fontWeight:700}),(0,r.Z)(n,"& .MuiDataGrid-virtualScrollerContent",w({},a&&{height:"initial !important",minHeight:"initial !important"})),(0,r.Z)(n,"& .MuiDataGrid-virtualScrollerRenderZone",w({},a&&{position:"relative"})),(0,r.Z)(n,"& .MuiDataGrid-overlayWrapper",(0,r.Z)({},"& .MuiCircularProgress-root",{color:t.palette.secondary.main})),(0,r.Z)(n,"& .MuiDataGrid-row",w({},a&&{minHeight:"".concat(o,"cm !important"),maxHeight:"".concat(o,"cm !important")})),(0,r.Z)(n,"& .MuiDataGrid-row > .MuiDataGrid-cell",w({},a&&{minHeight:"".concat(o,"cm !important"),maxHeight:"".concat(o,"cm !important")})),(0,r.Z)(n,"& .MuiDataGrid-row.even",{backgroundColor:t.palette.muiLightGray.main,"&:hover, &.Mui-hovered":{backgroundColor:(0,d.Fq)(t.palette.muiLightGray.main,.3),"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:(0,d.Fq)(t.palette.muiLightGray.main,.3+t.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:(0,d.Fq)(t.palette.muiLightGray.main,.3+t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,d.Fq)(t.palette.muiLightGray.main,.3+t.palette.action.selectedOpacity)}}}}),n})},3896:function(e,n,t){"use strict";t.d(n,{X:function(){return f}});var r,i,o=t(71383),a=t(16835),s=t(59499),c=t(67294),l=t(6812),u=t(50319),d=t(75063),p=t(55863);function f(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage",r=(0,p.q)().user,i=(0,c.useState)(function(){try{switch(t){case"network":return n;case"sessionStorage":return JSON.parse(window.sessionStorage.getItem(e))||n}}catch(r){return n}}),o=i[0],d=i[1],f=function(n){try{var i=n instanceof Function?n(o):n;switch(d(i),t){case"network":b({variables:{accountUserId:null==r?void 0:r.accountUserId,filters:(0,s.Z)({},e,i)}});break;case"sessionStorage":window.sessionStorage.setItem(e,JSON.stringify(i))}}catch(a){}};(0,l.a)(m,{variables:{accountUserId:null==r?void 0:r.accountUserId},skip:"network"!==t,onCompleted:function(t){var r=t.accountUser;r&&d(r.filters[e]||n)}});var y=(0,u.D)(h),b=(0,a.Z)(y,1)[0];return[o,f]}var m=(0,d.Ps)(r||(r=(0,o.Z)(["\n  query GetAccountUserFilters($accountUserId: Int!) {\n    accountUser: Account_User_by_pk(id: $accountUserId) {\n      filters\n    }\n  }\n"]))),h=(0,d.Ps)(i||(i=(0,o.Z)(["\n  mutation SetAccountUserFilters($accountUserId: Int!, $filters: jsonb) {\n    update_Account_User_by_pk(pk_columns: { id: $accountUserId }, _append: { filters: $filters }) {\n      id\n    }\n  }\n"])))},89667:function(e,n,t){"use strict";t.r(n);var r=t(11163),i=t.n(r),o=t(38033),a=t(51778),s=t(72936),c=t(55863),l=t(85893),u=function(){var e,n,t=(0,c.q)(),r=(0,s.x)(),o=r.user,u=r.hasRole,d=null==t?void 0:null===(e=t.admin)||void 0===e?void 0:null===(n=e.modules)||void 0===n?void 0:n.assets;return o?d?(0,l.jsx)(a.E,{editable:u("admin"),initialFilters:{filterType:"assets_page"}}):(i().push("/404"),null):(i().push("/account/sign-in"),null)};u.getLayout=function(e){return(0,l.jsx)(o.Z,{children:e})},n.default=u},38910:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/assets",function(){return t(89667)}])}},function(e){e.O(0,[3662,2283,212,8890,619,1100,1336,4135,5020,6043,1564,4244,5370,3911,3776,6540,2329,778,1023,4253,3148,2797,653,8062,1207,7328,4061,2747,736,8033,9229,5248,9774,2888,179],function(){return e(e.s=38910)}),_N_E=e.O()}]);