(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1554],{57976:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var i=r(n(64938)),o=n(85893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")},91988:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle")},14218:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"AddCircleOutline")},95429:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"m20.54 5.23-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27M12 17.5 6.5 12H10v-2h4v2h3.5zM5.12 5l.81-1h12l.94 1z"}),"Archive")},70983:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},46761:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},91682:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5z"}),"DescriptionOutlined")},39702:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},51797:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},36804:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined")},53630:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn")},59301:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz")},88127:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt")},50748:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"m20.55 5.22-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28M12 9.5l5.5 5.5H14v2h-4v-2H6.5zM5.12 5l.82-1h12l.93 1z"}),"Unarchive")},23132:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile")},52186:function(e,t,n){"use strict";var r=n(82066),i=n(85893);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},26143:function(e,t,n){"use strict";n.d(t,{C:function(){return M}});var r=n(67294),i=n(93946),o=n(25464),a=n(18972),c=n(57976),s=n(14218),u=n(95429),l=n(91988),d=n(70983),p=n(46761),h=n(91682),f=n(39702),v=n(36804),g=n(51797),m=n(53630),b=n(50748),x=n(23132),j=n(88127),y=n(52186),Z=n(59301),O=n(26447),P=n(15861),S=n(85893),w={add:(0,S.jsx)(s.Z,{}),archive:(0,S.jsx)(u.Z,{}),avatar:(0,S.jsx)(l.Z,{}),check:(0,S.jsx)(d.Z,{}),delete:(0,S.jsx)(p.Z,{}),description:(0,S.jsx)(h.Z,{}),download:(0,S.jsx)(f.Z,{}),info:(0,S.jsx)(v.Z,{}),edit:(0,S.jsx)(g.Z,{}),location:(0,S.jsx)(m.Z,{}),unarchive:(0,S.jsx)(b.Z,{}),uploadFile:(0,S.jsx)(x.Z,{}),receipt:(0,S.jsx)(j.Z,{}),visibility:(0,S.jsx)(y.Z,{})},C={default:(0,S.jsx)(c.Z,{}),defaultHoriz:(0,S.jsx)(Z.Z,{}),description:(0,S.jsx)(h.Z,{})},M=function(e){var t=e.actionsData,n=e.icon,c=e.row,s=e.disabled,u=(0,r.useState)(null),l=u[0],d=u[1],p=function(e){e.stopPropagation(),d(e.currentTarget)},h=function(){d(null)};return(0,S.jsxs)("div",{children:[(0,S.jsx)(i.Z,{sx:{":hover":{backgroundColor:"#DDDDDD"}},disabled:s,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:p,children:C[n]}),(0,S.jsx)(o.Z,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:h,PaperProps:{sx:{borderRadius:2}},children:t(c).map(function(e,t){return(0,S.jsx)(a.Z,{disabled:e.disabled,onClick:function(t){e.onClick(t),h()},sx:{pl:3,pr:4},children:(0,S.jsxs)(O.Z,{direction:"row",alignItems:"center",spacing:2,children:[(null==w?void 0:w[e.icon])||null,(0,S.jsx)(P.Z,{children:e.tooltip})]})},t)})})]})};M.defaultProps={actionsData:function(){return[{disabled:!1,onClick:function(){},icon:"edit",tooltip:"Edit"}]},icon:"default",disabled:!1}},6911:function(e,t,n){"use strict";n.d(t,{q:function(){return f}});var r=n(59499),i=n(4730),o=n(23776),a=n(87918),c=n(50135),s=n(98456),u=n(67294),l=n(85893),d=["loading","setSearch","textFieldProps"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=function(e){var t=e.loading,n=e.setSearch,r=e.textFieldProps,p=(0,i.Z)(e,d),f=(0,u.useState)(""),v=f[0],g=f[1];return(0,u.useEffect)(function(){var e=setTimeout(function(){n(v)},500);return function(){return clearTimeout(e)}},[v,n]),(0,l.jsx)(o.Z,h(h({},p),{},{loading:t,onInputChange:function(e,t){g(t)},getOptionLabel:function(e){return e.label},renderTags:function(e,t){return e.map(function(e,n){return(0,l.jsx)(a.Z,h({size:"small",label:e.label},t({index:n})))})},renderInput:function(e){return(0,l.jsx)(c.Z,h(h(h({},e),r),{},{InputProps:h(h(h({},e.InputProps),r.InputProps||{}),{},{endAdornment:(0,l.jsxs)(l.Fragment,{children:[t?(0,l.jsx)(s.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}}))};f.defaultProps={color:"secondary",onChange:function(){},options:[],onOpen:function(){},setSearch:function(){},textFieldProps:{}}},35137:function(e,t,n){"use strict";n.d(t,{C:function(){return h}});var r=n(59499);n(67294);var i=n(90948),o=n(61730),a=n(26447),c=n(15861),s=n(11057),u=n(85893);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=(0,i.ZP)("img")({width:"300px",height:"250px"}),h=function(e){var t=e.imageSrc,n=e.sx,r=e.imageSx,i=e.title,l=e.titleSx,h=e.subtitleFirstLine,f=e.subtitleFirstLineSx,v=e.subtitleSecondLine,g=e.subtitleSecondLineSx,m=e.buttonText,b=e.onAction,x=(0,o.Z)("(max-width: 400px)");return(0,u.jsxs)(a.Z,{sx:d(d({},n),{},{width:"100%",height:"100%"}),justifyContent:"center",alignItems:"center",spacing:2,color:"#757575",children:[(0,u.jsx)(p,{src:t,sx:d(d({},r),{},{width:x?"250px":"300px"})}),(0,u.jsx)(c.Z,{typography:"h5",sx:d({},l),children:i}),(0,u.jsxs)(a.Z,{alignItems:"center",sx:{padding:"0px 10px",textAlign:"center"},children:[(0,u.jsx)(c.Z,{sx:d({},f),children:h}),(0,u.jsx)(c.Z,{sx:d({},g),children:v})]}),m&&b&&(0,u.jsx)(s.Z,{variant:"contained",color:"secondary",onClick:b,children:m})]})};h.defaultProps={title:"",subtitleFirstLine:"",subtitleSecondLine:"",sx:{},imageSx:{},titleSx:{},subtitleFirstLineSx:{},subtitleSecondLineSx:{},onAction:null}},32836:function(e,t,n){"use strict";n.d(t,{i:function(){return S}});var r=n(59499),i=n(67294),o=n(11163),a=n(83148),c=n(26447),s=n(15861),u=n(90948),l=n(5616),d=n(41796),p=n(87361),h=n(42096),f=n(87043),v=n(61730),g=n(58886),m=n(70872),b=n(85893);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=function(e){var t=e.currentPage,n=e.totalCount,r=e.pageSize,i=e.onPageChange,o=(0,v.Z)("(max-width:400px)"),a=(0,v.Z)("(max-width:500px)");return(0,b.jsx)(Z,{mb:2,page:t,count:Math.ceil(n/r),onChange:function(e,t){return i(t)},variant:"outlined",shape:"rounded",size:o?"small":"medium",hidePrevButton:1===t,hideNextButton:t===Math.ceil(n/r),siblingCount:a?0:1,renderItem:function(e){return(0,b.jsx)(g.Z,j({slots:{previous:function(){return"Previous"},next:function(){return"Next"}}},e))}})};y.defaultProps={currentPage:1,totalCount:0,pageSize:50,onPageChange:function(){}};var Z=(0,u.ZP)(m.Z)(function(e){var t,n=e.hidePrevButton,i=e.hideNextButton,o=e.theme;return t={},(0,r.Z)(t,"&.MuiPagination-root",{alignSelf:"center",marginTop:"16px"}),(0,r.Z)(t,"& .MuiPaginationItem-root",{fontWeight:600,margin:0,borderRadius:0}),(0,r.Z)(t,"& .MuiPagination-ul > li:last-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"0 5px 5px 0"}),(0,r.Z)(t,"& .MuiPagination-ul > li:first-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"5px 0 0 5px"}),(0,r.Z)(t,"& button.Mui-selected",j(j({color:o.palette.white.main,backgroundColor:o.palette.secondary.main},i?{borderRadius:"0 5px 5px 0"}:{}),n?{borderRadius:"5px 0 0 5px"}:{})),t});function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=(0,i.forwardRef)(function(e,t){var n=e.columns,r=e.history,a=e.initialSort,u=e.meta,l=e.refetch,d=e.paginationSize,v=e.containerHeight,g=e.noResultsMessage,m=e.autoHeight,x=(0,o.useRouter)(),j=x.query,Z=void 0===j?{}:j,O=(0,i.useState)(parseInt(null==Z?void 0:Z.page,10)||1),S=O[0],M=O[1],D=(0,i.useState)(d||f.C1.paginationSize),k=D[0],H=D[1];a||(a={item:"createdAt",order:"desc"});var z=(0,i.useState)({item:a.item,order:a.order}),A=z[0],I=z[1],L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=x.query,n=void 0===t?{}:t;if(e>1?n.page=e:delete n.page,!(Object.keys(n).length>0))return{};var r=Object.keys(n).map(function(t){return"page"===t?"".concat(t,"=").concat(e):"".concat(t,"=").concat(n[t])}).join("&");return"?".concat(r)},_=function(){I({item:a.item,order:a.order}),M(1);var e=L();x.push(e),H(d||f.C1.paginationSize)};(0,i.useImperativeHandle)(t,function(){return{currentPage:S,pageSize:k,sort:A,resetPagination:function(){_()}}});var E=function(e){var t=L(e);r&&x.push(t),M(e),!r&&l&&l()},G=function(e){e&&e.field&&e.sort?(I({item:n.find(function(t){return t.field===e.field}).sortName||e.field||e.item||a.item,order:e.sort||e.order||a.order}),l&&l()):(I({item:a.item,order:a.order}),l&&l())};return(0,b.jsxs)(w,{containerHeight:v,children:[(0,b.jsx)(C,P({hideFooter:!0,disableColumnMenu:!0,disableSelectionOnClick:!0,autoHeight:m,sortingMode:"server",onSortModelChange:function(e){return G(e[0])},columns:n,pageSize:k,slots:{columnSortedAscendingIcon:function(){return(0,b.jsx)(p.Z,{})},columnSortedDescendingIcon:function(){return(0,b.jsx)(h.Z,{})},columnUnsortedIcon:function(){return(0,b.jsxs)(c.Z,{alignItems:"center",sx:{width:"33px"},children:[(0,b.jsx)(p.Z,{sx:{marginBottom:"-15px"}}),(0,b.jsx)(h.Z,{})]})},noResultsOverlay:function(){return(0,b.jsx)(c.Z,{height:"100%",alignItems:"center",justifyContent:"center",spacing:1,p:1,children:(0,b.jsx)(s.Z,{children:g})})},noRowsOverlay:function(){return(0,b.jsx)(c.Z,{height:"100%",alignItems:"center",justifyContent:"center",spacing:1,p:1,children:(0,b.jsx)(s.Z,{children:g})})}}},e)),u&&Math.ceil(u.aggregate.totalCount/k)>1&&(0,b.jsx)(y,{currentPage:S,totalCount:u.aggregate.totalCount,pageSize:k,onPageChange:E})]})});S.defaultProps={columns:[],history:!1,loading:!1,rows:[],noResultsMessage:"There are no results.",autoHeight:!0};var w=(0,u.ZP)(l.Z)(function(e){return{height:e.containerHeight,display:"flex",flexDirection:"column"}}),C=(0,u.ZP)(a.s)(function(e){var t,n=e.theme,i=e.hideHeader,o=(e.rows,e.loading,e.rowHeight),a=e.isPdf;return t={"--DataGrid-overlayHeight":"40px"},(0,r.Z)(t,"&.MuiDataGrid-root",P({color:n.palette.black.main,border:"none"},a&&{"@media print":{display:"block"}})),(0,r.Z)(t,"& .MuiDataGrid-main",P({},a&&{"@media print":{overflow:"visible !important"}})),(0,r.Z)(t,"& .MuiDataGrid-columnHeaders",P(P({},i&&{display:"none"}),{},{"& .MuiDataGrid-iconButtonContainer":{visibility:"visible","& .MuiButtonBase-root.MuiIconButton-root":{backgroundColor:"inherit",color:n.palette.black.main,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}}}})),(0,r.Z)(t,"& .MuiDataGrid-virtualScroller",P(P({},i&&{marginTop:"0 !important"}),a&&{"@media print":{overflow:"visible !important"}})),(0,r.Z)(t,"& .MuiDataGrid-iconSeparator",{opacity:0}),(0,r.Z)(t,"& .MuiDataGrid-columnHeaderTitle",{fontWeight:700}),(0,r.Z)(t,"& .MuiButtonBase-root.MuiDataGrid-columnHeaderTitle",{fontWeight:700}),(0,r.Z)(t,"& .MuiDataGrid-virtualScrollerContent",P({},a&&{height:"initial !important",minHeight:"initial !important"})),(0,r.Z)(t,"& .MuiDataGrid-virtualScrollerRenderZone",P({},a&&{position:"relative"})),(0,r.Z)(t,"& .MuiDataGrid-overlayWrapper",(0,r.Z)({},"& .MuiCircularProgress-root",{color:n.palette.secondary.main})),(0,r.Z)(t,"& .MuiDataGrid-row",P({},a&&{minHeight:"".concat(o,"cm !important"),maxHeight:"".concat(o,"cm !important")})),(0,r.Z)(t,"& .MuiDataGrid-row > .MuiDataGrid-cell",P({},a&&{minHeight:"".concat(o,"cm !important"),maxHeight:"".concat(o,"cm !important")})),(0,r.Z)(t,"& .MuiDataGrid-row.even",{backgroundColor:n.palette.muiLightGray.main,"&:hover, &.Mui-hovered":{backgroundColor:(0,d.Fq)(n.palette.muiLightGray.main,.3),"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:(0,d.Fq)(n.palette.muiLightGray.main,.3+n.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:(0,d.Fq)(n.palette.muiLightGray.main,.3+n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,d.Fq)(n.palette.muiLightGray.main,.3+n.palette.action.selectedOpacity)}}}}),t})},42846:function(e,t,n){"use strict";n.d(t,{x:function(){return l}});var r=n(59499),i=n(67294),o=n(96486),a=n(87043),c=function(e){try{return JSON.parse(e)}catch(t){return!1}};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=function(e){var t,n,s,l,d,p,h,f,v,g,m,b=e.filters,x=e.newFilters,j=e.initialSort,y=(0,i.useRef)(),Z=(0,i.useState)({}),O=Z[0],P=Z[1],S=(0,i.useState)({}),w=S[0],C=S[1],M=j||{item:"createdAt",order:"desc"},D=(0,r.Z)({},(null===(t=y.current)||void 0===t?void 0:t.sort.item)||M.item,M.inneritem?(0,r.Z)({},M.inneritem,(null===(n=y.current)||void 0===n?void 0:n.sort.order)||M.order):(null===(s=y.current)||void 0===s?void 0:s.sort.order)||M.order);return(0,i.useEffect)(function(){var e=!(0,o.isEqual)(O,b),t=!(0,o.isEqual)(w,x);if(e&&(P(b),null==y||null===(r=y.current)||void 0===r||r.resetPagination()),t&&(C(x),null==y||null===(i=y.current)||void 0===i||i.resetPagination()),null!=y&&null!==(n=y.current)&&void 0!==n&&n.setSort&&!(e||t)){var n,r,i,a,c,s,u,l,d,p,h,f=null!==(a=y.current)&&void 0!==a&&null!==(c=a.sort)&&void 0!==c&&c.item&&null!==(s=y.current)&&void 0!==s&&null!==(u=s.sort)&&void 0!==u&&u.order?{item:null===(l=y.current)||void 0===l?void 0:null===(d=l.sort)||void 0===d?void 0:d.item,order:null===(p=y.current)||void 0===p?void 0:null===(h=p.sort)||void 0===h?void 0:h.order}:D;y.current.setSort(f)}},[b,x]),{initialData:u(u({},b),{},{newFilters:(null==x?void 0:x.length)>0?x:void 0,limit:(null===(l=y.current)||void 0===l?void 0:l.pageSize)==="Infinity"?null:parseInt(null===(d=y.current)||void 0===d?void 0:d.pageSize,10)||a.C1.paginationSize,offset:((null===(p=y.current)||void 0===p?void 0:p.currentPage)-1||0)*((null===(h=y.current)||void 0===h?void 0:h.pageSize)||a.C1.paginationSize),orderBy:c(null===(f=y.current)||void 0===f?void 0:null===(v=f.sort)||void 0===v?void 0:null===(g=v.item)||void 0===g?void 0:g.replace(/ORDER/i,null===(m=y.current)||void 0===m?void 0:m.sort.order))||D}),initialSort:j,ref:y}}},66096:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var r,i,o,a,c=n(11163),s=n.n(c),u=n(38033),l=n(72936),d=n(59499),p=n(16835),h=n(67294),f=n(50319),v=n(6812),g=n(42283),m=n(42474),b=n.n(m),x=n(26447),j=n(11057),y=n(90629),Z=n(15861),O=n(32836),P=n(35137),S=n(50135),w=n(6911),C=n(85893),M=function(e){var t=e.onSubmit,n=e.defaultValues,r=(0,g.cI)({defaultValues:n}),i=r.register,o=r.handleSubmit,a=r.control;return(0,C.jsx)("form",{onSubmit:o(t),children:(0,C.jsxs)(x.Z,{spacing:2,children:[(0,C.jsx)(S.Z,{color:"secondary",variant:"standard",inputRef:i,name:"name",placeholder:"Enter name..."}),(0,C.jsx)(g.Qr,{name:"status",control:a,render:function(e){var t=e.value,n=e.onChange;return(0,C.jsx)(w.q,{value:t,disableClearable:!0,textFieldProps:{color:"secondary",variant:"standard",label:"Select status"},onChange:function(e,t){return n(t)},options:[{label:"Active",value:!0},{label:"Inactive",value:!1}]})}}),(0,C.jsx)(j.Z,{color:"secondary",variant:"contained",type:"submit",width:"30%",children:"Submit"})]})})},D=n(26143),k=n(42846),H=n(58095),z=n(71383),A=n(75063),I=(0,A.Ps)(r||(r=(0,z.Z)(["\n  query GetAllApiKeys($active: Boolean!) {\n    apiKeys: Api_Keys(where: { active: { _eq: $active } }) {\n      id\n      name\n      adminId\n      apiKey\n      active\n    }\n  }\n"]))),L=(0,A.Ps)(i||(i=(0,z.Z)(["\n  mutation createApiKey($objects: [Api_Keys_insert_input!]!) {\n    insert_Api_Keys(objects: $objects) {\n      returning {\n        id\n      }\n    }\n  }\n"]))),_=(0,A.Ps)(o||(o=(0,z.Z)(["\n  mutation UpdateApiKey($id: Int!, $changes: Api_Keys_set_input) {\n    update_Api_Keys_by_pk(pk_columns: { id: $id }, _set: $changes) {\n      id\n    }\n  }\n"]))),E=(0,A.Ps)(a||(a=(0,z.Z)(["\n  mutation DeleteApiKeys($id: Int!) {\n    delete_Api_Keys_by_pk(id: $id) {\n      id\n    }\n  }\n"])));function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var K=function(){var e,t=(0,h.useRef)(),n=(0,l.x)().user,r=(0,H.a)(),i=(0,g.cI)({defaultValues:{status:{label:"Active",value:!0}}}),o=i.control,a=i.watch,c=(0,h.useState)({active:!0}),s=c[0],u=c[1],m=(0,k.x)({filters:s}).initialData,S=a("status"),z=(0,f.D)(L,{refetchQueries:["GetAllApiKeys"]}),A=(0,p.Z)(z,1)[0],K=(0,f.D)(E,{refetchQueries:["GetAllApiKeys"]}),F=(0,p.Z)(K,1)[0],V=(0,f.D)(_,{refetchQueries:["GetAllApiKeys"]}),R=(0,p.Z)(V,1)[0],N=(0,v.a)(I,{variables:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach(function(t){(0,d.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},m)}),B=N.data,q=(B=void 0===B?{apiKeys:[],meta:{aggregate:{totalCount:0}}}:B).apiKeys,T=B.meta,$=N.loading,W=N.refetch;(0,h.useEffect)(function(){u({active:null==S?void 0:S.value})},[null==S?void 0:S.value]);var Q=function(e,t){e.stopPropagation(),F({variables:{id:t}})},U=function(e){var t={id:Math.round(1e3*Math.random()),name:e.name,adminId:n.adminId,apiKey:b().randomBytes(20).toString("hex"),active:e.status.value};A({variables:{objects:[t]}}),r.close()},X=function(e){e.stopPropagation(),r.show({content:(0,C.jsx)(M,{onSubmit:U}),title:"Add api key",submit:!1})},J=function(e,t){e.stopPropagation();var n,i={name:t.name,status:{label:null!=t&&t.status?"Active":"Inactive",value:"Active"===t.status}};r.show({content:(0,C.jsx)(M,{onSubmit:(n=t.id,function(e){R({variables:{id:n,changes:{name:e.name,active:e.status.value}}}),r.close()}),defaultValues:i}),title:"Edit api key"})},Y=function(e){return[{context:"secondary",icon:"edit",onClick:function(t){return J(t,e)},tooltip:"Edit"},{context:"secondary",icon:"delete",onClick:function(t){return Q(t,e.id)},tooltip:"Delete"}]},ee=function(){return q.map(function(e){return{id:e.id,name:e.name,apiKey:e.apiKey,status:e.active?"Active":"Inactive"}})};return(0,C.jsxs)(x.Z,{width:"100%",spacing:2,sx:{height:"100%"},children:[(0,C.jsxs)(x.Z,{width:"100%",direction:"row",justifyContent:"space-between",children:[(0,C.jsx)(g.Qr,{name:"status",control:o,render:function(e){var t=e.value,n=e.onChange;return(0,C.jsx)(w.q,{value:t,disableClearable:!0,textFieldProps:{color:"secondary",variant:"standard",label:"Select status"},sx:{width:"200px"},onChange:function(e,t){return n(t)},options:[{label:"Active",value:!0},{label:"Inactive",value:!1}]})}}),(0,C.jsx)(j.Z,{variant:"contained",color:"secondary",onClick:X,children:"Create API Key"})]}),(0,C.jsxs)(y.Z,{sx:{padding:"16px 0px",height:"calc(90vh - 52px)"},children:[(0,C.jsx)(Z.Z,{ml:2,variant:"h5",sx:{fontWeight:600,marginBottom:"15px"},children:"API keys"}),null!==(e=ee())&&void 0!==e&&e.length?(0,C.jsx)(O.i,{ref:t,loading:$,columns:[{headerName:"Name",field:"name",flex:1},{headerName:"API Key",field:"apiKey",flex:1,minWidth:200},{headerName:"Status",field:"status",flex:1},{headerName:"Actions",field:"actions",flex:1,renderCell:function(e){var t=e.row;return(0,C.jsx)(D.C,{row:t,actionsData:Y})}}],rows:ee(),meta:T,refetch:W,autoHeight:!1,containerHeight:"calc(100% - 52px)"}):!$&&(0,C.jsx)(P.C,{imageSrc:"/static/icons/no_locations_found.svg",title:"No api keys",subtitleFirstLine:"You currently have no api keys set up in the system",subtitleSecondLine:"Click\xa0create api keys to get started building.",buttonText:"Create api key",onAction:X})]})]})};K.defaultProps={};var F=function(){return(0,l.x)().user?(0,C.jsx)(K,{}):(s().push("/account/sign-in"),null)};F.getLayout=function(e){return(0,C.jsx)(u.Z,{children:e})};var V=F},43969:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/api",function(){return n(66096)}])}},function(e){e.O(0,[3662,2283,212,8890,1100,4135,5020,6043,4244,3776,2329,778,1023,4253,3148,6344,8033,9774,2888,179],function(){return e(e.s=43969)}),_N_E=e.O()}]);