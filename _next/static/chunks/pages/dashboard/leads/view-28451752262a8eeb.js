(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1762],{86036:function(e,t,n){"use strict";var r=n(67294),a=n(45697),o=n(55843),i=n(51466),c=function(e){var t=e.content,n=e.text;return r.createElement(r.Fragment,null,r.createElement(o.Z,{marginBottom:"sm"}),r.createElement(i.Z,{content:t,context:"dark",size:"sm"}),r.createElement(i.Z,null,n))};c.propTypes={content:a.string.isRequired,text:(0,a.oneOfType)([a.node,a.string]).isRequired},t.Z=c},19076:function(e,t,n){"use strict";var r=n(21614),a=n(67294),o=n(45697),i=n(15214),c=n(76312),l=n(17813),s=n(18645),d=n(55843),u=n(28368);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=function(e){var t=e.children,n=e.meta,r=e.pageHeading,o=e.resultAlert,u=e.View,p=o.context,f=o.message,g=m(m({},{description:"Admin",path:"/",title:"Admin"}),n);return a.createElement(a.Suspense,{fallback:a.createElement(s.Z,{indicator:a.createElement(c.Z,null)})},a.createElement(l.Z,{fluid:!0,meta:g,pageHeading:r},u||t,f&&a.createElement(a.Fragment,null,a.createElement(d.Z,null),a.createElement(i.Z,{content:f,context:p}))))};f.displayName="Dashboard",f.propTypes={children:o.node,meta:(0,o.shape)({description:o.string,path:o.string,title:o.string}),pageHeading:(0,o.shape)({center:o.bool,context:(0,o.oneOf)(Object.values(u.Z)),divider:o.bool,heading:o.any.isRequired,help:o.bool,helpContent:o.any,strapline:o.string}),resultAlert:(0,o.shape)({context:o.string,message:o.string}),View:o.node},f.defaultProps={resultAlert:{context:"success",message:""}},t.Z=f},17813:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r,a=n(51174),o=n(67294),i=n(45697),c=n(10367),l=n(94303),s=n(74147),d=n(9008),u=n.n(d),p=function(e){var t=e.canonical,n=e.brand,r=e.meta,a=r.description,i=r.path,c=r.title;return o.createElement(u(),null,o.createElement("title",null,c," | ",n),o.createElement("meta",{name:"description",content:a,key:"description"}),o.createElement("meta",{rel:"canonical",href:t+i,key:"canonical"}),o.createElement("meta",{property:"og:title",content:c}),o.createElement("meta",{property:"og:description",content:a}),o.createElement("meta",{property:"og:url",content:t+i}),o.createElement("meta",{name:"twitter:url",content:t+i}),o.createElement("meta",{name:"twitter:title",content:c}),o.createElement("meta",{name:"twitter:description",content:a}))};p.displayName="MetaHead",p.propTypes={brand:i.string.isRequired,meta:i.object.isRequired};var m=n(35599),f=n(55843),g=n(28368),y=n(66349),b=function(e){var t=e.children,n=e.fluid,r=e.meta,a=e.padding,i=e.pageHeading,c=(0,o.useContext)(l.Z).config,d=c.Brand,u=c.Canonical;return o.createElement(h,null,a&&o.createElement(f.Z,{paddingTop:a}),r&&o.createElement(p,{canonical:u,brand:d.name,meta:r}),o.createElement(s.Z,{fluid:n},i&&o.createElement(m.Z,i),t),a&&o.createElement(f.Z,{paddingBottom:a}))};b.displayName="Page";var h=c.ZP.div(r||(r=(0,a.Z)(["\n  background-color: ",";\n"])),function(e){return e.theme.PAGE.backGroundColour});b.propTypes={children:i.node.isRequired,fluid:i.bool,meta:(0,i.shape)({description:i.string.isRequired,path:i.string,title:i.string.isRequired}),padding:(0,i.oneOfType)([i.bool,(0,i.oneOf)(Object.values(y.Z))]),pageHeading:(0,i.shape)({center:i.bool,context:(0,i.oneOf)(Object.values(g.Z)),divider:i.bool,heading:i.any.isRequired,help:i.bool,helpContent:i.any,strapline:i.string})},b.defaultProps={fluid:!1,padding:"md"};var Z=b},35599:function(e,t,n){"use strict";var r,a,o,i,c,l=n(51174),s=n(67294),d=n(45697),u=n(10367),p=n(55377),m=n(33006),f=n(28368),g=function(e){var t=e.center,n=e.children,r=e.context,a=e.divider,o=e.heading,i=e.help,c=e.helpContent,l=e.strapline;return s.createElement(y,{center:t,divider:a},s.createElement(b,null,s.createElement(Z,{content:o,context:r,pageHeading:!0}),l&&s.createElement("div",null,l)),(n||i)&&s.createElement(h,null,n||c),a&&s.createElement(v,{size:"md"}))};g.displayName="PageHeading";var y=u.ZP.header(r||(r=(0,l.Z)(["\n  align-items: center;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n  margin-bottom: ",";\n  text-align: ",";\n"])),function(e){return!e.divider&&"2rem"},function(e){return e.center&&"center"}),b=u.ZP.span(a||(a=(0,l.Z)(["\n  flex: 1;\n"]))),h=u.ZP.span(o||(o=(0,l.Z)(["\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n"]))),Z=(0,u.ZP)(m.Z)(i||(i=(0,l.Z)(["\n  margin-bottom: ",";\n"])),function(e){return e.divider?"0.5rem":"0"}),v=(0,u.ZP)(p.Z)(c||(c=(0,l.Z)(["\n  width: 100%;\n"])));g.propTypes={center:d.bool,children:d.element,context:(0,d.oneOf)(Object.values(f.Z)),divider:d.bool,heading:d.any.isRequired,help:d.bool,helpContent:d.any,strapline:d.string},g.defaultProps={center:!1,context:"primary",divider:!0,help:!1,helpContent:"",strapline:""},t.Z=g},26186:function(e,t,n){"use strict";var r=n(34613),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(e),a=n.getFullYear(),o=""+(n.getMonth()+1),i=""+n.getDate();o.length<2&&(o="0"+o),i.length<2&&(i="0"+i);var c=[a,o,i].join("-");return t?c+" "+(0,r.Z)(e):c};t.Z=a},34613:function(e,t){"use strict";var n=function(e){var t=new Date(e),n=""+t.getHours(),r=""+t.getMinutes();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),"".concat(n,":").concat(r)};t.Z=n},98185:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r=[{disabled:!0,text:"Lead category",value:""},{text:"Contractor",value:"contractor"},{text:"Contact",value:"contact"}]},58649:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r,a,o,i,c,l,s=n(19076),d=n(75436),u=n(71383),p=(0,n(75063).Ps)(r||(r=(0,u.Z)(["\n  subscription GetLead($id: Int!) {\n    lead: Lead_by_pk(id: $id) {\n      id\n      type\n      meta\n      createdAt\n      updatedAt\n    }\n  }\n"]))),m=n(11163),f=n(9270),g=n(62140),y=n(58965),b=n(86036),h=n(26186),Z=n(34613),v=n(98185),x=n(85893),E=function(e){var t=e.lead,n=(v.L.find(function(e){return e.value===t.type})||{text:""}).text;return(0,x.jsxs)(y.Z,{open:!0,title:"Details",children:[(0,x.jsx)(b.Z,{content:"Type",text:n}),(0,x.jsx)(b.Z,{content:"Date created",text:"".concat((0,h.Z)(t.createdAt)," - ").concat((0,Z.Z)(t.createdAt))})]})},j=n(86831),O=n(10367),w=n(51174),P=n(18391),k=n(66080),A=n(67294),C=n(77439),_=n(45697),S=n(28368),T={children:_.node.isRequired,context:(0,_.oneOf)(Object.values(S.Z)),dataSet:_.object,open:_.bool,summary:_.string.isRequired,SummaryActionsComponent:_.node,style:_.any,Toolbar:_.func},R=["children","context","dataSet","open","summary","SummaryActionsComponent","style","Toolbar"],q=function(e){var t=e.children,n=e.context,r=e.dataSet,a=e.open,o=e.summary,i=e.SummaryActionsComponent,c=e.style,l=e.Toolbar,s=(0,k.Z)(e,R);return A.createElement(N,(0,P.Z)({context:n,open:a},r),A.createElement(H,null,o,s.button&&A.createElement(L,{content:s.button||"Add New",context:"secondary",onClick:s.handleClick,size:"sm"}),i&&A.createElement(D,null,i),l&&A.createElement(l,null)),A.createElement(z,{style:c},t))};q.displayName="Details";var D=O.ZP.div(a||(a=(0,w.Z)(["\n  float: right;\n  width: fit-content;\n"]))),N=O.ZP.details(o||(o=(0,w.Z)(["\n  background-color: #fff;\n  border: 1px solid #eee;\n  border-bottom: 1px solid ",";\n  box-shadow: rgba(45, 62, 80, 0.12) 0 1px 5px 0;\n  margin-bottom: 0.5rem;\n"])),function(e){var t=e.context;return e.theme.COLOUR[t]}),H=O.ZP.summary(i||(i=(0,w.Z)(["\n  cursor: pointer;\n  font-weight: bold;\n  outline: none;\n  padding: 1rem;\n  position: relative;\n"]))),L=(0,O.ZP)(C.Z)(c||(c=(0,w.Z)(["\n  float: right;\n"]))),z=O.ZP.div(l||(l=(0,w.Z)(["\n  font-size: 1rem;\n  padding: 0 1rem 1rem;\n"])));q.propTypes=T,q.defaultProps={context:"primary",dataSet:{"data-cy":"details"},open:!1};var $=function(e){return e.split(/(?=[A-Z])/).join(" ")},B=function(e){var t=e.lead.meta;return Object.keys(t).map(function(e){return(0,x.jsx)(F,{open:!0,summary:$(e),children:Object.keys(t[e]).map(function(n){var r;return(0,x.jsx)(b.Z,{content:$(n),text:(r=t[e][n])==={}||r===[]?"-":"string"==typeof r&&/^(https?):\/\/[^\s$.?#].[^\s]*$/.test(r)?(0,x.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:r}):"object"!==(0,j.Z)(r)||Array.isArray(r)?Array.isArray(r)?r.join(", "):r||"-":Object.keys(r).map(function(e){return"".concat(e,": ").concat(r[e]||"-")}).join(", ")},"".concat(e,"-").concat(n))})},e)})},F=(0,O.ZP)(q).withConfig({displayName:"meta__StyledDetails",componentId:"sc-1ov1bu6-0"})(["summary,div + p{text-transform:capitalize;}"]),G=function(){var e=(0,m.useRouter)().query,t=(0,d.m)(p,{variables:{id:e.id}}),n=t.loading,r=t.data,a=(r=void 0===r?{lead:null}:r).lead;return!n&&(0,x.jsxs)(f.Z,{children:[(0,x.jsx)(g.Z,{md:3,children:(0,x.jsx)(E,{lead:a})}),(0,x.jsx)(g.Z,{md:9,children:(0,x.jsx)(B,{lead:a})})]})},M=function(){return(0,x.jsx)(s.Z,{pageHeading:{heading:"Lead"},View:(0,x.jsx)(G,{})})}},61925:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/leads/view",function(){return n(58649)}])},86831:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[1336,9774,2888,179],function(){return e(e.s=61925)}),_N_E=e.O()}]);