(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4873],{53344:function(n,e,t){"use strict";t.d(e,{Q:function(){return i}});var i=function(n){var e,t,i=n&&n.length>0&&n.find(function(n){var e;return(null===(e=n.medium)||void 0===e?void 0:e.category)==="avatar"});if(!i)return null;var r="".concat("https://cleverly-media.s3.eu-west-2.amazonaws.com","/").concat(i.medium.filename),o=null==i?void 0:null===(e=i.medium)||void 0===e?void 0:null===(t=e.meta)||void 0===t?void 0:t.thumbnails;if(null!=o&&o.length){var a=o.find(function(n){return"small"===n.name});null!=a&&a.relativePath&&(r="".concat("https://cleverly-media.s3.eu-west-2.amazonaws.com","/").concat(a.relativePath))}return r}},54224:function(n,e,t){"use strict";t.d(e,{z:function(){return I}});var i=t(59499),r=t(50029),o=t(16835),a=t(64687),s=t.n(a),c=t(50319),u=t(7221),l=t(42283),d=t(79665),m=t(76600),p=t(49501),y=t(55563),f=t(6710),x=t(58594),v=t(95103),g=t(72936),b=t(26380),h=t(27940),_=t(74231),j=(0,_.Ry)().shape({name:(0,_.Z_)().required(),status:(0,_.Z_)().oneOf(["active","inactive"]).required(),complianceCategorySelected:(0,_.Ry)().required(),url:(0,_.Z_)().url()}),Z=function(n){var e=n.form,t=n.id,i=n.user;return(e.categoryId=e.complianceCategorySelected.value,delete e.complianceCategorySelected,t)?{id:t,changes:e}:(e.adminId=i.accountId,{objects:[e]})},$=t(85893);function w(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,i)}return t}function C(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?w(Object(t),!0).forEach(function(e){(0,i.Z)(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}var I=function(n){var e,t=n.defaultValues,i=n.onSuccess,a=(0,g.x)().user,_=(0,l.cI)({defaultValues:t,resolver:(0,d.S)(j)}),w=_.control,I=_.errors,q=_.handleSubmit,P=_.register,S=(0,c.D)(u.gO,{onCompleted:function(n){var e=n.insert_Compliance.returning[0].id;i&&i(e)}}),O=(0,o.Z)(S,1)[0],N=(0,c.D)(u.Vd,{onCompleted:function(n){var e=n.update_Compliance_by_pk.id;i&&i(e)}}),T=(0,o.Z)(N,1)[0],A=(e=(0,r.Z)(s().mark(function n(e){var i;return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=Z({form:e,id:t.id,user:a}),!t.id){n.next=6;break}return n.next=4,T({variables:i});case 4:n.next=8;break;case 6:return n.next=8,O({variables:i});case 8:case"end":return n.stop()}},n)})),function(n){return e.apply(this,arguments)}),k={control:w,errors:I,register:P};return(0,$.jsxs)(m.Z,{id:"offCanvasForm",handleSubmit:q(A),children:[(0,$.jsx)(p.Z,{label:"Name",children:(0,$.jsx)(y.Z,C(C({},k),{},{name:"name"}))}),(0,$.jsx)(h.l,C(C({},k),{},{label:"Category",name:"complianceCategorySelected",type:"complianceCategory"})),(0,$.jsx)(p.Z,{label:"Description",children:(0,$.jsx)(f.Z,C(C({},k),{},{name:"description",rows:2}))}),(0,$.jsx)(p.Z,{label:"Governing Body",children:(0,$.jsx)(y.Z,C(C({},k),{},{name:"governingBody"}))}),(0,$.jsx)(p.Z,{label:"Registration number example",children:(0,$.jsx)(y.Z,C(C({},k),{},{name:"regNumExample"}))}),(0,$.jsx)(p.Z,{label:"URL",children:(0,$.jsx)(y.Z,C(C({},k),{},{name:"url"}))}),(0,$.jsx)(x.Z,C(C({},k),{},{data:[{id:"hasInsuranceAmount",label:"Has Insurance Amount Attached"}],name:"hasInsuranceAmount"})),(0,$.jsx)(x.Z,C(C({},k),{},{data:[{id:"expectCertificate",label:"Expect Certificate"}],name:"expectCertificate"})),(0,$.jsx)(p.Z,{label:"Status",children:(0,$.jsx)(v.Z,C(C({},k),{},{name:"status",options:b.bg}))})]})}},7221:function(n,e,t){"use strict";t.d(e,{$i:function(){return u},G1:function(){return l},Vd:function(){return m},gO:function(){return d}});var i,r,o,a,s=t(71383),c=t(75063),u=(0,c.Ps)(i||(i=(0,s.Z)(["\n  query GetCompliace($id: Int!) {\n    compliance: Compliance_by_pk(id: $id) {\n      id\n      name\n      url\n      regNumExample\n      status\n      type\n      governingBody\n      hasInsuranceAmount\n      description\n      createdAt\n      media: Media {\n        id\n        medium: Medium {\n          id\n          category\n          filename\n          meta\n          type\n        }\n      }\n      Compliance_Entities {\n        Location {\n          id\n          name\n          status\n        }\n        Account {\n          id\n          name\n          type\n        }\n      }\n    }\n  }\n"]))),l=(0,c.Ps)(r||(r=(0,s.Z)(['\n  query GetCompliances(\n    $limit: Int\n    $offset: Int\n    $q: String\n    $orderBy: Compliance_order_by!\n    $status: String\n    $type: String\n  ) {\n    compliance: Compliance(\n      limit: $limit\n      offset: $offset\n      where: { name: { _ilike: $q }, status: { _eq: $status }, type: { _eq: $type } }\n      order_by: [$orderBy]\n    ) {\n      id\n      name\n      description\n      status\n      regNumExample\n      hasInsuranceAmount\n      expectCertificate\n      url\n      governingBody\n      createdAt\n      category: Category {\n        id\n        name\n      }\n      questions: Taxonomies {\n        id\n      }\n      media: Media(where: { entity: { _eq: "Compliance" } }) {\n        mediaId\n      }\n    }\n    meta: Compliance_aggregate(\n      where: { name: { _ilike: $q }, status: { _eq: $status }, type: { _eq: $type } }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']))),d=(0,c.Ps)(o||(o=(0,s.Z)(["\n  mutation AddCompliance($objects: [Compliance_insert_input!]!) {\n    insert_Compliance(objects: $objects) {\n      returning {\n        id\n      }\n    }\n  }\n"]))),m=(0,c.Ps)(a||(a=(0,s.Z)(["\n  mutation UpdateCompliance($id: Int!, $changes: Compliance_set_input) {\n    update_Compliance_by_pk(pk_columns: { id: $id }, _set: $changes) {\n      id\n    }\n  }\n"])))},46165:function(n,e,t){"use strict";t.d(e,{g:function(){return A}});var i,r=t(67294),o=t(10367),a=t(78289),s=t(74147),c=t(9270),u=t(62140),l=t(65414),d=t(55843),m=t(45481),p=t(97303),y=t(33006),f=t(40826),x=t(55171),v=t.n(x),g=t(6812),b=t(71383),h=(0,t(75063).Ps)(i||(i=(0,b.Z)(["\n  query GetLog($entityId: bigint!, $entityName: String!) {\n    activity: audit_Activity(\n      where: { _and: [{ entityid: { _eq: $entityId } }, { entity: { _eq: $entityName } }] }\n    ) {\n      eventId\n      userId\n      user: User {\n        fullName\n      }\n      sessionUserName\n      transactionStart\n      statementStart\n      applicationName\n      clientAddr\n      clientPort\n      action\n      changedFields\n    }\n  }\n"]))),_=t(58965),j=t(26186),Z=t(86036),$=t(49501),w={U:"Update",I:"Insert",D:"Delete"},C=t(85893),I=function(n){var e=n.entityId,t=n.entityName,i=(0,g.a)(h,{variables:{entityId:e,entityName:t}}),r=i.loading,o=i.data,a=(o=void 0===o?{activity:[]}:o).activity;return!r&&(0,C.jsx)(c.Z,{children:(0,C.jsx)(u.Z,{md:12,children:a.map(function(n){var e,t;return(0,C.jsxs)(_.Z,{title:"".concat((null===(e=n.user)||void 0===e?void 0:e.fullName)||"Backend"," - ").concat((0,j.Z)(n.transactionStart,!0)),children:[(0,C.jsx)(Z.Z,{content:"Action:",text:w[t=n.action]||"-"}),(0,C.jsx)(d.Z,{}),(0,C.jsx)($.Z,{label:"Changed:",children:(0,C.jsx)(v(),{collapsed:!0,displayDataTypes:!1,src:n.changedFields||"-"})}),(0,C.jsx)(Z.Z,{content:"Application:",text:n.applicationName||"-"})]},n.userId)})})})},q=t(99229),P=t(93673),S=t(825),O=t(86559),N=t(72936),T=function(n){var e,t,i,r,o=n.job,a=n.numberPrefix,s=n.numberSuffix,c=(0,N.x)().hasRole;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Z.Z,{content:"Type",text:(null===(e=P.x.find(function(n){return n.value===o.type}))||void 0===e?void 0:e.text)||"-"}),(0,C.jsx)(Z.Z,{content:"Order",text:(0,C.jsx)(S.D,{id:o.id,number:o.number,invoiceNumber:null==o?void 0:null===(t=o.invoices)||void 0===t?void 0:null===(i=t[0])||void 0===i?void 0:i.invoiceNumber,type:o.type,numberPrefix:a,numberSuffix:s,isQuote:o.quoted})}),c("admin")&&o.source&&(0,C.jsx)(Z.Z,{content:"Source",text:null===(r=O.Y.find(function(n){return n.value===o.source}))||void 0===r?void 0:r.text})]})};T.defaultProps={numberPrefix:"",numberSuffix:""};var A=function(n){var e=n.avatar,t=n.editable,i=n.entity,o=n.entityName,y=n.icons,f=n.job,x=n.linkTitleTo,v=n.log,g=n.numberPrefix,b=n.numberSuffix,h=n.prefix,_=(0,r.useContext)(a.Z),j=(0,r.useState)(e),Z=j[0],$=j[1],w=function(n){_.close(),null!=n&&n.filename?$("".concat("https://cleverly-media.s3.eu-west-2.amazonaws.com","/").concat(null==n?void 0:n.filename)):$(null)},P=function(){_.show({content:(0,C.jsx)(q.G,{category:"avatar",entity:o,entityId:null==i?void 0:i.id,filters:{category:"avatar"},limit:1,onMediaAdd:w,onMediaRemove:w,type:"image"}),title:"Avatar"})},S=function(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(B,{context:"primary",icon:"building"}),x?(0,C.jsx)(L,{border:!1,passHref:!0,to:x,children:null==i?void 0:i.name}):null==i?void 0:i.name]})},O=function(){_.show({content:(0,C.jsx)(I,{entityId:Number(null==v?void 0:v.entityId),entityName:null==v?void 0:v.entityName}),submit:!1,title:"Log Details",width:"50%"})};return(0,C.jsxs)(k,{children:[(0,C.jsx)(s.Z,{children:(0,C.jsxs)(c.Z,{children:[(0,C.jsx)(u.Z,{md:3,children:(0,C.jsx)(l.Z,{action:t?"Edit":null,actionClick:P,content:(null==i?void 0:i.name)||"test",context:"primary",gmail:null==i?void 0:i.email,src:Z})}),(0,C.jsxs)(u.Z,{md:9,children:[(0,C.jsx)(E,{content:(0,C.jsx)(S,{}),noMargin:!0}),(null==i?void 0:i.description)&&(0,C.jsx)(G,{content:null==i?void 0:i.description,noMargin:!0}),(null==i?void 0:i.website)&&(0,C.jsxs)(D,{href:null==i?void 0:i.website,rel:"nofollow noopener noreferrer",target:"_blank",children:[(0,C.jsx)(B,{context:"primary",icon:"window-maximize"}),"Visit website"]})]}),f&&(0,C.jsx)(u.Z,{md:12,children:(0,C.jsx)(T,{job:f,numberPrefix:g,numberSuffix:b})})]})}),(0,C.jsx)(d.Z,{marginTop:"sm"}),y&&(0,C.jsxs)(H,{children:[y.map(function(n){var e=n.icon,t=n.onClick,i=n.to;return(0,C.jsxs)("div",{children:[t&&(0,C.jsx)(z,{onClick:t,children:(0,C.jsx)(m.Z,{icon:e,prefix:h})}),i&&(0,C.jsx)(p.Z,{border:!1,passHref:!0,to:i,children:(0,C.jsx)(m.Z,{icon:e,prefix:h})})]},e)}),v&&(0,C.jsx)(z,{onClick:O,children:(0,C.jsx)(m.Z,{icon:"history",size:"lg"})})]})]})},k=o.ZP.div.withConfig({displayName:"profileHeader__StyledHeader",componentId:"sc-ssc7qm-0"})(["background-color:#fff;border:1px solid #eee;box-shadow:rgba(45,62,80,0.12) 0 1px 5px 0;margin-bottom:0.5rem;padding:1rem 0;"]),E=(0,o.ZP)(y.Z).withConfig({displayName:"profileHeader__StyledHeading",componentId:"sc-ssc7qm-1"})(["font-size:1rem;margin-top:0.5rem;"]),G=(0,o.ZP)(y.Z).withConfig({displayName:"profileHeader__StyledDescription",componentId:"sc-ssc7qm-2"})(["font-size:0.9rem;margin-top:0.5rem;"]),D=o.ZP.a.withConfig({displayName:"profileHeader__StyledLink",componentId:"sc-ssc7qm-3"})(["margin-bottom:1rem;"]),B=(0,o.ZP)(f.Z).withConfig({displayName:"profileHeader__StyledIcon",componentId:"sc-ssc7qm-4"})(["margin-right:0.5rem;"]),L=(0,o.ZP)(p.Z).withConfig({displayName:"profileHeader__StyledTitle",componentId:"sc-ssc7qm-5"})(["display:inline;"]),H=o.ZP.div.withConfig({displayName:"profileHeader__StyledIconContainer",componentId:"sc-ssc7qm-6"})(["display:flex;justify-content:center;"]),z=o.ZP.div.withConfig({displayName:"profileHeader__Click",componentId:"sc-ssc7qm-7"})(["cursor:pointer;"]);A.defaultProps={avatar:"",editable:!0,numberPrefix:"",numberSuffix:""}},88854:function(n,e,t){"use strict";t.d(e,{Im:function(){return m},RQ:function(){return f},fC:function(){return x},mW:function(){return p},uY:function(){return v},ze:function(){return y}});var i,r,o,a,s,c,u,l=t(71383),d=t(75063),m=(0,d.Ps)(i||(i=(0,l.Z)(['\n  query GetTaxonomys(\n    $limit: Int\n    $offset: Int\n    $q: String\n    $orderBy: Taxonomy_order_by!\n    $status: String = "active"\n    $type: String\n    $typeGroup: String\n    $parentId: Int\n    $fetchGroup: Boolean! = true\n    $id: Int\n    $isGroup: Boolean = false\n  ) {\n    taxonomy: Taxonomy(\n      limit: $limit\n      offset: $offset\n      where: {\n        name: { _ilike: $q }\n        status: { _eq: $status }\n        type: { _eq: $type }\n        parentId: { _eq: $parentId }\n        id: { _eq: $id }\n        isGroup: { _eq: $isGroup }\n      }\n      order_by: [$orderBy]\n    ) {\n      options: Taxonomies(\n        where: {\n          type: { _eq: $type }\n          name: { _ilike: $q }\n          id: { _eq: $id }\n          status: { _eq: "active" }\n        }\n        order_by: { name: asc }\n      ) {\n        value: id\n        label: name\n\n        childs: Taxonomies(order_by: { id: asc }, where: { status: { _eq: "active" } }) {\n          taxonomyId: id\n          name\n          type\n          meta\n          status\n        }\n      }\n      id\n      name\n      type\n      status\n      parentId\n      createdAt\n      meta\n      parent: Parent {\n        id\n        name\n        type\n      }\n      childs: Taxonomies(order_by: { id: asc }, where: { status: { _eq: "active" } }) {\n        taxonomyId: id\n        name\n        type\n        meta\n        status\n      }\n      jobs: Taxonomy_Entities_aggregate(\n        where: { Taxonomy: { type: { _eq: "jobTags" } }, entity: { _eq: "Job" } }\n      ) {\n        aggregate {\n          count\n        }\n      }\n    }\n    meta: Taxonomy_aggregate(\n      where: {\n        name: { _ilike: $q }\n        status: { _eq: $status }\n        type: { _eq: $type }\n        parentId: { _eq: $parentId }\n        id: { _eq: $id }\n        isGroup: { _eq: $isGroup }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n    taxonomyGroup: Taxonomy(where: { isGroup: { _eq: true }, type: { _eq: $typeGroup } })\n      @include(if: $fetchGroup) {\n      value: id\n      text: name\n    }\n  }\n'])));(0,d.Ps)(r||(r=(0,l.Z)(["\n  query GetTaxonomy($id: Int!) {\n    taxonomy: Taxonomy_by_pk(id: $id) {\n      id\n      name\n      type\n      status\n      parentId\n      createdAt\n      meta\n    }\n  }\n"])));var p=(0,d.Ps)(o||(o=(0,l.Z)(["\n  mutation AddTaxonomy($objects: [Taxonomy_insert_input!]!) {\n    insert_Taxonomy(objects: $objects) {\n      returning {\n        id\n        type\n      }\n    }\n  }\n"]))),y=(0,d.Ps)(a||(a=(0,l.Z)(["\n  mutation UpdateTaxonomy($id: Int!, $changes: Taxonomy_set_input) {\n    update_Taxonomy_by_pk(pk_columns: { id: $id }, _set: $changes) {\n      id\n      type\n    }\n  }\n"]))),f=(0,d.Ps)(s||(s=(0,l.Z)(["\n  query GeTaxonomyWithEntities($type: String!, $entity: String!, $entityId: Int!) {\n    questions: Taxonomy(where: { type: { _eq: $type } }) {\n      id\n      meta\n      name\n      status\n      taxonomy_entity: Taxonomy_Entities(\n        where: { entityId: { _eq: $entityId }, entity: { _eq: $entity } }\n      ) {\n        comments\n      }\n    }\n  }\n"]))),x=(0,d.Ps)(c||(c=(0,l.Z)(["\n  mutation InsertTaxonomyEntity(\n    $entity: String!\n    $entityId: Int!\n    $questions: [Taxonomy_Entity_insert_input!]!\n    $objectStatusLog: [StatusLog_insert_input!]!\n    $hasStatusLog: Boolean!\n  ) {\n    delete_Taxonomy_Entity(where: { entityId: { _eq: $entityId }, entity: { _eq: $entity } }) {\n      returning {\n        id\n      }\n    }\n    insert_Taxonomy_Entity(objects: $questions) {\n      returning {\n        id\n      }\n    }\n\n    insert_StatusLog(objects: $objectStatusLog) @include(if: $hasStatusLog) {\n      returning {\n        id\n      }\n    }\n  }\n"]))),v=(0,d.Ps)(u||(u=(0,l.Z)(["\n  query GetSLAsForJobManage {\n    slas: SLA(order_by: { name: asc }) {\n      id\n      label: name\n      notes\n    }\n  }\n"])))},27940:function(n,e,t){"use strict";t.d(e,{l:function(){return f}});var i=t(59499),r=t(4730),o=t(67294),a=t(6812),s=t(88854),c=t(49501),u=t(84043),l=t(85893),d=["control","errors","label","name","register","type","filters"];function m(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,i)}return t}function p(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?m(Object(t),!0).forEach(function(e){(0,i.Z)(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}var y=function(n,e){var t,i,r,o=!0;return(null===(t=n.errors[n.name])||void 0===t?void 0:t.message)!==(null===(i=e.errors[e.name])||void 0===i?void 0:i.message)&&(o=!1),["name","type"].forEach(function(t){n[t]!==e[t]&&(o=!1)}),o},f=(0,o.memo)(function(n){var e,t,i,o=n.control,m=n.errors,y=n.label,f=n.name,x=n.register,v=n.type,g=n.filters,b=(0,r.Z)(n,d),h=(i=(t=void 0===(t=(0,a.a)(s.Im,{variables:p(p({isGroup:"assetCategory"===v},g),{},{orderBy:{name:"asc"},type:v})}).data)?{taxonomy:[]}:t).taxonomy,"assetCategory"===v?i.map(function(n){return{label:n.name,options:n.options,childs:n.childs,meta:n.meta}}):i.map(function(n){return{label:n.name,value:n.id,childs:n.childs,meta:n.meta}}));return(0,l.jsx)(c.Z,{id:f,label:y,children:(0,l.jsx)(u.Z,p(p({},{control:o,errors:m,register:x}),{},{cacheOptions:!0,isClearable:!0,options:h,name:f},b))})},y);f.defaultProps={filters:{}}},93673:function(n,e,t){"use strict";t.d(e,{x:function(){return i}});var i=[{text:"Reactive",value:"reactive",context:"#2EE6CA"},{text:"Planned Maintenance",value:"ppm",context:"#D67EFF"},{text:"Quote",value:"quote",context:"#7D7"},{text:"Compliance",value:"cppm",context:"#CC7429"}]},86559:function(n,e,t){"use strict";t.d(e,{Y:function(){return i}});var i=[{text:"Select...",value:""},{text:"Call",value:"call"},{text:"Email",value:"email"},{text:"Portal",value:"portal"},{text:"Other",value:"other"}]},26380:function(n,e,t){"use strict";t.d(e,{bg:function(){return i}});var i=[{text:"Status",value:""},{text:"Active",value:"active"},{text:"Inactive",value:"inactive"}]},62335:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return w}});var i=t(19076),r=t(11163),o=t(6812),a=t(7221),s=t(62466),c=t(9270),u=t(62140),l=t(58965),d=t(16540),m=t(85893),p=function(n){var e=n.summary,t=n.columns,i=n.rows;return(0,m.jsx)(l.Z,{open:!0,title:e,children:(0,m.jsx)(d.Z,{columns:t,rows:i})})},y=t(67294),f=t(78289),x=t(16551),v=t(77439),g=t(86036),b=t(26186),h=t(54224),_=function(n){var e=n.refetch,t=n.compliance,i=(0,y.useContext)(f.Z),r=function(){e(),i.close()},o=function(n){i.show({content:(0,m.jsx)(h.z,{defaultValues:t,onSuccess:r}),title:t.id?"Edit":"Add Compliance"}),n.stopPropagation()},a=function(){return(0,m.jsx)(x.Z,{children:(0,m.jsx)(v.Z,{context:"secondary",content:"Edit",onClick:o,size:"sm"})})};return(0,m.jsxs)(l.Z,{toolbar:(0,m.jsx)(a,{}),open:!0,title:"Details",children:[(0,m.jsx)(g.Z,{content:"Name",text:t.name}),(0,m.jsx)(g.Z,{content:"Example Reg Number",text:t.regNumExample?t.regNumExample:"-"}),(0,m.jsx)(g.Z,{content:"Governing Body",text:t.governingBody?t.governingBody:"-"}),(0,m.jsx)(g.Z,{content:"Expect Certificate",text:t.expectCertificate?"Yes":"No"}),(0,m.jsx)(g.Z,{content:"Has Insurance Amount",text:t.hasInsuranceAmount?"Yes":"No"}),(0,m.jsx)(g.Z,{content:"Status",text:t.status?t.status:"-"}),(0,m.jsx)(g.Z,{content:"Type",text:t.type?t.type:"-"}),(0,m.jsx)(g.Z,{content:"Date Added",text:(0,b.Z)(t.createdAt)?(0,b.Z)(t.createdAt):"-"})]})},j=t(53344),Z=t(46165),$=function(){var n,e,t=(0,r.useRouter)().query,i=(0,o.a)(a.$i,{variables:{id:t.id}}),l=i.loading,d=i.data,y=(d=void 0===d?{compliance:[]}:d).compliance,f=i.refetch,x=y.Compliance_Entities,v=y.id,g=y.name,b=y.url,h=[{hidden:!0},{formatter:(0,s.Z)("/dashboard","id","name",!0),text:"Account"},{text:"Type"}],$=[{hidden:!0},{formatter:(0,s.Z)("/dashboard","id","name",!0),text:"Account"},{text:"Status"}];return l?null:(0,m.jsxs)(c.Z,{children:[(0,m.jsxs)(u.Z,{md:3,children:[(0,m.jsx)(Z.g,{avatar:(0,j.Q)(y.media),entity:{id:v,name:g,website:b},entityName:"Compliance",prefix:"/dashboard/compliance/"}),(0,m.jsx)(_,{refetch:f,compliance:y})]}),(0,m.jsx)(u.Z,{md:3,children:(0,m.jsx)(p,{summary:"Accounts",columns:h,rows:(n=[],Object.keys(x).map(function(e,t){var i,r,o;return n.push({id:null===(i=x[e].Account)||void 0===i?void 0:i.id,name:null===(r=x[e].Account)||void 0===r?void 0:r.name,type:null===(o=x[e].Account)||void 0===o?void 0:o.type})}),n)})}),(0,m.jsx)(u.Z,{md:3,children:(0,m.jsx)(p,{summary:"Properties",columns:$,rows:(e=[],Object.keys(x).map(function(n,t){var i,r,o;return e.push({id:null===(i=x[n].Location)||void 0===i?void 0:i.id,name:null===(r=x[n].Location)||void 0===r?void 0:r.name,status:null===(o=x[n].Location)||void 0===o?void 0:o.status})}),e)})})]})},w=function(){return(0,m.jsx)(i.Z,{View:(0,m.jsx)($,{})})}},78216:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/compliance/view",function(){return t(62335)}])}},function(n){n.O(0,[3662,367,2283,212,8890,619,1100,1336,4135,5020,6043,1564,4244,5370,3911,3776,6540,4046,2797,9241,653,1207,6060,7725,9229,9774,2888,179],function(){return n(n.s=78216)}),_N_E=n.O()}]);